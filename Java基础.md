# Javaé«˜çº§

------

## å…³äºJavaçš„ç±»

### å±æ€§

#### æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡

* **æ–¹æ³•ä½“å¤–ï¼Œç±»ä½“å†…**å£°æ˜çš„å˜é‡ç§°ä¸ºæˆå‘˜å˜é‡
* **æ–¹æ³•ä½“å†…éƒ¨**å£°æ˜çš„å˜é‡ç§°ä¸ºå±€éƒ¨å˜é‡

![Image](C:\Users\79260\AppData\Local\Temp\Image.png)

* å®ä¾‹å˜é‡ï¼šåœ¨ç±»ä¸­å®ä¾‹åŒ–æˆå¯¹è±¡åæ‰å¯ä»¥ä½¿ç”¨
* ç±»å˜é‡ï¼ˆé™æ€å˜é‡ï¼‰ï¼šè¿™æ ·çš„å˜é‡**ä¸éœ€è¦å®ä¾‹åŒ–**æˆå¯¹è±¡å°±å¯ä»¥ä½¿ç”¨ï¼Œç›´æ¥å¯ä»¥é€šè¿‡â€**ç±»å.å±æ€§**â€œçš„æ–¹å¼è°ƒç”¨

![image-20210105203610229](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105203610229.png)

### æ–¹æ³•

#### ç±»çš„è®¿é—®æœºåˆ¶

* åœ¨**ä¸€ä¸ªç±»**ä¸­çš„è®¿é—®æœºåˆ¶ï¼šç±»ä¸­çš„æ–¹æ³•å¯ä»¥ç›´æ¥è®¿é—®ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼ˆä¾‹å¤–ï¼šstaticæ–¹æ³•ä¸èƒ½è®¿é—®éstaticæˆå‘˜å˜é‡ï¼‰
* åœ¨**ä¸åŒç±»**ä¸­çš„è®¿é—®æœºåˆ¶ï¼šå…ˆåˆ›å»ºè¦è®¿é—®ç±»çš„å¯¹è±¡ï¼Œå†ç”¨å¯¹è±¡è®¿é—®ç±»ä¸­å®šä¹‰çš„æˆå‘˜ã€‚

#### å‚æ•°ä¼ é€’

Javaæ–¹æ³•çš„å‚æ•°ä¼ é€’åªæœ‰ä¸€ç§æ–¹å¼ â€”â€” **å€¼ä¼ é€’**ï¼ˆå‰¯æœ¬ä¼ å…¥æ–¹æ³•ï¼Œæœ¬èº«ä¸å—å½±å“ï¼‰

![image-20210105203838535](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105203838535.png)

* å¦‚æœæ–¹æ³•çš„å½¢å‚æ˜¯**åŸºæœ¬æ•°æ®ç±»å‹**ï¼Œé‚£ä¹ˆå®å‚å‘å½¢å‚ä¼ é€’å‚æ•°æ—¶ï¼Œå°±æ˜¯ç›´æ¥ä¼ é€’å€¼ï¼ŒæŠŠ**å®å‚çš„å€¼**å¤åˆ¶ç»™å½¢å‚ã€‚
* å¦‚æœæ–¹æ³•çš„å½¢å‚æ˜¯**å¯¹è±¡**ï¼Œé‚£ä¹ˆå®å‚å‘å½¢å‚ä¼ é€’å‚æ•°æ—¶ï¼Œä¹Ÿæ˜¯æŠŠå€¼ç»™å½¢å‚ï¼Œè¿™ä¸ªå€¼æ˜¯å®å‚åœ¨æ ˆå†…å­˜ä¸­çš„å€¼ï¼Œä¹Ÿå°±æ˜¯**å¼•ç”¨å¯¹è±¡åœ¨å †å†…å­˜ä¸­çš„åœ°å€**ã€‚

#### this & super

##### this

> **thisè¡¨ç¤ºå½“å‰å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨ç±»çš„å±æ€§ã€æ–¹æ³•å’Œæ„é€ å™¨**

* åœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ï¼Œå³è¿™ä¸ª**æ–¹æ³•æ‰€å±å¯¹è±¡çš„å¼•ç”¨**
* åœ¨æ„é€ å™¨å†…éƒ¨ä½¿ç”¨ï¼Œè¡¨ç¤º**è¯¥æ„é€ å™¨æ­£åœ¨åˆå§‹åŒ–çš„å¯¹è±¡**

**â˜†æ³¨æ„**

* è°ƒç”¨this()å¿…é¡»æ”¾åœ¨æ„é€ å™¨çš„é¦–è¡Œ
* æ„é€ å™¨ä¸èƒ½è°ƒç”¨æ„é€ å™¨è‡ªå·±ï¼Œæ¯”å¦‚åœ¨personï¼ˆï¼‰ä¸­å†™thisï¼ˆï¼‰ä¿è¯è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ å™¨ä¸æ˜¯ç”¨thisçš„

```java
public class Person{
    public Person(){
    };
    
    public Person(int age){
        this.age = age;
    };

    public Person(String name){
        this();    //ç­‰åŒäºè°ƒç”¨äº†Personï¼ˆï¼‰
        this.name = name;
    };

    public Person(int age,String name){
        this.age = age;  //å½“å‰è¿™ä¸ªå¯¹è±¡çš„age.å‰é¢æ˜¯æˆå‘˜å˜é‡ï¼Œåé¢æ˜¯å½¢å‚
        this.name = name;
    }
    int age;
    String name;
    
    public void setName1(String name){
        this(1);    //ç­‰åŒäºè°ƒç”¨äº†Person(int age)
        this.name = name;
    }

    public void setName2String name(){
        this.setName1(name);
    } 
    
    public void showName(){
        System.out.println("Name is " + this.name);    
    }

}
```

##### super

åœ¨Javaç±»ä¸­ä½¿ç”¨superæ¥è°ƒç”¨çˆ¶ç±»ä¸­çš„æŒ‡å®šæ“ä½œ

* superå¯ç”¨äºè®¿é—®çˆ¶ç±»ä¸­å®šä¹‰çš„å±æ€§
* superå¯ç”¨äºè°ƒç”¨çˆ¶ç±»ä¸­å®šä¹‰çš„æˆå‘˜æ–¹æ³•
* superå¯ç”¨äºåœ¨å­ç±»æ„é€ æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨

**å°¤å…¶å½“å­çˆ¶ç±»å‡ºç°åŒåæˆå‘˜æ—¶ï¼Œå¯ä»¥ç”¨superè¿›è¡ŒåŒºåˆ†**

è°ƒç”¨çˆ¶ç±»çš„æ„é€ å™¨ï¼š

* å­ç±»ä¸­æ‰€æœ‰çš„æ„é€ å™¨**é»˜è®¤**éƒ½ä¼šè®¿é—®çˆ¶ç±»ä¸­**ç©ºå‚æ•°**çš„æ„é€ å™¨
* å½“çˆ¶ç±»ä¸­æ²¡æœ‰ç©ºå‚æ•°çš„æ„é€ å™¨æ—¶ï¼Œå­ç±»çš„æ„é€ å™¨å¿…é¡»**é€šè¿‡thisï¼ˆå‚æ•°åˆ—è¡¨ï¼‰æˆ–è€…superï¼ˆå‚æ•°åˆ—è¡¨ï¼‰è¯­å¥æŒ‡å®šè°ƒç”¨æœ¬ç±»æˆ–è€…çˆ¶ç±»ä¸­ç›¸åº”çš„æ„é€ å™¨**ï¼Œä¸”å¿…é¡»æ”¾åœ¨æ„é€ å™¨çš„ç¬¬ä¸€è¡Œ
* å¦‚æœå­ç±»æ„é€ å™¨ä¸­æ—¢æœªæ˜¾å¼è°ƒç”¨çˆ¶ç±»æˆ–æœ¬ç±»çš„æ„é€ å™¨ï¼Œä¸”çˆ¶ç±»ä¸­åˆæ²¡æœ‰æ— å‚çš„æ„é€ å™¨ï¼Œåˆ™**ç¼–è¯‘å‡ºé”™**

```java
//è¯¥é»˜è®¤è°ƒç”¨ç±»ä¼¼äº
public class Kids entends ManKind{
    public Kids(){
        super();
    }
}
```



##### thisä¸superçš„åŒºåˆ«

| No.  | åŒºåˆ«ç‚¹     | this                                           | super                                    |
| ---- | ---------- | ---------------------------------------------- | ---------------------------------------- |
| 1    | è®¿é—®å±æ€§   | è®¿é—®æœ¬ç±»ä¸­çš„å±æ€§ï¼Œ**è‹¥æ²¡æœ‰åˆ™ä»çˆ¶ç±»ä¸­ç»§ç»­æŸ¥æ‰¾** | è®¿é—®çˆ¶ç±»ä¸­çš„å±æ€§                         |
| 2    | è°ƒç”¨æ–¹æ³•   | è®¿é—®æœ¬ç±»ä¸­çš„æ–¹æ³•                               | ç›´æ¥è®¿é—®çˆ¶ç±»ä¸­çš„æ–¹æ³•                     |
| 3    | è°ƒç”¨æ„é€ å™¨ | è°ƒç”¨æœ¬ç±»æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨æ„é€ å™¨çš„é¦–è¡Œ           | è°ƒç”¨çˆ¶ç±»æ„é€ å™¨ï¼Œå¿…é¡»æ”¾åœ¨å­ç±»æ„é€ å™¨çš„é¦–è¡Œ |
| 4    | ç‰¹æ®Š       | è¡¨ç¤ºå½“å‰å¯¹è±¡                                   | æ— æ­¤æ¦‚å¿µ                                 |



## Javaç¼–è¯‘è¿‡ç¨‹

å¤§è‡´è¿‡ç¨‹ï¼šå‘äººå‘˜ç¼–å†™Javaä»£ç (.javaæ–‡ä»¶)ï¼Œç„¶åå°†ä¹‹ç¼–è¯‘æˆå­—èŠ‚ç (.classæ–‡ä»¶)ï¼Œå†ç„¶åå­—èŠ‚ç è¢«è£…å…¥å†…å­˜ï¼Œä¸€æ—¦å­—èŠ‚ç è¿›å…¥è™šæ‹Ÿæœºï¼Œå®ƒå°±ä¼šè¢«è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œï¼Œæˆ–è€…æ˜¯è¢«å³æ—¶ä»£ç å‘ç”Ÿå™¨æœ‰é€‰æ‹©çš„è½¬æ¢æˆæœºå™¨ç æ‰§è¡Œã€‚

ï¼ˆ1ï¼‰Javaä»£ç ç¼–è¯‘ï¼ˆJavaç¼–è¯‘å™¨ï¼‰

![image-20210105204717446](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105204717446.png)

ï¼ˆ2ï¼‰Javaå­—èŠ‚ç çš„æ‰§è¡Œï¼ˆJVMæ‰§è¡Œå¼•æ“ï¼‰

![image-20210105204807771](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105204807771.png)

> å‚è€ƒï¼šhttps://www.cnblogs.com/fengyiliang/p/10030092.html

## JavaBean

> JavaBeanæ˜¯ä¸€ç§Javaè¯­è¨€å†™æˆçš„å¯é‡ç”¨ç»„ä»¶ã€‚

æ‰€è°“javaBeanï¼Œæ˜¯æŒ‡ç¬¦åˆå¦‚ä¸‹æ ‡å‡†çš„Javaç±»ï¼š

* ç±»æ˜¯å…¬å…±çš„
* æœ‰ä¸€ä¸ªæ— å‚çš„å…¬å…±çš„æ„é€ å™¨
* æœ‰å±æ€§ï¼Œå±æ€§ä¸€èˆ¬æ˜¯ç§æœ‰çš„ï¼Œä¸”æœ‰å¯¹åº”çš„getã€setæ–¹æ³•

ç”¨æˆ·å¯ä»¥ä½¿ç”¨JavaBeanå°†åŠŸèƒ½ã€å¤„ç†ã€å€¼ã€æ•°æ®åº“è®¿é—®å’Œå…¶ä»–ä»»ä½•å¯ä»¥ç”¨javaä»£ç åˆ›é€ çš„å¯¹è±¡è¿›è¡Œæ‰“åŒ…ï¼Œå¹¶ä¸”å…¶ä»–çš„å¼€å‘è€…å¯ä»¥é€šè¿‡å†…éƒ¨çš„JSPé¡µé¢ã€Servletã€å…¶ä»–JavaBeanã€appletç¨‹åºæˆ–è€…åº”ç”¨æ¥ä½¿ç”¨è¿™äº›å¯¹è±¡ã€‚ç”¨æˆ·å¯ä»¥è®¤ä¸ºJavaBeanæä¾›äº†ä¸€ç§éšæ—¶éšåœ°çš„å¤åˆ¶å’Œç²˜è´´çš„åŠŸèƒ½ï¼Œè€Œä¸ç”¨å…³å¿ƒä»»ä½•æ”¹å˜ã€‚ï¼ˆâ˜†ä¸ç ´åå‘åå…¼å®¹æ€§ï¼‰

![image-20210105205158004](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105205158004.png)

**å½¢è±¡è§£é‡Šï¼š** https://www.zhihu.com/question/19773379

## ç»§æ‰¿

![image-20210105205341475](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105205341475.png)

```java
class Subclass extends Superclass{}
```

â˜† æŠŠå…±æ€§çš„å†…å®¹æŠ½å‡ºï¼Œå½¢æˆçˆ¶ç±»ï¼Œå®é™…éœ€æ±‚çš„å­ç±»åœ¨ç»§æ‰¿çˆ¶ç±»çš„åŸºç¡€ä¸Šå†™è‡ªå·±ç‰¹æœ‰çš„ä»£ç ï¼š

* æé«˜ä»£ç çš„å¤ç”¨æ€§
* ä½¿ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿå…³ç³»ï¼Œæä¾›äº†å¤šæ€çš„å‰æ
* ä¸è¦åªæ˜¯ä¸ºäº†è·å–æŸä¸ªåŠŸèƒ½è€Œå»ç»§æ‰¿ï¼Œè¦æœ‰é€»è¾‘å…³ç³»ï¼ˆç‹—ç»§æ‰¿äººç±»ï¼‰

æ³¨æ„ï¼š

* å­ç±»ç»§æ‰¿çˆ¶ç±»çš„å±æ€§ä¸æ–¹æ³•ï¼Œä½†ä¸èƒ½ç›´æ¥è®¿é—®ç§æœ‰çš„ï¼ˆprivateï¼‰
* Java**åªæ”¯æŒå•ç»§æ‰¿**ï¼Œä¸å…è®¸å¤šé‡ç»§æ‰¿
  * ä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»
  * ä¸€ä¸ªçˆ¶ç±»å¯ä»¥æ´¾ç”Ÿå¤šä¸ªå­ç±»



## å°è£…

> å¯¹ä¸èƒ½è®©è°ƒç”¨è€…éšæ„ä½¿ç”¨çš„å±æ€§åšå°è£…å’Œéšè—

æ–¹æ³•ï¼š

* åˆ©ç”¨**private**å…³é”®å­—ï¼ŒæŠŠ**å±æ€§å£°æ˜ä¸ºç§æœ‰çš„**
* é€šè¿‡ç¼–å†™publicç±»å‹çš„setXxx()å’ŒgetXxx()æ–¹æ³•æ¥è®¾ç½®å±æ€§å’Œè·å–å±æ€§

```java
public class Student {
       private int age;

       public int getAge() {
              return age;
       }
       
       public void setAge(int i) {
              if(i<=0) {
                     System.out.println("é”™è¯¯è¾“å…¥");
              }
              else {
                     age = i;
                     System.out.println("å¹´é¾„ä¸º"+age);
              }
       }
}
```



## æ„é€ å™¨

```java
ä¿®é¥°ç¬¦ ç±»åï¼ˆå‚æ•°åˆ—è¡¨ï¼‰{
    åˆå§‹åŒ–è¯­å¥
}
```

â˜† æ ¹æ®å‚æ•°ä¸åŒï¼Œæ„é€ å™¨å¯ä»¥åˆ†ä¸ºå¦‚ä¸‹ä¸¤ç±»ï¼š

* éšå¼æ— å‚æ„é€ å™¨ï¼ˆç³»ç»Ÿé»˜è®¤æä¾›ï¼‰
* æ˜¾å¼å®šä¹‰ä¸€ä¸ªæˆ–å¤šä¸ªæ„é€ å™¨

â˜† æ³¨æ„ï¼š

* javaè¯­è¨€ä¸­ï¼Œæ¯ä¸ªç±»éƒ½è‡³å°‘æœ‰ä¸€ä¸ªæ„é€ å™¨
* é»˜è®¤æ„é€ å™¨çš„ä¿®é¥°ç¬¦ä¸æ‰€å±ç±»çš„ä¿®é¥°ç¬¦ä¸€è‡´
* ä¸€æ—¦æ˜¾å¼å®šä¹‰äº†æ„é€ å™¨ï¼Œåˆ™ç³»ç»Ÿä¸å†æä¾›é»˜è®¤æ„é€ å™¨
* ä¸€ä¸ªç±»å¯ä»¥åˆ›å»ºå¤šä¸ªé‡è½½çš„æ„é€ å™¨
  * æ–¹ä¾¿è°ƒç”¨ï¼Œå¯ä»¥çµæ´»åˆ›å»ºå‡ºä¸åŒéœ€è¦çš„å¯¹è±¡
  * é‡è½½å¤šä¸ªæ„é€ æ–¹æ³•å®é™…ä¸Šå°±æ˜¯ç»™äº†ä¸åŒçš„åˆå§‹åŒ–æ¨¡æ¿
* **çˆ¶ç±»çš„æ„é€ å™¨ä¸å¯è¢«å­ç±»ç»§æ‰¿**

## ä¿®é¥°ç¬¦

> Javaæƒé™ä¿®é¥°ç¬¦ç½®äºç±»çš„æˆå‘˜é¡¶ä»¥å‰ï¼Œç”¨æ¥é™å®šå¯¹è±¡å¯¹è¯¥ç±»æˆå‘˜çš„è®¿é—®æƒé™

| ä¿®é¥°ç¬¦    | ç±»å†…éƒ¨ | åŒä¸€ä¸ªåŒ… | å­ç±» | ä»»ä½•åœ°æ–¹ |
| --------- | ------ | -------- | ---- | -------- |
| private   | Yes    |          |      |          |
| ï¼ˆç¼ºçœï¼‰  | Yes    | Yes      |      |          |
| protected | Yes    | Yes      | Yes  |          |
| public    | Yes    | Yes      | Yes  | Yes      |

â˜† å¯¹äº**classçš„æƒé™ä¿®é¥°**åªå¯ä»¥ç”¨publicå’Œdefaultï¼ˆç¼ºçœï¼‰

* publicç±»å¯ä»¥åœ¨ä»»æ„åœ°æ–¹è¢«è®¿é—®
* defaultç±»åªå¯ä»¥è¢«**åŒä¸€ä¸ªåŒ…å†…éƒ¨çš„ç±»è®¿é—®**

â˜† åŒä¸€ä¸ªjavaæ–‡ä»¶ä¸­å†™å¤šä¸ªçš„classï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªå¯ç”¨publicçš„ï¼Œå…¶ä»–çš„classåªèƒ½ç”¨defaultï¼ˆç¼ºçœçš„ï¼‰

## å…³é”®å­—

### final

> åœ¨Javaä¸­å£°æ˜ç±»ã€å±æ€§å’Œæ–¹æ³•æ—¶ï¼Œå¯ä½¿ç”¨å…³é”®å­—finalæ¥ä¿®é¥°,è¡¨ç¤ºâ€œæœ€ç»ˆï¼Œä¸å¯æ”¹å˜çš„â€

* finalæ ‡è®°çš„ç±»**ä¸èƒ½è¢«ç»§æ‰¿**ã€‚
  * æé«˜å®‰å…¨æ€§ï¼Œæé«˜ç¨‹åºçš„å¯è¯»æ€§ã€‚
* finalæ ‡è®°çš„**æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™**ã€‚
  * æ¯”å¦‚Objectç±»ä¸­çš„getClass()
* final**æ ‡è®°çš„å˜é‡(æˆå‘˜å˜é‡æˆ–å±€éƒ¨å˜é‡)å³ç§°ä¸ºå¸¸é‡**ã€‚
  * åç§°å¤§å†™ï¼Œä¸”åªèƒ½è¢«èµ‹å€¼ä¸€æ¬¡ï¼Œä¸èƒ½å†æ”¹å˜
  * finalä¿®é¥°çš„å˜é‡æ˜¯å¸¸é‡æ‰€ä»¥å¿…é¡»æ˜¾ç¤ºèµ‹å€¼
  * finalå’Œstaticä¸€èµ·ä¿®é¥°ï¼Œå°±æ˜¯å…¨å±€å¸¸é‡

```java
final int nun2 = 200;
```

â˜† å¯¹äºåŸºæœ¬ç±»å‹æ¥è¯´ï¼Œä¸å¯æ”¹å˜è¯´çš„æ˜¯å˜é‡ä¸­çš„**æ•°æ®ä¸å¯æ”¹å˜**

â˜† å¯¹äºå¼•ç”¨ç±»å‹æ¥è¯´ï¼Œä¸å¯æ”¹å˜è¯´çš„æ˜¯å˜é‡å½“ä¸­çš„**åœ°å€å€¼ä¸å¯æ”¹å˜**

```java
final Student stu2 = new Student("Tom");
System.out.println(stu2.getName());	//Tom
stu2.setName("Jerry");
System.out.println(stu2.getName());	//Jerry
```



### static

> staticè¦è§£å†³çš„é—®é¢˜ â€”â€” å¯¹äºä¸€ä¸ªç±»ï¼Œåˆ›å»ºä¸åŒå¯¹è±¡æ—¶å´å¯¹æŸä¸ªå±æ€§èµ‹äºˆç›¸åŒçš„å€¼ï¼Œé‡å¤æ“ä½œè¿‡å¤š

```java
public class Chinese{
    Static String country;    //ç±»å˜é‡ï¼Œç›´æ¥ç±»å.å±æ€§åå°±å¯ä»¥è®¿é—®ï¼Œæ˜¯ç±»çš„ä¸€éƒ¨åˆ†ï¼Œè¢«æ‰€æœ‰è¿™ä¸ªç±»çš„å®ä¾‹åŒ–å¯¹è±¡æ‰€å…±äº«ï¼Œä¹Ÿå¯ä»¥å«é™æ€å˜é‡
    String name;    //å®ä¾‹å˜é‡ï¼Œåªæœ‰å®ä¾‹åŒ–ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œå±äºå®ä¾‹åŒ–å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œä¸èƒ½å…±æœ‰
    int age;    //å®ä¾‹å˜é‡ï¼Œåªæœ‰å®ä¾‹åŒ–ä¹‹åæ‰èƒ½ä½¿ç”¨ï¼Œå±äºå®ä¾‹åŒ–å¯¹è±¡çš„ä¸€éƒ¨åˆ†å‘¢
}

Chinese.country = "ä¸­å›½";	//å¯ä»¥ç›´æ¥ä½¿ç”¨
Chinese c = new Chinese;
Chinese c1 = new Chinese;
System.out.println("Chinese.country");
```

â˜† åœ¨è®¾è®¡ç±»æ—¶ï¼Œ**ä¸å¸Œæœ›æŸä¸ªå±æ€§å› ä¸ºå¯¹è±¡çš„ä¸åŒè€Œæ”¹å˜**ï¼Œå°†è¿™äº›å±æ€§è®¾ç½®ä¸ºç±»å±æ€§ | ç›¸åº”çš„æ–¹æ³•è®¾ç½®ä¸ºç±»æ–¹æ³•

â˜† **æ–¹æ³•ä¸è°ƒç”¨è€…æ— å…³**ï¼Œåˆ™è¿™æ ·çš„æ–¹æ³•é€šå¸¸è¢«å£°æ˜ä¸º**ç±»æ–¹æ³•**

â˜† **ç±»æ–¹æ³•ï¼ˆé™æ€æ–¹æ³•ï¼‰**é€šå¸¸è¢«ç”¨æ¥åš**å·¥å…·ç±»**

```java
//åˆ¤æ–­Stringæ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œç»å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥å¯ä»¥åšä¸€ä¸ªå·¥å…·ç±»
public static boolean isEmpty(String s){
        boolean flag = false;
    if((s!=null)&&(!s.equals("")){
        flag = ture;
    }
    return flag;
}
```

è¢«ä¿®é¥°åçš„æˆå‘˜å…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

* éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½
  * ç±»åŠ è½½åå°±å¯ä»¥ç›´æ¥ç”¨äº†ï¼ˆç±»å.æ–¹æ³•/å±æ€§åï¼‰
* ä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨
  * æ²¡newçš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨
* ä¿®é¥°çš„æˆå‘˜ï¼Œè¢«æ‰€æœ‰å¯¹è±¡æ‰€å…±äº«
  * æ¯”å¦‚è¯´å¯ä»¥ç”¨æ¥åšè®¡æ•°ï¼Œnewäº†å¤šå°‘ä¸ªå¯¹è±¡
* è®¿é—®æƒé™å…è®¸æ—¶ï¼Œå¯ä¸åˆ›å»ºå¯¹è±¡ï¼Œç›´æ¥è¢«ç±»è°ƒç”¨
  * ä¸€èˆ¬éƒ½æ˜¯publicä¿®é¥°

â˜† å¯ä»¥è¢«æ‰€æœ‰çš„å®ä¾‹åŒ–å¯¹è±¡éƒ½å…±äº«çš„å±æ€§ï¼Œä½¿ç”¨èµ·æ¥å¿…é¡»æ…é‡ã€‚**å› ä¸ºåªè¦æ”¹å˜ï¼Œæ‰€æœ‰ç±»éƒ½æ”¹å˜ã€‚**

â˜† å› ä¸ºä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥è®¿é—®staticæ–¹æ³•ï¼Œå› æ­¤staticæ–¹æ³•**å†…éƒ¨ä¸èƒ½æœ‰thisã€superï¼ˆthiså’ŒsuperæŒ‡çš„æ˜¯å¯¹è±¡ï¼Œä¸æ˜¯ç±»ï¼‰**

![image-20210105214652985](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105214652985.png)

**é™æ€ä¸èƒ½è®¿é—®éé™æ€**ï¼šåœ¨å†…å­˜å½“ä¸­æ˜¯å…ˆæœ‰é™æ€å†…å®¹ï¼Œåæœ‰éé™æ€å†…å®¹ã€‚

#### staticå±æ€§çš„å†…å­˜å›¾

![image-20210105214841916](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105214841916.png)

#### é™æ€ä»£ç å—

ç‰¹ç‚¹ï¼šå½“ç¬¬ä¸€æ¬¡ç”¨åˆ°æœ¬ç±»ï¼Œé™æ€ä»£ç å—æ‰§è¡Œå”¯ä¸€çš„ä¸€æ¬¡ã€‚

==é™æ€ä»£ç å—æ¯”æ„é€ æ–¹æ³•å…ˆæ‰§è¡Œ==

ä¸€èˆ¬ç”¨äºï¼šä¸€æ¬¡æ€§åœ°å¯¹é™æ€æˆå‘˜å˜é‡è¿›è¡Œèµ‹å€¼

é™æ€ä»£ç å—ï¼ˆç”¨static ä¿®é¥°çš„ä»£ç å—ï¼‰ï¼š

* å¯ä»¥æœ‰è¾“å‡ºè¯­å¥ã€‚
* å¯ä»¥å¯¹ç±»çš„å±æ€§å£°æ˜è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚
* ä¸å¯ä»¥å¯¹éé™æ€çš„å±æ€§åˆå§‹åŒ–ã€‚å³ï¼šä¸å¯ä»¥è°ƒç”¨éé™æ€çš„å±æ€§å’Œæ–¹æ³•ã€‚
* è‹¥æœ‰å¤šä¸ªé™æ€çš„ä»£ç å—ï¼Œé‚£ä¹ˆæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚
* é™æ€ä»£ç å—çš„æ‰§è¡Œè¦å…ˆäºéé™æ€ä»£ç å—ã€‚
* é™æ€ä»£ç å—åªæ‰§è¡Œä¸€æ¬¡ã€‚

```java
public class Person{
    String name;
    static Test tp = new Test();
    
    static{
        tp.name = "Tom";
        tp.age = 18;
    }
}
```

â˜† åœ¨åŒ¿åå†…éƒ¨ç±»ä¸­ï¼Œç”¨ä»£ç å—ä»£æ›¿æ„é€ æ–¹æ³•ï¼ˆæ²¡æœ‰ç±»ï¼Œæ²¡æ³•é€šè¿‡ç±».å±æ€§æ¥æ„é€ ï¼‰

![image-20210105215706322](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105215706322.png)

## å¯¹è±¡

### å¯¹è±¡çš„äº§ç”Ÿ

| æˆå‘˜å˜é‡ç±»å‹       | åˆå§‹å€¼             |
| ------------------ | ------------------ |
| byte               | 0                  |
| short              | 0                  |
| int                | 0                  |
| long               | 0L                 |
| float              | 0.0F               |
| double             | 0.0D               |
| char               | '\u0000'(æ ‡è¯†ä¸ºç©º) |
| boolean            | false              |
| å¼•ç”¨ç±»å‹ï¼ˆStringï¼‰ | null               |

### åŒ¿åå¯¹è±¡

**ä¸å®šä¹‰å¯¹è±¡çš„å¥æŸ„ï¼Œè€Œç›´æ¥è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•**ã€‚è¿™æ ·çš„å¯¹è±¡å«åšåŒ¿åå¯¹è±¡ã€‚

```java
new Person().shout()
```

ä½¿ç”¨æƒ…å†µ

* å¦‚æœå¯¹ä¸€ä¸ªå¯¹è±¡åªéœ€è¦è¿›è¡Œä¸€æ¬¡æ–¹æ³•è°ƒç”¨ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨åŒ¿åå¯¹è±¡
* æˆ‘ä»¬ç»å¸¸å°†åŒ¿åå¯¹è±¡ä½œä¸ºå®å‚ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•è°ƒç”¨

## æ•°æ®ç±»å‹

### åŸºæœ¬æ•°æ®ç±»å‹

8ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š

* æ•´æ•°ç±»å‹ï¼šlongã€intã€shortã€byte
* æµ®ç‚¹ç±»å‹ï¼šfloatã€double
* å­—ç¬¦ç±»å‹ï¼šchar
* å¸ƒå°”ç±»å‹ï¼šboolean

### å¼•ç”¨æ•°æ®ç±»å‹

å¼•ç”¨æ•°æ®ç±»å‹æœ‰å¾ˆå¤šï¼Œå¤§è‡´å¦‚ä¸‹ï¼šç±»ã€ æ¥å£ç±»å‹ã€ æ•°ç»„ç±»å‹ã€ æšä¸¾ç±»å‹ã€ æ³¨è§£ç±»å‹ã€ å­—ç¬¦ä¸²å‹ä¾‹å¦‚ï¼Œ**String** ç±»å‹å°±æ˜¯å¼•ç”¨ç±»å‹

#### åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹ä¹‹é—´çš„åŒºåˆ«

1. å­˜å‚¨ä½ç½®

   * åŸºæœ¬å˜é‡ç±»å‹
     * åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„éå…¨å±€åŸºæœ¬æ•°æ®ç±»å‹å˜é‡çš„**å…·ä½“å†…å®¹æ˜¯å­˜å‚¨åœ¨æ ˆä¸­çš„**
   * å¼•ç”¨å˜é‡ç±»å‹
     * åªè¦æ˜¯å¼•ç”¨æ•°æ®ç±»å‹å˜é‡ï¼Œå…¶**å…·ä½“å†…å®¹éƒ½æ˜¯å­˜æ”¾åœ¨å †ä¸­çš„**ï¼Œè€Œæ ˆä¸­å­˜æ”¾çš„æ˜¯å…¶**å…·ä½“å†…å®¹æ‰€åœ¨å†…å­˜çš„åœ°å€**

   ![image-20210105212148037](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105212148037.png)

2. ä¼ é€’æ–¹å¼

* åŸºæœ¬å˜é‡ç±»å‹

  * åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„éå…¨å±€åŸºæœ¬æ•°æ®ç±»å‹å˜é‡ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä½œä¸ºå‚æ•°æ˜¯**æŒ‰æ•°æ®ä¼ é€’çš„**

    ![image-20210105212403780](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105212403780.png)

* å¼•ç”¨å˜é‡ç±»å‹

  * å¼•ç”¨æ•°æ®ç±»å‹å˜é‡ï¼Œè°ƒç”¨æ–¹æ³•æ—¶ä½œä¸º**å‚æ•°æ˜¯æŒ‰å¼•ç”¨ä¼ é€’**çš„

    ![image-20210105212510819](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105212510819.png)

### æ•°æ®ç±»å‹çš„å¼ºåˆ¶è½¬åŒ–

åœ¨éœ€è¦è½¬å‹çš„æ•°æ®å‰åŠ ä¸Šâ€œ( )â€ï¼Œç„¶ååœ¨æ‹¬å·å†…åŠ å…¥éœ€è¦è½¬åŒ–çš„æ•°æ®ç±»å‹ã€‚æœ‰çš„æ•°æ®ç»è¿‡è½¬å‹è¿ç®—åï¼Œ**ç²¾åº¦ä¼šä¸¢å¤±ï¼Œè€Œæœ‰çš„ä¼šæ›´åŠ ç²¾ç¡®**

1. ä¸¤ç§ç±»å‹æ˜¯å½¼æ­¤å…¼å®¹çš„
2. è½¬æ¢çš„ç›®çš„ç±»å‹å å¾—ç©ºé—´èŒƒå›´ä¸€å®šè¦å¤§äºè½¬åŒ–çš„æºç±»å‹

æ­£å‘è¿‡ç¨‹ï¼šç”±ä½å­—èŠ‚å‘é«˜å­—èŠ‚è‡ªåŠ¨è½¬æ¢

> byte->short->int->long->float->double

é€†å‘è¿‡ç¨‹ï¼šä½¿ç”¨å¼ºåˆ¶è½¬æ¢,å¯èƒ½ä¸¢å¤±ç²¾åº¦ã€‚

```java
int a=(int)3.14;
```

### æ•°æ®ç±»å‹çš„è‡ªåŠ¨è½¬æ¢

Javaå®šä¹‰äº†è‹¥å¹²ä½¿ç”¨äºè¡¨è¾¾å¼çš„ç±»å‹æå‡è§„åˆ™ï¼š

1. æ‰€æœ‰çš„byteå‹. shortå‹å’Œcharå‹å°†è¢«æå‡åˆ°**int**å‹(ä¾‹å¤–: finalä¿®é¥°çš„short, charå˜é‡ç›¸åŠ åä¸ä¼šè¢«è‡ªåŠ¨æå‡ã€‚)
2. å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯**long**å½¢ è®¡ç®—ç»“æœå°±æ˜¯**long**å‹;
3. å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯**float**å‹ï¼Œè®¡ç®—ç»“æœå°±æ˜¯**float**å‹;
4. å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯**double**å‹ï¼Œè®¡ç®—ç»“æœå°±æ˜¯**double**å‹;



## å¤šæ€

### æ–¹æ³•çš„å¤šæ€æ€§

#### é‡è½½ï¼ˆoverloadï¼‰

#### é‡å†™ï¼ˆoverrideï¼‰

åœ¨å­ç±»ä¸­å¯ä»¥æ ¹æ®éœ€è¦å¯¹ä»çˆ¶ç±»ä¸­ç»§æ‰¿æ¥çš„æ–¹æ³•è¿›è¡Œæ”¹é€ ï¼Œä¹Ÿç§°æ–¹æ³•çš„é‡ç½®ã€è¦†ç›–ã€‚åœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œå­ç±»çš„æ–¹æ³•å°†è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ã€‚

è¦æ±‚ï¼š

* é‡å†™æ–¹æ³•å¿…é¡»å’Œè¢«é‡å†™æ–¹æ³•å…·æœ‰**ç›¸åŒçš„æ–¹æ³•åç§°ã€å‚æ•°åˆ—è¡¨å’Œè¿”å›å€¼ç±»å‹**
  * åªæ˜¯é‡å†™æ–¹æ³•ä½“çš„ä»£ç 
* é‡å†™æ–¹æ³•ä¸èƒ½ä½¿ç”¨æ¯”è¢«é‡å†™æ–¹æ³•æ›´ä¸¥æ ¼çš„è®¿é—®æƒé™
  * çˆ¶ç±»publicï¼Œå­ç±»ä¸èƒ½æ˜¯defaultæˆ–è€…private
* é‡å†™å’Œè¢«é‡å†™çš„æ–¹æ³•å¿…é¡»åŒæ—¶ä¸ºstaticï¼Œæˆ–åŒæ—¶éstaticçš„
* å­ç±»æ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ä¸èƒ½å¤§äºçˆ¶è¾ˆè¢«é‡å†™æ–¹æ³•çš„å¼‚å¸¸

### å¯¹è±¡çš„å¤šæ€æ€§

é¦–å…ˆï¼Œå¯¹è±¡çš„å¤šæ€æ€§ä¸»è¦è¡¨ç°åœ¨æŠ½è±¡ç±»å’Œæ¥å£ä¸Šã€‚



Javaå¼•ç”¨å˜é‡æœ‰ä¸¤ä¸ªç±»å‹ï¼š**ç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹**ã€‚

* ç¼–è¯‘æ—¶ç±»å‹ç”±å£°æ˜è¯¥å˜é‡æ—¶ä½¿ç”¨çš„ç±»å‹å†³å®šï¼Œè¿è¡Œæ—¶ç±»å‹ç”±å®é™…èµ‹ç»™è¯¥å˜é‡çš„å¯¹è±¡å†³å®šã€‚
* è‹¥ç¼–è¯‘æ—¶ç±»å‹å’Œè¿è¡Œæ—¶ç±»å‹ä¸ä¸€è‡´ï¼Œå°±å‡ºç°å¤šæ€

ï¼ˆ1ï¼‰å…³äºç»§æ‰¿åçˆ¶ç±»ä¸å­ç±»çš„åŒåæ–¹æ³•ï¼šï¼ˆçœ‹newçš„ç­‰å·å³è¾¹æ˜¯è°ï¼Œæ²¡æœ‰åˆ™å‘ä¸Šæ‰¾ï¼‰

![image-20210105220610350](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105220610350.png)

ï¼ˆ2ï¼‰å…³äºç»§æ‰¿åçˆ¶ç±»ä¸å­ç±»çš„åŒåå±æ€§ï¼šï¼ˆçœ‹newçš„ç­‰å·å·¦è¾¹æ˜¯è°ï¼Œæ²¡æœ‰åˆ™å‘ä¸Šæ‰¾ï¼‰

![image-20210105220809147](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105220809147.png)

![image-20210105220821830](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210105220821830.png)

* ä¸€ä¸ªå˜é‡åªèƒ½æœ‰ä¸€ç§ç¡®å®šçš„æ•°æ®ç±»å‹
* ä¸€ä¸ª**å¼•ç”¨ç±»å‹**å˜é‡å¯ä»¥æŒ‡å‘ï¼ˆå¼•ç”¨ï¼‰å¤šç§ä¸åŒç±»å‹çš„å¯¹è±¡

```java
Person p = new Person();
Student e = new Student();
//ä»¥ä¸Šä¸ºæ­£å¸¸æƒ…å†µ

Person s = new Student( );    //çˆ¶ç±»çš„å¼•ç”¨å¯¹è±¡å¯ä»¥æŒ‡å‘å­ç±»çš„å®ä¾‹

Person p = new Person();
p = new Student();
//å½“å‰è¿™ä¸ªå¼•ç”¨å¯¹è±¡på¼•ç”¨çš„æ˜¯Studentå®ä¾‹å¯¹è±¡
```

â˜† ä¸€ä¸ªå¼•ç”¨ç±»å‹å˜é‡å¦‚æœ**å£°æ˜ä¸ºçˆ¶ç±»çš„ç±»å‹**ï¼Œä½†å®é™…å¼•ç”¨çš„å´æ˜¯å­ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆè¯¥å˜é‡å°±**ä¸èƒ½å†è®¿é—®å­ç±»ä¸­æ·»åŠ çš„å±æ€§ï¼ˆæ–¹æ³•å¯ä»¥ï¼‰**

```java
Student m = new Student();
m.school = "pku";    //åˆæ³•
Person e = new Student();
e.school = "pku";    //éæ³•
```

#### å­ç±»çš„å‘ä¸Šè½¬å‹ä¸å‘ä¸‹è½¬å‹

![image-20210106095436308](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106095436308.png)

![image-20210106095523680](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106095523680.png)

#### è½¬å‹åæ–¹æ³•çš„è°ƒç”¨

![image-20210106095710742](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106095710742.png)

å¦‚ä½•åˆ¤æ–­çˆ¶ç±»å¼•ç”¨çš„å¯¹è±¡ï¼Œæœ¬æ¥æ˜¯ä»€ä¹ˆå­ç±»ï¼Ÿ

![image-20210106095827854](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106095827854.png)

å®ä¾‹ï¼š

![image-20210106095903041](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106095903041.png)

æ­£å¸¸æ–¹æ³•è°ƒç”¨ä¸è™šæ‹Ÿæ–¹æ³•è°ƒç”¨ï¼š

```java
//æ­£å¸¸æ–¹æ³•è°ƒç”¨
Person p = new Person();
p.getInfo();
Student s = new Student();
s.getInfo();

//è™šæ‹Ÿæ–¹æ³•è°ƒç”¨
Person e = new Student();
e.getInfo();    //è°ƒç”¨Studentç±»çš„getInfo()æ–¹æ³•
```

ğŸ™‹â€ ç¼–è¯‘eä¸ºPersonç±»å‹ï¼Œè€Œ**æ–¹æ³•çš„è°ƒç”¨æ˜¯åœ¨è¿è¡Œæ—¶ç¡®å®š**çš„ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ˜¯Studentç±»çš„getInfoï¼ˆï¼‰æ–¹æ³• â€”â€” **åŠ¨æ€ç»‘å®š**

![image-20210106100120028](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106100120028.png)

å­ç±»ç»§æ‰¿çˆ¶ç±»ï¼š

* è‹¥å­ç±»é‡å†™äº†çˆ¶ç±»æ–¹æ³•ï¼Œå°±æ„å‘³ç€å­ç±»é‡Œå®šä¹‰çš„æ–¹æ³•å½»åº•è¦†ç›–äº†çˆ¶ç±»é‡Œçš„åŒåæ–¹æ³•ï¼Œç³»ç»Ÿå°†ä¸å¯èƒ½æŠŠçˆ¶ç±»é‡Œçš„æ–¹æ³•è½¬ç§»åˆ°å­ç±»ä¸­
* å¯¹äºå®ä¾‹å˜é‡åˆ™ä¸å­˜åœ¨è¿™æ ·çš„ç°è±¡ï¼Œå³ä½¿å­ç±»é‡Œå®šä¹‰äº†ä¸çˆ¶ç±»å®Œå…¨ç›¸åŒçš„å®ä¾‹å˜é‡ï¼Œè¿™ä¸ªå®ä¾‹å˜é‡ä¾ç„¶ä¸å¯èƒ½è¦†ç›–çˆ¶ç±»ä¸­å®šä¹‰çš„å®ä¾‹å˜é‡

![image-20210106100650419](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106100650419.png)

#### æŠ½è±¡ç±»

> éšç€ç»§æ‰¿å±‚æ¬¡ä¸­ä¸€ä¸ªä¸ªæ–°å­ç±»çš„å®šä¹‰ï¼Œç±»å˜å¾—è¶Šæ¥è¶Šå…·ä½“ï¼Œè€Œçˆ¶ç±»åˆ™æ›´ä¸€èˆ¬ï¼Œæ›´é€šç”¨ã€‚ç±»çš„è®¾è®¡åº”è¯¥ä¿è¯çˆ¶ç±»å’Œå­ç±»èƒ½å¤Ÿå…±äº«ç‰¹å¾ã€‚
>
> æœ‰æ—¶å°†ä¸€ä¸ªçˆ¶ç±»è®¾è®¡å¾—éå¸¸æŠ½è±¡ï¼Œä»¥è‡³äºå®ƒæ²¡æœ‰å…·ä½“çš„å®ä¾‹ï¼Œè¿™æ ·çš„ç±»å«åšæŠ½è±¡ç±»ã€‚

* ç”¨abstractå…³é”®å­—æ¥ä¿®é¥°ä¸€ä¸ªç±»æ—¶ï¼Œè¿™ä¸ªç±»å«åšæŠ½è±¡ç±»
  * å«æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»è¢«å£°æ˜ä¸ºæŠ½è±¡ç±»
* ç”¨abstractæ¥ä¿®é¥°ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œè¯¥æ–¹æ³•å«åšæŠ½è±¡æ–¹æ³•
  * åªæœ‰æ–¹æ³•çš„å£°æ˜ï¼Œæ²¡æœ‰æ–¹æ³•çš„å®ç°ã€‚ä»¥åˆ†å·ç»“æŸï¼šabstract int abstractMethod( int a );
* æŠ½è±¡ç±»ä¸èƒ½è¢«å®ä¾‹åŒ–ã€‚
  * æŠ½è±¡ç±»æ˜¯ç”¨æ¥ä½œä¸ºçˆ¶ç±»è¢«ç»§æ‰¿çš„ï¼ŒæŠ½è±¡ç±»çš„å­ç±»å¿…é¡»é‡å†™çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œå¹¶æä¾›æ–¹æ³•ä½“ã€‚**è‹¥æ²¡æœ‰é‡å†™å…¨éƒ¨çš„æŠ½è±¡æ–¹æ³•ï¼Œä»ä¸ºæŠ½è±¡ç±»ã€‚**
* ä¸èƒ½ç”¨abstractä¿®é¥°å±æ€§ã€ç§æœ‰æ–¹æ³•ã€æ„é€ å™¨ã€é™æ€æ–¹æ³•ã€finalçš„æ–¹æ³•ã€‚

> æ€»ä¹‹ï¼ŒæŠ½è±¡ç±»æ˜¯ç”¨æ¥æ¨¡å‹åŒ–é‚£äº›çˆ¶ç±»æ— æ³•ç¡®å®šå…¨éƒ¨å®ç°ï¼Œè€Œæ˜¯ç”±å…¶å­ç±»æä¾›å…·ä½“å®ç°çš„å¯¹è±¡çš„ç±»

```java
public abstract class Employee {
       public Employee(){
              
       }
       String name;
       String id;
       int salary;
       
       public abstract void work();
}
```

```java
public class Manager extends Employee{
       int bonus;
       
       public void setCommonEmployeeInfo(String name,String id,int salary,int  bonus) {
              super.id = id;
              super.name = name;
              super.salary = salary;
              this.bonus = bonus;
       }
       
       public void getCommonEmployeeInfo() {
              System.out.println(super.id);
              System.out.println(super.name);
              System.out.println(super.salary);
              System.out.println(this.bonus);
       }      
       
       @Override
       public void work() {
              System.out.println("Manager");
              
       }
       
}
```

#### æ¥å£

> æœ‰æ—¶å¿…é¡»ä»å‡ ä¸ªç±»ä¸­æ´¾ç”Ÿå‡ºä¸€ä¸ªå­ç±»ï¼Œç»§æ‰¿å®ƒä»¬æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ã€‚ä½†æ˜¯ï¼ŒJavaä¸æ”¯æŒå¤šé‡ç»§æ‰¿ã€‚æœ‰äº†æ¥å£ï¼Œå°±å¯ä»¥å¾—åˆ°å¤šé‡ç»§æ‰¿çš„æ•ˆæœã€‚

æ¥å£(interface)æ˜¯æŠ½è±¡æ–¹æ³•å’Œå¸¸é‡å€¼çš„å®šä¹‰çš„é›†åˆã€‚

ä»æœ¬è´¨ä¸Šè®²ï¼Œæ¥å£æ˜¯ä¸€ç§ç‰¹æ®Šçš„æŠ½è±¡ç±»ï¼Œè¿™ç§æŠ½è±¡ç±»ä¸­åªåŒ…å«å¸¸é‡å’Œæ–¹æ³•çš„å®šä¹‰ï¼Œè€Œæ²¡æœ‰å˜é‡å’Œæ–¹æ³•çš„å®ç°ã€‚

ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œæ¥å£ä¹Ÿå¯ä»¥ç»§æ‰¿å…¶å®ƒæ¥å£ã€‚

```java
class SubClass implements InterfaceA{ }
```

æ¥å£å¯ä»¥å®šä¹‰æŠ½è±¡æ–¹æ³•

```java
public abstract è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨)ï¼›
```

æ³¨æ„ï¼š

1. æ¥å£å½“ä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œä¿®é¥°ç¬¦å¿…é¡»æ˜¯public abstract
2. æ¥å£ä¸­çš„æ‰€æœ‰æˆå‘˜å˜é‡éƒ½é»˜è®¤æ˜¯ç”±public static finalä¿®é¥°çš„
3. å¯ä»¥é€‰æ‹©æ€§çœç•¥è¿™ä¸¤ä¸ªä¿®é¥°ç¬¦

æ¥å£çš„ä½¿ç”¨æ­¥éª¤ï¼š

1. æ¥å£å¿…é¡»æœ‰ä¸€ä¸ªâ€œå®ç°ç±»â€æ¥â€œå®ç°â€è¯¥æ¥å£

   ```java
   public class å®ç°ç±»åç§° implements æ¥å£åç§°{
   	...
   }
   ```

2. æ¥å£çš„å®ç°ç±»å¿…é¡»è¦†ç›–é‡å†™ï¼ˆå®ç°ï¼‰æ¥å£ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³•

   * å»æ‰abstractå…³é”®å­—ï¼ŒåŠ ä¸Šæ–¹æ³•ä½“å¤§æ‹¬å·

3. åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡ï¼Œè¿›è¡Œä½¿ç”¨

æ³¨æ„ï¼šå¦‚æœå®ç°ç±»æ²¡æœ‰è¦†ç›–é‡å†™æ¥å£ä¸­æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼Œåˆ™å®ç°ç±»æœ¬èº«å¿…é¡»æ˜¯æŠ½è±¡ç±»



##### æ¥å£å‡çº§é—®é¢˜

> å½“æ¥å£ä¸­æ–°å¢äº†æ–¹æ³•ï¼Œå¦‚æœæ˜¯æŠ½è±¡æ–¹æ³•ï¼Œåˆ™ä»¥å‰å®ç°è¿‡è¯¥æ¥å£çš„æ‰€æœ‰ç±»éƒ½ä¼šå˜æˆæŠ½è±¡ç±»ï¼Œæ‰€ä»¥ä½¿ç”¨**é»˜è®¤æ–¹æ³•**å¯ä»¥è§£å†³è¯¥é—®é¢˜

```java
public default è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å‚æ•°åˆ—è¡¨){
	æ–¹æ³•ä½“
}
```

```java
public interface MyInterfaceDefault{
    //æŠ½è±¡æ–¹æ³•
	public abstract void methodAbs();
    //æ–°å¢æŠ½è±¡æ–¹æ³•
    public default void methodDefault(){
        System.out.println("New default method");
    }
}
//å½“è°ƒç”¨é»˜è®¤æ–¹æ³•æ—¶ï¼Œå¦‚æœå®ç°ç±»å½“ä¸­æ²¡æœ‰ï¼Œåˆ™ä¼šå‘ä¸Šæ‰¾æ¥å£
/*
1. æ¥å£çš„é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æ¥å£å®ç°ç±»å¯¹è±¡ï¼Œç›´æ¥è°ƒç”¨
2. æ¥å£çš„é»˜è®¤æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥å‘—æ¥å£å®ç°ç±»è¿›è¡Œè¦†ç›–é‡å†™
*/
```



##### æ¥å£ä¸­å®šä¹‰é™æ€æ–¹æ³•

```java
public interface MyinterfaceStatic{
	public static void methodStatic(){
		System.out.println("This is static method");
	}
}
/*
â˜† ä¸å¯ä»¥é€šè¿‡æ¥å£å®ç°ç±»æ¥è°ƒç”¨æ¥å£ä¸­çš„é™æ€æ–¹æ³• â˜†
è€Œå¿…é¡»é€šè¿‡æ¥å£åç§°ï¼Œç›´æ¥è°ƒç”¨å…¶ä¸­çš„é™æ€æ–¹æ³•
æ¥å£åç§°.é™æ€æ–¹æ³•å(å‚æ•°)
*/
```

##### æ¥å£ä¸­å®šä¹‰ç§æœ‰æ–¹æ³•

> Java9å¼€å§‹æ¥å£å½“ä¸­å…è®¸å®šä¹‰ç§æœ‰æ–¹æ³•
>
> è‹¥éœ€è¦æŠ½å–ä¸€ä¸ªå…±æœ‰æ–¹æ³•ï¼Œç§æœ‰æ–¹æ³•è§£å†³äº†ä¸¤ä¸ªé»˜è®¤æ–¹æ³•ä¹‹é—´é‡å¤ä»£ç çš„é—®é¢˜ï¼Œå…±æœ‰æ–¹æ³•ä¸è®©å®ç°ç±»ä½¿ç”¨

1. æ™®é€šç§æœ‰æ–¹æ³•ï¼šè§£å†³å¤šä¸ªé»˜è®¤æ–¹æ³•ä¹‹é—´é‡å¤ä»£ç é—®é¢˜

   ```java
   private è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å‚æ•°åˆ—è¡¨){
   	æ–¹æ³•ä½“
   }
   ```

2. é™æ€ç§æœ‰æ–¹æ³•ï¼šè§£å†³å¤šä¸ªé™æ€æ–¹æ³•ä¹‹é—´é‡å¤ä»£ç é—®é¢˜

   ```java
   private static è¿”å›å€¼ç±»å‹ æ–¹æ³•åç§°(å‚æ•°åˆ—è¡¨){
   	æ–¹æ³•ä½“
   }
   ```

   

### å¤šæ€æ€»ç»“

å‰æï¼š

* éœ€è¦å­˜åœ¨**ç»§æ‰¿æˆ–è€…å®ç°**å…³ç³»
* è¦æœ‰**è¦†ç›–æ“ä½œ**

æˆå‘˜æ–¹æ³•

* ç¼–è¯‘æ—¶ï¼šè¦æŸ¥çœ‹å¼•ç”¨å˜é‡æ‰€å±çš„ç±»ä¸­æ˜¯å¦æœ‰æ‰€è°ƒç”¨çš„æ–¹æ³•
* è¿è¡Œæ—¶ï¼šè°ƒç”¨**å®é™…å¯¹è±¡æ‰€å±çš„ç±»ä¸­çš„é‡å†™æ–¹æ³•**

æˆå‘˜å˜é‡

* ä¸å…·å¤‡å¤šæ€æ€§ï¼Œåªçœ‹å¼•ç”¨å˜é‡æ‰€å±çš„ç±»



## å†…éƒ¨ç±»

> åœ¨Javaä¸­ï¼Œå…è®¸ä¸€ä¸ªç±»çš„å®šä¹‰ä½äºå¦ä¸€ä¸ªç±»çš„å†…éƒ¨ï¼Œå‰è€…ç§°ä¸ºå†…éƒ¨ç±»ï¼Œåè€…ç§°ä¸ºå¤–éƒ¨ç±»ã€‚

```java
public class TEST1{
    int i;
    public int z;
    private int k;
    
    //å†…éƒ¨ç±» A
    class A{
        public void setTestFileds(){
               TEST1.this.i = 1;
               TEST1.this.z = 2;
               TEST1.this.k = 3;
        }
    }
    
    public void setInfo(){
//        new A().setTestFileds(); //é”™è¯¯å†™æ³•
       A a = new A();    //å¤–éƒ¨ç±»æƒ³è¦ä½¿ç”¨å†…éƒ¨ç±»ï¼Œéœ€è¦å…ˆå®ä¾‹åŒ–
       a.setTestFileds();
    }
    public void showInfo(){
        System.out.println(this.i);
        System.out.println(this.z);
        System.out.println(this.k);
    }
    public static void main(String[] args) {
              TEST1 t = new TEST1();
              t.setInfo();
              t.showInfo();
       }
}
```

Inner classä½œä¸ºç±»çš„æˆå‘˜ï¼š

* å¯ä»¥å£°æ˜ä¸ºfinalçš„
* å’Œå¤–éƒ¨ç±»ä¸åŒï¼ŒInner classå¯å£°æ˜ä¸ºprivateæˆ–protected
* Inner class å¯ä»¥å£°æ˜ä¸ºstaticçš„ï¼Œä½†æ­¤æ—¶å°±ä¸èƒ½å†ä½¿ç”¨å¤–å±‚ç±»çš„éstaticçš„æˆå‘˜å˜é‡

Inner classä½œä¸ºç±»ï¼š

* å¯ä»¥å£°æ˜ä¸ºabstractç±» ï¼Œå› æ­¤å¯ä»¥è¢«å…¶å®ƒçš„å†…éƒ¨ç±»ç»§æ‰¿

ã€æ³¨æ„ã€‘éstaticçš„å†…éƒ¨ç±»ä¸­çš„æˆå‘˜ä¸èƒ½å£°æ˜ä¸ºstaticçš„ï¼Œåªæœ‰åœ¨å¤–éƒ¨ç±»æˆ–staticçš„å†…éƒ¨ç±»ä¸­æ‰å¯å£°æ˜staticæˆå‘˜ã€‚

ğŸ™‹â€ å†…éƒ¨ç±»ä¸»è¦**ä¸ºäº†è§£å†³JAVAä¸èƒ½å¤šé‡ç»§æ‰¿çš„é—®é¢˜**

```java
public class TEST1{
       public static void main(String[] args) {
              new A().testB();
              new A().testC();
       }
}
//ç›®æ ‡è®©Aè·å¾—Bä¸Cçš„æ–¹æ³•å¹¶ä¸”é‡å†™
class A{
       public void testB() {
              new InnerB().testB();
       }
       
       public void testC() {
              new InnerC().testC();
       }
       
       //ç»§æ‰¿Bï¼Œé‡å†™Bå†…æ–¹æ³•
       private class InnerB extends B{
              @Override
              public void testB() {
                     System.out.println("TESTB");
              }
       }
    
       //ç»§æ‰¿Cï¼Œé‡å†™Cå†…æ–¹æ³•
       private class InnerC extends C{
              @Override
              public void testC() {
                     System.out.println("TESTC");
              }
       }
       
       
}
class B{
       public void testB() {
           ...    
       }
}
class C{
       public void testC() {
           ...   
       }
}

```

```java
/*
å†…ç”¨å¤–ï¼Œéšæ„è®¿é—®ï¼›å¤–ç”¨å†…ï¼Œéœ€è¦å†…éƒ¨ç±»å¯¹è±¡
ä½¿ç”¨æ–¹å¼ï¼ˆ2ç§ï¼‰ï¼š
1. é—´æ¥æ–¹å¼ï¼šåœ¨å¤–éƒ¨ç±»çš„æ–¹æ³•ä¸­ï¼Œä½¿ç”¨å†…éƒ¨ç±»ï¼Œç„¶åmainåªæ˜¯è°ƒç”¨å¤–éƒ¨ç±»çš„æ–¹æ³•
2. ç›´æ¥æ–¹å¼ï¼š
ç±»åç§° å¯¹è±¡å = new ç±»åç§°()ï¼›
å¤–éƒ¨ç±»åç§°ã€‚å†…éƒ¨ç±»åç§° å¯¹è±¡å = new å¤–éƒ¨ç±»åç§°().new å†…éƒ¨ç±»åç§°
*/

public class Demo01InnerClass{
    public static void main(String[] args){
        Body body = new Body();	//å¤–éƒ¨ç±»å¯¹è±¡
        //é€šè¿‡å¤–éƒ¨ç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨å¤–éƒ¨ç±»çš„æ–¹æ³•ï¼Œé‡Œé¢é—´æ¥å†ä½¿ç”¨å†…éƒ¨ç±»Heart
        body.methodBody();
    }
}

public class Body{
    class Heart{
        ...
    }
    public void methodBody(){
        Heart h = new Heart;
        h.userHeart();
    }
}
```

å†…éƒ¨ç±»ä¸å¤–éƒ¨ç±»å±æ€§åŒåçš„æƒ…å†µï¼š

![image-20210106104710969](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106104710969.png)

å±€éƒ¨å†…éƒ¨ç±»ï¼š

![image-20210106104835657](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106104835657.png)

å±€éƒ¨å†…éƒ¨ç±»ä¸­ä½¿ç”¨å±€éƒ¨å˜é‡çš„finalé—®é¢˜

```java
/*
å¦‚æœå¸Œæœ›è®¿é—®æ‰€åœ¨æ–¹æ³•çš„å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡å¿…é¡»æ˜¯â€œæœ‰æ•ˆfinalâ€
åŸå› ï¼š
1. newå‡ºæ¥çš„å¯¹è±¡åœ¨å †å†…å­˜ä¸­
2. å±€éƒ¨å˜é‡æ˜¯è·Ÿç€æ–¹æ³•èµ°çš„ï¼Œåœ¨æ ˆå†…å­˜ä¸­
3. æ–¹æ³•è¿è¡Œç»“æŸä¹‹åï¼Œç«‹åˆ»å‡ºæ ˆï¼Œå±€éƒ¨å˜é‡å°±ä¼šç«‹åˆ»æ¶ˆå¤±
4. ä½†æ˜¯newå‡ºæ¥çš„å¯¹è±¡ä¼šåœ¨å †å½“ä¸­æŒç»­å­˜åœ¨ï¼Œç›´åˆ°åƒåœ¾å›æ”¶æ¶ˆå¤±
*/
public class MyOuter{
    public void methodOuter(){
        final int num = 10;	
        //newå‡ºæ¥çš„MyInnerç”Ÿå‘½å‘¨æœŸä¼šæ¯”æ ˆç§çš„å˜é‡numä¹…ï¼Œå¦‚æœä½¿ç”¨numè€Œnumå·²ç»è¢«åƒåœ¾å›æ”¶ï¼Œåˆ™æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å…¶å®ä¼šcopyä¸€ä¸‹numçš„å†…å®¹ï¼Œå¦‚æœnumå‘ç”Ÿå˜åŒ–ï¼Œåˆ™å¤±æ•ˆ
        
        class MyInner{
            public void methodInner(){
                System.out.println(num);
            }
        }
    }
}

```

å…³äºæƒé™ä¿®é¥°ç¬¦çš„é€‰æ‹©ï¼š

1. å¤–éƒ¨ç±»ï¼špublic / default
2. æˆå‘˜å†…éƒ¨ç±»ï¼špublic / protected / default / private
3. å±€éƒ¨å†…éƒ¨ç±»ï¼šä»€ä¹ˆéƒ½ä¸å†™

### åŒ¿åå†…éƒ¨ç±»

```java
public class DemoMain{
    public static void main(String[] args){
        MyInterface obj = new MyInterface(){
            @Override
            public void method(){
                System.out.println("åŒ¿åå†…éƒ¨ç±»å®ç°äº†æ–¹æ³•")ï¼›
            }
        }
    }
}
```

ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ï¼Œæ›¿ä»£æ¥å£çš„å®ç°ç±»ï¼ˆå‡å°‘äº†éº»çƒ¦ï¼Œä¸éœ€è¦ä¸ºäº†ä¸€ä¸ªæ¥å£å†å†™ä¸€ä¸ªå®ç°ç±»ï¼Œä½†æ˜¯ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼‰

![image-20210106110344135](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106110344135.png)

æ€»ç»“ï¼š

1. newä»£è¡¨åˆ›å»ºå¯¹è±¡çš„åŠ¨ä½œ
2. æ¥å£åç§°å°±æ˜¯åŒ¿åå†…éƒ¨ç±»éœ€è¦å®ç°å“ªä¸ªæ¥å£
3. {...}è¿™æ‰æ˜¯åŒ¿åå†…éƒ¨ç±»çš„å†…å®¹

æ³¨æ„ï¼š

1. åŒ¿åå†…éƒ¨ç±»ï¼Œåœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œåªèƒ½ä½¿ç”¨å”¯ä¸€ä¸€æ¬¡ï¼›å¦‚æœæƒ³è¦å¤šæ¬¡åˆ›å»ºå¯¹è±¡ï¼Œä¸”ç±»çš„å†…å®¹ä¸€è‡´ï¼Œé‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨å•ç‹¬å®šä¹‰çš„å®ç°ç±»
2. åŒ¿åå¯¹è±¡ï¼Œåœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œåªèƒ½è°ƒç”¨å”¯ä¸€ä¸€æ¬¡ï¼›å¦‚æœæƒ³è¦åŒä¸€ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨å¤šæ¬¡æ–¹æ³•ï¼Œé‚£ä¹ˆå¿…é¡»ç»™å¯¹è±¡èµ·ä¸ªåå­—
3. åŒ¿åå†…éƒ¨ç±»æ˜¯çœç•¥äº†å®ç°ç±»/å­ç±»ï¼Œä½†æ˜¯åŒ¿åå¯¹è±¡æ˜¯çœç•¥äº†å¯¹è±¡åç§°



## åŒ…è£…ç±»

> é’ˆå¯¹å…«ç§åŸºæœ¬å®šä¹‰çš„å¼•ç”¨ç±»å‹ â€”â€” åŒ…è£…ç±»ï¼ˆå°è£…ç±»ï¼‰
>
> æœ‰äº†ç±»çš„ç‰¹ç‚¹ï¼Œå°±å¯ä»¥è°ƒç”¨ç±»ä¸­çš„æ–¹æ³•

![image-20210106110822890](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106110822890.png)

| åŸºæœ¬æ•°æ®ç±»å‹ | åŒ…è£…ç±»    |
| ------------ | --------- |
| boolean      | Boolean   |
| byte         | Byte      |
| short        | Short     |
| int          | Integer   |
| long         | Long      |
| char         | Character |
| float        | Float     |
| double       | Double    |

### è£…ç®±

> æŠŠåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ŒåŒ…è£…åˆ°åŒ…è£…ç±»ç§ï¼ˆåŸºæœ¬ç±»å‹çš„æ•°æ® -> åŒ…è£…ç±»ï¼‰

```java
//æ„é€ æ–¹æ³•å¦‚ä¸‹ï¼š
Integer(int value)	//æ„é€ ä¸€ä¸ªæ–°åˆ†é…çš„Integerå¯¹è±¡ï¼Œä»–è¡¨ç¤ºæŒ‡å®šçš„intå€¼
Integer(String s)	//æ„é€ ä¸€ä¸ªæ–°åˆ†é…çš„Integerå¯¹è±¡ï¼Œä»–è¡¨ç¤ºæŒ‡å®šçš„Stringå€¼æ‰€æŒ‡ç¤ºçš„intå€¼
    
//é™æ€æ–¹æ³•å¦‚ä¸‹ï¼š
static Integer valueOf(int i)	//è¿”å›ä¸€ä¸ªè¡¨ç¤ºæŒ‡å®šçš„intå€¼å¾—Integerå®ä¾‹
static Integer valueOf(String s)	//è¿”å›ä¿å­˜æŒ‡å®šå¾—Stringå€¼å¾—Integerå¯¹è±¡
```

```java
//é€šè¿‡åŒ…è£…ç±»çš„æ„é€ å™¨å®ç°ï¼š
int i = 500;   
Integer t = new Integer(i);

//é€šè¿‡å­—ç¬¦ä¸²å‚æ•°æ„é€ ï¼š
Float f = new Float(â€œ4.56â€);
Long l = new Long(â€œasdfâ€);    //NumberFormatException
```

### æ‹†ç®±

> åœ¨åŒ…è£…ç±»ä¸­å–å‡ºåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ˆåŒ…è£… -> åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼‰

```java
//æˆå‘˜æ–¹æ³•å¦‚ä¸‹ï¼š
int intValue()	//ä»¥intç±»å‹è¿”å›è¯¥Integerçš„å€¼ï¼Œå…¶ä»–ç±»å‹ç±»ä¼¼
```



```java
//è°ƒç”¨åŒ…è£…ç±»çš„.xxxValue()æ–¹æ³•
boolean b = new Boolean("false").booleanValue();
```

JDK1.5ä¹‹åï¼Œæ”¯æŒè‡ªåŠ¨è£…ç®±ï¼Œè‡ªåŠ¨æ‹†ç®±ã€‚ä½†ç±»å‹å¿…é¡»åŒ¹é…ã€‚

```java
Interger i1 = 112;    //è‡ªåŠ¨è£…ç®±
int i2 = i1;    //è‡ªåŠ¨æ‹†ç®±
```

### å­—ç¬¦ä¸²ä¸åŸºæœ¬æ•°æ®ç±»å‹çš„ç›´æ¥è½¬æ¢

#### å­—ç¬¦ä¸²è½¬æ¢æˆåŸºæœ¬æ•°æ®ç±»å‹

* é€šè¿‡åŒ…è£…ç±»çš„æ„é€ å™¨å®ç°ï¼š
* é€šè¿‡åŒ…è£…ç±»çš„parseXxxï¼ˆString sï¼‰é™æ€æ–¹æ³•ï¼š

```java
  int i = new Integer(â€œ12â€);
  Float f = Float.parseFloat(â€œ12.1â€);
```

#### åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²

```java
String fstr = String.valueOf(2.34f);
String intStr = 5 + â€œâ€ï¼›	//æ›´ç›´æ¥çš„æ–¹å¼
```



## å¼‚å¸¸å¤„ç†

> æ•è·é”™è¯¯æœ€ç†æƒ³çš„æ˜¯åœ¨ç¼–è¯‘æœŸé—´ï¼Œä½†æœ‰çš„é”™è¯¯åªæœ‰åœ¨è¿è¡Œæ—¶æ‰ä¼šå‘ç”Ÿã€‚
>
> å¯¹äºè¿™äº›é”™è¯¯ï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š
>
> * é‡åˆ°é”™è¯¯å°±ç»ˆæ­¢ç¨‹åºçš„è¿è¡Œ
> * ç”±ç¨‹åºå‘˜åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œå°±è€ƒè™‘åˆ°é”™è¯¯çš„æ£€æµ‹ã€é”™è¯¯æ¶ˆæ¯çš„æç¤ºï¼Œä»¥åŠé”™è¯¯çš„å¤„ç†

Javaç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­æ‰€å‘ç”Ÿçš„å¼‚å¸¸äº‹ä»¶å¯åˆ†ä¸ºä¸¤ç±»ï¼š

* Error: JVMç³»ç»Ÿå†…éƒ¨é”™è¯¯ã€èµ„æºè€—å°½ç­‰ä¸¥é‡æƒ…å†µ
* Exception: å…¶å®ƒå› ç¼–ç¨‹é”™è¯¯æˆ–å¶ç„¶çš„å¤–åœ¨å› ç´ å¯¼è‡´çš„ä¸€èˆ¬æ€§é—®é¢˜ï¼Œä¾‹å¦‚ï¼š
  1. ç©ºæŒ‡é’ˆè®¿é—®
  2. è¯•å›¾è¯»å–ä¸å­˜åœ¨çš„æ–‡ä»¶
  3. ç½‘ç»œè¿æ¥ä¸­æ–­
  4. ...

![image-20210106131514622](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106131514622.png)

### å¼‚å¸¸å¤„ç†æœºåˆ¶ â€”â€” æŠ“æŠ›æ¨¡å‹

```java
//try-catch
int i = 0;
try{
    System.out.println(3);    //ä¼šè¢«æ‰§è¡Œ
    System.out.println(3/i);
    System.out.println(2);    //ä¸Šé¢æŠ¥é”™ï¼Œä¸ä¼šæ‰§è¡Œ
}catch(Exception e){
    e.printStrackTrace;
    System.out.println(e.getMessage());
}finally{    //å¯å†™å¯ä¸å†™
    System.out.println(1);
}
```

```java
//è¿ç»­æ•è·
//æ•æ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸
//åœ¨æ•æ‰å¼‚å¸¸çš„ä»£ç å—ä¸­ï¼Œå¦‚æœå‰é¢çš„ä»£ç æœ‰å¼‚å¸¸äº†å°±ä¸ä¼šæ‰§è¡Œåé¢äº†
try{
    é”™è¯¯1ï¼›
    é”™è¯¯2ï¼›
}catch(ArrayIndexOutOfBoundsException e1){
    Systemout...;
}catch(NullPointerException e2){
    Systemout...;
}
```

```java
//throw
//å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œå­ç±»ä¸èƒ½æŠ›å‡ºæ¯”çˆ¶ç±»æ–¹æ³•æ›´å¤§èŒƒå›´çš„å¼‚å¸¸
public void readFile(String file)  throws FileNotFoundException {
  // è¯»æ–‡ä»¶çš„æ“ä½œå¯èƒ½äº§ç”ŸFileNotFoundExceptionç±»å‹çš„å¼‚å¸¸
  FileInputStream fis = new FileInputStream(file);
}
```

```java
//äººå·¥æŠ›å‡ºå¼‚å¸¸
int age;
public void test(int age) throws Exception{
    if(age>=0 && age <=150){
        this.age = age;
        System.out.println("å¹´é¾„æ˜¯ï¼š" + this.age);
    }else{
        throw new Exception("å¹´é¾„åœ¨0åˆ°150ä¹‹é—´");
    }
}
```

```java
//åˆ›å»ºç”¨æˆ·è‡ªå®šä¹‰å¼‚å¸¸ç±»
public class MyException extends Exception{
       private int idnumber;
       public MyException(String message, int id) {
              super(message);
              this.idnumber = id;
       }      
}
int age;
public void TEST2(int age) throws MyException{
       if(age <=150 && age>=0) {
              this.age = age;
       }else {
              throw new MyException(message, id)
       }
}
//Javaæ‰€æä¾›çš„å¼‚å¸¸ç±»ä¸€èˆ¬å¤Ÿç”¨ï¼Œä¸å¤ªä¼šè‡ªå®šä¹‰å»ºç«‹å¼‚å¸¸ç±»
```

### finallyä»£ç å—

> æœ‰ä¸€äº›ç‰¹å®šçš„ä»£ç æ— è®ºå¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œéƒ½éœ€è¦æ‰§è¡Œ
>
> å¦å¤–ï¼Œæœ‰ä¸€äº›ä»£ç å‘ç”Ÿå¼‚å¸¸åäº§ç”Ÿè·³è½¬ï¼Œæœ‰çš„ä»£ç æ‰§è¡Œä¸åˆ°

```java
try{
	å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç 
}catch(å®šä¹‰ä¸€ä¸ªå¼‚å¸¸çš„å˜é‡ï¼Œç”¨æ¥æ¥æ”¶tryä¸­æŠ›å‡ºçš„å¼‚å¸¸){
    å¼‚å¸¸çš„å¤„ç†é€»è¾‘
    ä¸€èˆ¬å·¥ä½œä¸­ä¼šæŠŠå¼‚å¸¸ä¿¡æ¯è®°å½•åˆ°ä¸€ä¸ªæ—¥å¿—ä¸­
}finally{
    æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œ
}
/*
æ³¨æ„äº‹é¡¹ï¼š
1. finallyä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå¿…é¡»å’Œtryä¸€èµ·ä½¿ç”¨
2. finallyä¸€èˆ¬ç”¨äºèµ„æºé‡Šæ”¾ï¼ˆèµ„æºå›æ”¶ï¼‰ï¼Œä¸è®ºç¨‹åºæ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œæœ€åéƒ½è¦èµ„æºé‡Šæ”¾
*/

```



## å¤šçº¿ç¨‹

è¿›ç¨‹(process)æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºã€‚åŠ¨æ€è¿‡ç¨‹ï¼šæœ‰å®ƒè‡ªèº«çš„äº§ç”Ÿã€å­˜åœ¨å’Œæ¶ˆäº¡çš„è¿‡ç¨‹ã€‚**è¿›ç¨‹æ˜¯ç³»ç»Ÿè¿›è¡Œèµ„æºåˆ†é…å’Œè°ƒåº¦çš„åŸºæœ¬å•ä½ã€‚**

* å¦‚ï¼šè¿è¡Œä¸­çš„QQï¼Œè¿è¡Œä¸­çš„MP3æ’­æ”¾å™¨
* ç¨‹åºæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„

---------------------

çº¿ç¨‹(thread)ï¼Œè¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯ä¸€ä¸ªç¨‹åºå†…éƒ¨çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚è‹¥ä¸€ä¸ªç¨‹åºå¯åŒä¸€æ—¶é—´æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ã€‚**çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¿›è¡Œè¿ç®—è°ƒåº¦çš„æœ€å°å•ä½ã€‚**ä¸€ä¸ªè¿›ç¨‹è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚

ğŸ™‹â€ é›†åˆåªè¦æ˜¯ä¸å®‰å…¨çš„ï¼Œå°±æ˜¯å¤šçº¿ç¨‹

--------------

å¹¶å‘ä¸å¹¶è¡Œ

* å¹¶å‘ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€ä¸ªæ—¶é—´æ®µå†…å‘ç”Ÿ

  ![image-20210106145441281](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106145441281.png)

* å¹¶è¡Œï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨åŒä¸€æ—¶åˆ»å‘ç”Ÿï¼ˆåŒæ—¶å‘ç”Ÿï¼‰

  ![image-20210106145512976](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106145512976.png)

------------------

### çº¿ç¨‹è°ƒåº¦

* åˆ†æ—¶è°ƒåº¦
  * æ‰€æœ‰çš„çº¿ç¨‹è½®æµä½¿ç”¨CPUçš„ä½¿ç”¨æƒï¼Œå¹³å‡åˆ†é…æ¯ä¸ªçº¿ç¨‹å ç”¨CPUçš„æ—¶é—´
* æŠ¢å å¼è°ƒåº¦
  * ä¼˜å…ˆè®©ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ä½¿ç”¨CPUï¼Œå¦‚æœä¼˜å…ˆçº§ç›¸åŒï¼Œé‚£ä¹ˆéšæœºé€‰æ‹©ä¸€ä¸ª

-------------

### ä¸»çº¿ç¨‹

> æ‰§è¡Œä¸»æ–¹æ³•çš„çº¿ç¨‹

å•çº¿ç¨‹ç¨‹åºï¼šæŒ‡javaç¨‹åºä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹

æ‰§è¡Œä»mainæ–¹æ³•å¼€å§‹ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œ

![image-20210106151135612](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106151135612.png)

### çº¿ç¨‹ç±»

#### åˆ›å»ºçº¿ç¨‹ç±»

```java
//java.lang.Thread
/*
1. åˆ›å»ºä¸€ä¸ªThreadç±»çš„å­ç±»
2. åœ¨Threadç±»çš„å­ç±»ä¸­é‡å†™Threadç±»ä¸­çš„runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹ä»»åŠ¡
3. åˆ›å»ºThreadç±»ä¸­çš„å­ç±»å¯¹è±¡
4. è°ƒç”¨Threadç±»ä¸­çš„æ–¹æ³•startæ–¹æ³•ï¼Œå¼€å¯æ–°çš„çº¿ç¨‹æ‰§è¡Œrunæ–¹æ³•
	void start():javaè™šæ‹Ÿæœºè°ƒç”¨è¯¥çº¿ç¨‹çš„runæ–¹æ³•
	ç»“æœæ˜¯ä¸¤ä¸ªçº¿ç¨‹å¹¶å‘è¿è¡Œï¼Œå½“å‰çº¿ç¨‹ï¼ˆmainçº¿ç¨‹ï¼‰å’Œå¦ä¸€ä¸ªçº¿ç¨‹ï¼ˆåˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œæ‰§è¡Œå…¶runæ–¹æ³•ï¼‰
	å¤šæ¬¡å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹æ˜¯éæ³•çš„ï¼Œç‰¹åˆ«æ˜¯çº¿ç¨‹å·²ç»ç»“æŸæ‰§è¡Œåï¼Œä¸èƒ½å†é‡æ–°å¯åŠ¨
	javaå±äºæŠ¢å å¼è°ƒåº¦ï¼Œä¼˜å…ˆçº§é«˜çš„å…ˆæ‰§è¡Œï¼Œä¸€æ ·é«˜éšæœºæ‰§è¡Œ
*/

public class MyThread extends Thread{
    @Override
    public void run(){
        for(int i = 0; i < 20; i++){
            System.out.println("æ‰§è¡Œç¬¬"+i+"æ¬¡");
        }
    }
}

/*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/

//åˆ›å»ºå­ç±»å¯¹è±¡
public class DemoThread{
    public static void main(String[] args){
        MyThread mt = new Thread();
        mt.start();		
        
        for(int i = 0; i < 20; i++){
            System.out.println("main"+i);
        }
        //ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿è¿è¡Œ
    }
}
```

![image-20210106161708569](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106161708569.png)

å¤šçº¿ç¨‹å†…å­˜å›¾è§£ï¼š

![image-20210106162118980](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106162118980.png)

#### ä½¿ç”¨å®ç°Runnableåˆ›å»ºçº¿ç¨‹ç±»

> Runnbaleæ¥å£åº”è¯¥ç”±é‚£äº›æ‰“ç®—é€šè¿‡æŸä¸€çº¿ç¨‹æ‰§è¡Œå…¶å®ä¾‹çš„ç±»æ¥å®ç°ã€‚
>
> ç±»å¿…é¡»å®šä¹‰ä¸€ä¸ªæˆä¸ºrunçš„æ— å‚æ•°æ–¹æ³•ã€‚

```java
//Threadçš„ä¸¤ç§æ„é€ æ–¹æ³•
Thread(Runnable target)
Thread(Runnable target, String name)
```

```java
//å®ç°Runnbaleæ¥å£
/*
å®ç°æ­¥éª¤ï¼š
1. åˆ›å»ºä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»
2. åœ¨å®ç°ç±»ä¸­é‡å†™Runnableæ¥å£çš„runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹ä»»åŠ¡
3. åˆ›å»ºä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡
4. åˆ›å»ºThreadç±»å¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’Runnableæ¥å£çš„å®ç°ç±»å¯¹è±¡
5. è°ƒç”¨Threadç±»ä¸­çš„startæ–¹æ³•ï¼Œå¼€å¯æ–°çš„çº¿ç¨‹æ‰§è¡Œrunæ–¹æ³•
*/

public class RunnableImpl implements Runnable{
    @Override
    public void run(){
        for(int i = 0; i < 20; i++){
           System.out.println(Thread.currentThread().getName()+"i");
        }
    }
}

/*---------------------------------------------*/

public class DemoRunnable{
    public static void main(String[] args){
        //åˆ›å»ºä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»å¯¹è±¡
        RunnableImpl run = new RunnableImpl();
        Thread t = new Thread(run);
        t.start;
        
        for(int i = 0; i < 20; i++){
           System.out.println(Thread.currentThread().getName()+"i");
        }
    }
}

```

#### ä¸¤ç§åˆ›å»ºçº¿ç¨‹ç±»æ–¹æ³•çš„åŒºåˆ«

å®ç°Runnableæ¥å£åˆ›å»ºå¤šçº¿ç¨‹ç¨‹åºçš„å¥½å¤„ï¼š

1. é¿å…äº†å•ç»§æ‰¿çš„å±€é™

   ç±»ç»§æ‰¿äº†Threadç±»åˆ™ä¸èƒ½ç»§æ‰¿å…¶ä»–çš„ç±»ï¼Œè€Œå®ç°äº†Runnableå‡ å£ï¼Œè¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–ç±»ï¼Œè¿˜å¯ä»¥å®ç°å…¶ä»–æ¥å£

2. å¢å¼ºäº†ç¨‹åºçš„æ‰©å±•æ€§ï¼Œé™ä½äº†ç¨‹åºçš„è€¦åˆæ€§

   å®ç°ç±»ä¸­é‡å†™äº†runæ–¹æ³•ï¼šç”¨æ¥è®¾ç½®çº¿ç¨‹ä»»åŠ¡

   è€Œåˆ›å»ºThreadç±»å¯¹è±¡ï¼Œè°ƒç”¨startæ–¹æ³•ï¼šç”¨æ¥å¼€å¯æ–°çš„çº¿ç¨‹

   æ–¹ä¾¿åˆ›å»ºæ–°çš„å®ç°ç±»æ¥å®ç°ä¸åŒçš„runæ–¹æ³•ï¼Œä¼ é€’ä¸åŒçš„å®ç°ç±»å®ç°ä¸åŒçš„å†…å®¹

#### åŒ¿åå†…éƒ¨ç±»å®ç°ç°æˆçš„åˆ›å»º

```java
public class DemoRunnable{
    public static void main(String[] args){
        //çº¿ç¨‹çš„çˆ¶ç±»æ˜¯Thread
        new Thread(){
            //é‡å†™runæ–¹æ³•
            @Override
            public void run(){
                for(int i = 0; i < 20; i++){
                    System.out.print(Thread.currentThread().getName()+"--1");
                }
            }
        }
        
        //å®ç°runnableæ¥å£
        //åˆ©ç”¨å¤šæ€Runnbale r = new RunnableImpl();
        Runnable r = new Runnable(){
            //é‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹ä»»åŠ¡
            @Override
            public void run(){
                for(int i = 0; i < 20; i++){
                    System.out.print(Thread.currentThread().getName()+"--2");
                }
            }
        }
        new Thread(r).start();
        
        //Runnableå®ç°çš„ç®€åŒ–æ–¹æ³•
        new Thread(new Runnable(){
            @Override
            public void run(){
                for(int i = 0; i < 20; i++){
                    System.out.print(Thread.currentThread().getName()+"--2");
                }
            }
        }).start();
    }
}
```



### Threadç±»å¸¸ç”¨æ–¹æ³•

```java
public String getName()	//è·å–å½“å‰çº¿ç¨‹å
public void start()	//JVMè°ƒç”¨æ­¤çº¿ç¨‹çš„runæ–¹æ³•
public void run()	//æ­¤çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œåœ¨æ­¤å¤„å®šä¹‰ä»£ç 
public static void sleep(long millis)	//æ˜¯å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹ä»¥æŒ‡å®šæ¯«ç§’æ•°æš‚åœï¼ˆæš‚åœæ‰§è¡Œï¼‰
public static Thread currentThread()	//è¿”å›å¯¹å½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡çš„å¼•ç”¨
```

```java
public class MyThread extends Thread{
    @Override
    public void run(){
        String name = getName();
        System.out.println(name);
        
        Thread t = Thread.currentThread();	//é™æ€æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥è¿”å›åå­—
        String name = t.getName();
        System.out.println(name);
        //Thread.currentThread().getName();
    }
}
/*----------------------------------------------------*/
/*çº¿ç¨‹çš„åç§°ï¼š
	ä¸»çº¿ç¨‹ï¼šmain
	æ–°çº¿ç¨‹ï¼šThread-0ï¼ŒThread-1ï¼ŒThread-2
*/
public class DemoThread{
    public static void main(String[] args){
        MyThread mt = new Thread();
        mt.start();		
        
        new MyThread().start();
    }
}
```

#### è®¾ç½®çº¿ç¨‹çš„åç§°

```java
/*
è®¾ç½®çº¿ç¨‹çš„åç§°ï¼ˆäº†è§£ï¼‰ï¼š
1. ä½¿ç”¨Threadç±»ä¸­çš„æ–¹æ³•setName(åå­—)
	void setName(String Name)
2. åˆ›å»ºä¸€ä¸ªå¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå‚æ•°ä¼ é€’çº¿ç¨‹çš„åç§°ï¼Œè°ƒç”¨çˆ¶ç±»çš„å¸¦å‚æ„é€ æ–¹æ³•ï¼ŒæŠŠçº¿ç¨‹åç§°ä¼ é€’ç»™çˆ¶ç±»ï¼Œè®©çˆ¶ç±»Threadç»™å­çº¿ç¨‹èµ·ä¸€ä¸ªåå­—
*/
public class MyThread extends Thread{
    //ç¬¬äºŒç§æ–¹æ³•
    public MyThread(){}
    public MyThread(String Name){
        super(name);
        //æŠŠçº¿ç¨‹åç§°ä¼ é€’ç»™çˆ¶ç±»ï¼Œè®©çˆ¶ç±»ï¼ˆThreadï¼‰ç»™å­ç±»èµ·ä¸€ä¸ªåå­—
    }
    
    @Override
    public void run(){
        //è·å–çº¿ç¨‹çš„åç§°
        System.out.println(Thread.currentThread().getName());
        
    }
}
/*----------------------------------------------*/
public class DemoSetName{
    public static void main(String[] args){
        //å¼€å¯å¤šçº¿ç¨‹
        MyThread mt = new MyThread();
        mt.setName("Thread-No.1");	//ç¬¬ä¸€ç§æ–¹æ³•
        mt.start;
        
        //å¼€å¯å¤šçº¿ç¨‹
        new MyThread("Thread-No.2").start();	//ç¬¬äºŒç§æ–¹æ³•
    }
}


```

#### æš‚åœçº¿ç¨‹çš„æ‰§è¡Œ

```java
//æ¯«ç§’æ•°ç»“æŸåï¼Œçº¿ç¨‹ç»§ç»­æ‰§è¡Œ
public class DemoSetName{
    public static void main(String[] args){
        for(int i = 1; i <= 60; i++){
            System.out.print(i);
            //ä½¿ç”¨Threadç±»çš„sleepæ–¹æ³•è®©ç¨‹åºç¡çœ 1ç§’é’Ÿ
            try{
                Thread.sleep(1000);
            }catch(InterruptedException e){
                e.printStackTrace();
            }
            
        }
    }
}
```

### çº¿ç¨‹åŒæ­¥æœºåˆ¶

#### çº¿ç¨‹å®‰å…¨é—®é¢˜

ğŸ™‹â€ **åŸå› ï¼šå¤šçº¿ç¨‹è®¿é—®äº†å…±äº«æ•°æ®**

![image-20210106205821538](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106205821538.png)

è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„æ–¹æ³•ï¼š

1. åŒæ­¥ä»£ç å—
2. åŒæ­¥æ–¹æ³•
3. é”æœºåˆ¶

--------------------

#### åŒæ­¥ä»£ç å—

```java
synchronized(åŒæ­¥é”){
	éœ€è¦åŒæ­¥æ“ä½œçš„ä»£ç 
}
```

```java
/*
æ³¨æ„ï¼š
1. é€šè¿‡ä»£ç å—çš„é”å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ä»»æ„å¯¹è±¡
2. ä½†æ˜¯å¿…é¡»ä¿è¯å¤šä¸ªçº¿ç¨‹ä½¿ç”¨çš„é”å¯¹è±¡æ˜¯åŒä¸€ä¸ª
3. é”å¯¹è±¡ä½œç”¨ï¼šæŠŠåŒæ­¥ä»£ç å—é”ä½ï¼Œåªè®©ä¸€ä¸ªçº¿ç¨‹åœ¨åŒæ­¥ä»£ç å—ä¸­æ‰§è¡Œ
*/

public class RunnableImp implements Runnable{
    //å®šä¹‰ä¸€ä¸ªå¤šä¸ªçº¿ç¨‹å…±äº«çš„ç¥¨æº
    private int ticket = 100;
    
    //åˆ›å»ºä¸€ä¸ªé”å¯¹è±¡ï¼Œè¦å†™åœ¨runæ–¹æ³•å¤–è¾¹
    Object obj = new Object();
    
    @Override
    public void run(){
        while(true){
            Sybcgribuzed(obj){
                //ç¥¨æ˜¯å¦å­˜åœ¨
            	if(ticket>0){
                	System.out.println(Thread.currentThread().getName()+"æ­£åœ¨å–ç¬¬"+ticket+"å¼ ç¥¨")ï¼›
                	ticket--;
            	}
            }
        }
    }
}
/* mainæ–¹æ³•ä¸­æœ‰ä¸‰ä¸ªçº¿ç¨‹ */
```

åŒæ­¥æŠ€æœ¯çš„åŸç†ï¼š

> ä½¿ç”¨äº†ä¸€ä¸ªé”å¯¹è±¡ï¼Œè¿™ä¸ªé”å¯¹è±¡å«åŒæ­¥é”ï¼Œä¹Ÿå«å¯¹è±¡é”ï¼Œä¹Ÿå«å¯¹è±¡ç›‘è§†å™¨

* å½“ä¸€ä¸ªçº¿ç¨‹å¾—åˆ°äº†CPUæ‰§è¡Œæƒï¼Œé‡åˆ°synchronizedä»£ç å—ï¼Œä¼šæ£€æŸ¥ä»£ç å—æ˜¯å¦æœ‰é”å¯¹è±¡
  * å¦‚æœæœ‰ï¼Œåˆ™ä¼šè·å–é”å¯¹è±¡ï¼Œå¹¶è¿›å…¥åˆ°åŒæ­¥ä¸­æ‰§è¡Œ
  * å¦‚æœæ²¡æœ‰ï¼Œåˆ™ä¼šè¿›å…¥åˆ°é˜»å¡çŠ¶æ€ï¼Œç­‰åˆ°ä¸Šä¸€ä¸ªè·å¾—é”å¯¹è±¡çš„çº¿ç¨‹å½’è¿˜é”å¯¹è±¡ï¼Œè¯¥çº¿ç¨‹è·å¾—é”å¯¹è±¡æ‰èƒ½è¿›å…¥åŒæ­¥ä¸­æ‰§è¡Œ

ğŸ™‹â€ **æ€»ç»“ï¼šåŒæ­¥ä¸­çš„çº¿ç¨‹ï¼Œæ²¡æœ‰æ‰§è¡Œå®Œæ¯•ä¸ä¼šé‡Šæ”¾é”ï¼ŒåŒæ­¥å¤–çš„çº¿ç¨‹æ²¡æœ‰é”è¿›ä¸å»åŒæ­¥**

âœ… ç»™é€šè¿‡åŒæ­¥ä¿è¯äº†åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹åœ¨åŒæ­¥ä¸­æ‰§è¡Œå…±äº«æ•°æ®ï¼Œä¿è¯äº†å®‰å…¨

âŒ æŸ¥ç¨‹åºé¢‘ç¹çš„åˆ¤æ–­é”ï¼Œè·å–é”ï¼Œç¨‹åºçš„æ•ˆç‡ä¼šé™ä½

--------------------

#### åŒæ­¥æ–¹æ³•

ä½¿ç”¨æ­¥éª¤ï¼š

1. æŠŠè®¿é—®äº†å…±äº«æ•°æ®çš„ä»£ç æŠ½å–å‡ºæ¥ï¼Œæ”¾åˆ°ä¸€ä¸ªæ–¹æ³•ä¸­
2. åœ¨æ–¹æ³•ä¸Šæ·»åŠ ä¸€ä¸ªsynchronizedä¿®é¥°ç¬¦

```java
ä¿®é¥°ç¬¦ synchronized è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨){
	å¯èƒ½ä¼šå‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç ï¼ˆè®¿é—®äº†å…±äº«æ•°æ®çš„ä»£ç ï¼‰
}
```

```java
//åŒæ­¥æ–¹æ³•
/*
å®šä¹‰ä¸€ä¸ªåŒæ­¥æ–¹æ³•ï¼ŒåŒæ­¥æ–¹æ³•ä¹Ÿä¼šæŠŠæ–¹æ³•å†…éƒ¨çš„ä»£ç é”ä½ï¼Œåªè®©ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ
åŒæ­¥æ–¹æ³•çš„é”å¯¹è±¡æ˜¯è°ï¼Ÿæ˜¯å®ç°ç±»å¯¹è±¡ new RunnableImpl()ï¼Œä¹Ÿå°±æ˜¯this
	å…¶å®å’Œåˆ©ç”¨åŒæ­¥ä»£ç å—ç„¶åæŠŠthisä¸¢è¿›å»ä½œä¸ºé”å¯¹è±¡æ˜¯ä¸€ä¸ªé“ç†
*/
public synchronized void payTicket(){
    if(ticket>0){
		System.out.println(Thread.currentThread().getName()+"æ­£åœ¨å–ç¬¬"+ticket+"å¼ ç¥¨")ï¼›
		ticket--;
    }
}
/*----------------------------------*/
public class RunnableImp implements Runnable{
    //å®šä¹‰ä¸€ä¸ªå¤šä¸ªçº¿ç¨‹å…±äº«çš„ç¥¨æº
    private int ticket = 100;
    
    @Override
    public void run(){
        while(true){
            payTicket();	//è°ƒç”¨åŒæ­¥æ–¹æ³•
        }
    }
}
/* mainæ–¹æ³•ä¸­æœ‰ä¸‰ä¸ªçº¿ç¨‹ */
```



##### é™æ€åŒæ­¥æ–¹æ³•

```java
/*
é™æ€æ–¹æ³•çš„é”å¯¹è±¡ä¸èƒ½å†æ˜¯thisäº†ï¼Œå› ä¸ºthisæ˜¯åˆ›å»ºå¯¹è±¡ä¹‹åäº§ç”Ÿçš„ï¼Œé™æ€æ–¹æ³•ä¼˜å…ˆäºå¯¹è±¡
é™æ€åŒæ­¥æ–¹æ³•çš„é”å¯¹è±¡æ˜¯æœ¬ç±»çš„classå±æ€§ --> classæ–‡ä»¶å¯¹è±¡ï¼ˆåå°„ï¼‰
*/

public static synchronized void payTicketStatic(){
    if(ticket>0){
		System.out.println(Thread.currentThread().getName()+"æ­£åœ¨å–ç¬¬"+ticket+"å¼ ç¥¨")ï¼›
		ticket--;
    }
}
/*----------------------------------*/
public class RunnableImp implements Runnable{
    //å®šä¹‰ä¸€ä¸ªå¤šä¸ªçº¿ç¨‹å…±äº«çš„ç¥¨æº
    private static int ticket = 100;
    
    @Override
    public void run(){
        while(true){
            payTicket();	//è°ƒç”¨åŒæ­¥æ–¹æ³•
        }
    }
}
/* mainæ–¹æ³•ä¸­æœ‰ä¸‰ä¸ªçº¿ç¨‹ */
```



#### é”æœºåˆ¶ï¼ˆLocké”ï¼‰

> java.util.concurrent.locks.lock
>
> Lockå®ç°æä¾›äº†æ¯”ä½¿ç”¨synchronizedæ–¹æ³•å’Œè¯­å¥æ›´ä¸ºå¹¿æ³›çš„é”å®šæ“ä½œã€‚

```java
void lock()		//è·å–é”
void unlock()	//é‡Šæ”¾é”
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åœ¨æˆå‘˜ä½ç½®åˆ›å»ºä¸€ä¸ªlockçš„å®ç°ç±»å¯¹è±¡ReentranLockå¯¹è±¡
2. åœ¨å¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„ä»£ç å‰è°ƒç”¨Lockæ¥å£ä¸­çš„æ–¹æ³•lockè·å–é”
3. åœ¨å¯èƒ½å‡ºç°å®‰å…¨é—®é¢˜çš„ä»£ç åè°ƒç”¨Lockæ¥å£ä¸­çš„æ–¹æ³•unlockè·å–é”

```java
public class RunnableImp implements Runnable{
    //å®šä¹‰ä¸€ä¸ªå¤šä¸ªçº¿ç¨‹å…±äº«çš„ç¥¨æº
    private int ticket = 100;
    
    //åˆ›å»ºä¸€ä¸ªReentranLockå¯¹è±¡
    Lock l = new ReentranLock();
    
    @Override
    public void run(){
        while(true){
            l.lock();		//è·å–é”
            if(ticket>0){
                System.out.println(Thread.currentThread().getName()+"æ­£åœ¨å–ç¬¬"+ticket+"å¼ ç¥¨")ï¼›
                ticket--;
            }
            l.unlock();		//é‡Šæ”¾é”
        }
    }
}
/* mainæ–¹æ³•ä¸­æœ‰ä¸‰ä¸ªçº¿ç¨‹ */
```

```java
/*
æ›´å¥½çš„æ–¹æ³•æ˜¯æŠŠunlock()æ–¹æ³•æ”¾åœ¨finallyä¸­ä½¿ç”¨
*/
l.lock();
...
try{
    ...
}catch(...){
    ...
}finally{
    l.unlock();
}
```



### çº¿ç¨‹çŠ¶æ€

çº¿ç¨‹å…±æœ‰å…­ç§çŠ¶æ€ï¼š

1. æ–°å»ºçŠ¶æ€
2. è¿è¡ŒçŠ¶æ€
3. é˜»å¡çŠ¶æ€
4. è®¡æ—¶ç­‰å¾…çŠ¶æ€
5. æ— é™ç­‰å¾…çŠ¶æ€
6. æ­»äº¡çŠ¶æ€

çº¿ç¨‹çŠ¶æ€è½¬æ¢å›¾

![image-20210106220656236](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106220656236.png)

-------------------------

#### TIMED_WAITINGï¼ˆè®¡æ—¶ç­‰å¾…çŠ¶æ€ï¼‰

![image-20210106220935739](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106220935739.png)

#### BLOCKEDï¼ˆé”é˜»å¡çŠ¶æ€ï¼‰

![image-20210106221024553](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106221024553.png)

#### WAITINGï¼ˆæ— é™ç­‰å¾…çŠ¶æ€ï¼‰

```java
/*
	void wait():å…¶ä»–çº¿ç¨‹è°ƒç”¨æ­¤å¯¹è±¡çš„notify()æ–¹æ³•æˆ–notifyAll()æ–¹æ³•å‰ï¼Œå¯¼è‡´å…ˆå‰çº¿ç¨‹ç­‰å¾…
	void notify():å”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„å•ä¸ªçº¿ç¨‹ï¼Œä¼šç»§ç»­æ‰§è¡Œwaitæ–¹æ³•åçš„ä»£ç 
*/
public class DemoWaitAndNotify{
    public static void main(String[] args){
        //åˆ›å»ºé”å¯¹è±¡ï¼Œä¿è¯å”¯ä¸€
        Object obj = new Object();
        //åˆ›å»ºä¸€ä¸ªé¡¾å®¢çº¿ç¨‹ï¼ˆæ¶ˆè´¹è€…ï¼‰
        new Thread(){
            @Override
            public void run(){
                //ä½¿ç”¨åŒæ­¥æŠ€æœ¯
                synchronized(obj){
                    System.out.println("Tell someone");
                    try{
                        obj.wait();	//è°ƒç”¨objè¿›è¡Œç­‰å¾…
                    }catch(InterruptedException e){
                        e.printStackTrace();
                    }
                }
            }
        }.start();
    }
    
    //ç”Ÿäº§è€…çº¿ç¨‹
    new Thread(){
        @Override
        public void run(){
            //èŠ±è´¹äº”ç§’é’Ÿç”Ÿäº§
            try{
                Thread.sleep(5000);
            }catch(InterruptedException e){
                e.printStackTrace();
            }
            synchronized(obj){
                System.out.println("well done");
                obj.notify();	//è°ƒç”¨objè¿›è¡Œå”¤é†’ï¼Œä¸¤è€…è¦ä¸€è‡´
            }
        }
    }
}
```

```java
/*
è¿›å…¥åˆ°TimeWaitingï¼ˆç­‰å¾…è®¡æ—¶ï¼‰æœ‰ä¸¤ç§æ–¹å¼
1. ä½¿ç”¨sleep(long m)æ–¹æ³•ï¼Œåœ¨æ¯«ç§’å€¼ç»“æŸä¹‹åï¼Œçº¿ç¨‹å”¤é†’è¿›å…¥åˆ°Runnable/BlockedçŠ¶æ€
2. ä½¿ç”¨wait(long m)æ–¹æ³•ï¼Œwaitæ–¹æ³•å¦‚ä½•åœ¨æ¯«ç§’å€¼ç»“æŸä¹‹åï¼Œè¿˜æ²¡æœ‰è¢«notifyå”¤é†’ï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨é†’æ¥è¿›å…¥Runnable/BlockedçŠ¶æ€

å”¤é†’çš„æ–¹æ³•ï¼š
1. notify() :å¦‚æœæœ‰å¤šä¸ªç­‰å¾…çº¿ç¨‹ï¼Œéšæœºå”¤é†’ä¸€ä¸ª
2. notifyAll() :å”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹
*/

...
    synchronized(obj){
                    System.out.println("Tell someone");
                    try{
                        obj.wait(5000);	//è°ƒç”¨objè¿›è¡Œç­‰å¾…ï¼Œå¸¦å‚æ•°wait
                    }catch(InterruptedException e){
                        e.printStackTrace();
                    }
                }
...
    synchronized(obj){
                System.out.println("well done");
                obj.notifyAll();	//è°ƒç”¨objè¿›è¡Œå”¤é†’ï¼Œå”¤é†’æ‰€æœ‰ç­‰å¾…çš„çº¿ç¨‹
            }
```



### çº¿ç¨‹é—´é€šä¿¡

> å¤šä¸ªçº¿ç¨‹å¤„ç†åŒä¸€ä¸ªèµ„æºï¼Œä½†æ˜¯å¤„ç†çš„åŠ¨ä½œï¼ˆçº¿ç¨‹çš„ä»»åŠ¡ï¼‰å´ä¸ç›¸åŒã€‚
>
> è€Œå¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œæ—¶ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹Cpuæ˜¯éšæœºåˆ‡æ¢çš„ã€‚å½“æˆ‘ä»¬éœ€è¦å¤šä¸ªçº¿ç¨‹æœ‰è§„å¾‹çš„å…±åŒå®Œæˆä¸€ä»¶ä»»åŠ¡ï¼Œå°±éœ€è¦å¤šä¸ªçº¿ç¨‹ä¹‹é—´åè°ƒé€šä¿¡

ğŸ™‹â€ åˆ©ç”¨**ç­‰å¾…å”¤é†’æœºåˆ¶**å®Œæˆçº¿ç¨‹é—´é€šä¿¡çš„å®ç°

#### ç­‰å¾…å”¤é†’æœºåˆ¶

```java
//æ‰€ä½¿ç”¨åˆ°çš„æ–¹æ³•
wait()
notify()
notifyAll()
/*
å³ä½¿åªé€šçŸ¥äº†ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹ï¼Œè¢«é€šçŸ¥çº¿ç¨‹ä¹Ÿä¸èƒ½ç«‹å³æ¢å¤æ‰§è¡Œï¼Œå› ä¸ºå®ƒå½“åˆä¸­æ–­çš„åœ°æ–¹æ˜¯åœ¨åŒæ­¥å—å†…ï¼Œè€Œæ­¤åˆ»å®ƒå·²ç»ä¸æŒæœ‰é”ï¼Œæ‰€ä»¥å¥¹éœ€è¦å†æ¬¡å°è¯•å»è·å–é”ï¼ˆå¾ˆå¯èƒ½é¢ä¸´å…¶ä»–çº¿ç¨‹çš„ç«äº‰ï¼‰ï¼ŒæˆåŠŸåæ‰èƒ½åœ¨å½“åˆè°ƒç”¨waitæ–¹æ³•ä¹‹åçš„åœ°æ–¹æ¢å¤æ‰§è¡Œã€‚
æ€»ç»“ï¼š
	* å¦‚æœèƒ½è·å–é”ï¼Œçº¿ç¨‹ä»waitingçŠ¶æ€å˜æˆrunnableçŠ¶æ€
	* å¦åˆ™ï¼Œä»wait setå‡ºæ¥ï¼Œåˆè¿›å…¥entry setï¼Œå¿åŸå°±ä»waitingçŠ¶æ€å˜æˆblockedçŠ¶æ€
*/
    
/*
ä½¿ç”¨ç»†èŠ‚ï¼š
1. waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦ç”±åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨ã€‚å› ä¸ºï¼šå¯¹åº”çš„é”å¯¹è±¡å¯ä»¥é€šè¿‡notifyå”¤é†’ä½¿ç”¨åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨çš„waitæ–¹æ³•åçš„çº¿ç¨‹
2. waitæ–¹æ³•ä¸notifyæ–¹æ³•æ˜¯å±äºObjectç±»çš„æ–¹æ³•
3. waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦åœ¨åŒæ­¥ä»£ç å—æˆ–è€…åŒæ­¥å‡½æ•°ä¸­ä½¿ç”¨ã€‚å› ä¸ºï¼šå¿…é¡»è¦é€šè¿‡é”å¯¹è±¡è°ƒç”¨è¿™2ä¸ªæ–¹æ³•ã€‚
*/
```



ğŸ”¸ å‘ç­‰å¾…å”¤é†’éœ€æ±‚åˆ†æï¼Œä»¥ç”Ÿäº§è€…æ¶ˆè´¹è€…ï¼ˆåŒ…å­é“ºï¼‰ä¸ºä¾‹

åˆ†è®¸ï¼šä¸€ä¸ªç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜éœ€è¦å“ªäº›ç±»

1. èµ„æºç±» â€”â€” åŒ…å­ç±»ï¼š

   è®¾ç½®åŒ…å­çš„å±æ€§ï¼š

   * çš®
   * é¦…
   * åŒ…å­çš„çŠ¶æ€ï¼šæœ‰trueï¼Œæ— false

2. ç”Ÿäº§è€…ç±» â€”â€” çº¿ç¨‹ç±»ï¼Œç»§æ‰¿Thread

   è®¾ç½®çº¿ç¨‹ä»»åŠ¡ï¼šç”Ÿäº§åŒ…å­

   â€‹	å¯¹åŒ…å­çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼š

     * trueï¼šæœ‰åŒ…å­

       åŒ…å­è°ƒç”¨waitæ–¹æ³•è¿›å…¥ç­‰å¾…çŠ¶æ€

     * falseï¼šæ²¡æœ‰åŒ…å­

       ç”Ÿäº§è€…ç”Ÿäº§åŒ…å­

       ç”Ÿäº§è€…ç”Ÿäº§å®Œæ¯•å°†åŒ…å­çš„çŠ¶æ€æ”¹ä¸ºtrue

       åŒæ—¶å”¤é†’æ¶ˆè´¹è€…çº¿ç¨‹

3. æ¶ˆè´¹è€…ç±» â€”â€” çº¿ç¨‹ç±»ï¼Œç»§æ‰¿Thread

   è®¾ç½®çº¿ç¨‹ä»»åŠ¡ï¼šæ¶ˆè´¹åŒ…å­

   â€‹	å¯¹åŒ…å­çŠ¶æ€è¿›è¡Œåˆ¤æ–­ï¼š

   * trueï¼šæœ‰åŒ…å­

     æ¶ˆè´¹è€…æ¶ˆè´¹åŒ…å­

     ä¿®æ”¹åŒ…å­çš„çŠ¶æ€ä¸ºfalse

     å”¤é†’ç”Ÿäº§è€…çº¿ç¨‹

   * falseï¼šæ²¡æœ‰åŒ…å­

     æ¶ˆè´¹è€…çº¿ç¨‹è°ƒç”¨waitè¿›å…¥ç­‰å¾…çŠ¶æ€

4. æµ‹è¯•ç±» â€”â€” mainæ–¹æ³•

   åˆ›å»ºç”Ÿäº§è€…å¯¹è±¡ï¼Œåˆ›å»ºåŒ…å­çº¿ç¨‹ï¼Œåˆ›å»ºæ¶ˆè´¹è€…çº¿ç¨‹

```JAVA
public class BaoZi{
    String pi;
    String xian;
    Boolean state = false;
}
/*---------------------------------------------------------------------------*/
public class BaoZiPu extends Thread{
    private BaoZi bz;

    public BaoZiPu(BaoZi bz) {
        this.bz = bz;
    }

    @Override
    public void run() {
        int count = 0;
        while(true){
            synchronized (bz){
                if(bz.state){
                    try {
                        bz.wait();
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }

                else{
                    if(count%2==0){
                        bz.pi = "è–„çš®";
                        bz.xian = "ä¸‰é²œé¦…";
                    }else{
                        bz.pi = "å†°çš®";
                        bz.xian = "ç‰›è‚‰å¤§è‘±é¦…";
                    }
                    count++;
                    System.out.println("æ­£åœ¨ç”Ÿäº§ï¼š"+bz.pi+bz.xian+"åŒ…å­");
                    //ç”Ÿäº§åŒ…å­éœ€è¦ä¸‰ç§’é’Ÿ
                    try {
                        Thread.sleep(3000);
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                    bz.state = true;
                    bz.notify();
                    System.out.println("åŒ…å­é“ºå·²ç»ç”Ÿäº§å®Œæ¯•");
                }
            }
        }
    }
}
/*---------------------------------------------------------------------------*/
public class ChiHuo extends Thread{
    private BaoZi bz;

    public ChiHuo(BaoZi bz) {
        this.bz = bz;
    }

    @Override
    public void run() {
        while(true){
            synchronized (bz){
                if(bz.state){
                    System.out.println("åƒè´§åƒäº†ä¸€ä¸ª"+bz.pi+bz.xian+"çš„åŒ…å­");
                    bz.state=false;
                    bz.notify();
                }else{
                    try {
                        bz.wait();
                    } catch (InterruptedException e) {
                        e.printStackTrace();
                    }
                }
            }
        }
    }
}
/*---------------------------------------------------------------------------*/
public class Method {
    public static void main(String[] args) {
        BaoZi bz = new BaoZi();
        new BaoZiPu(bz).start();
        new ChiHuo(bz).start();

    }
}
```



### çº¿ç¨‹æ± 

å¦‚æœå¹¶å‘çš„çº¿ç¨‹æ•°é‡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯æ‰§è¡Œä¸€ä¸ªæ—¶é—´å¾ˆçŸ­çš„ä»»åŠ¡å°±ç»“æŸäº†ï¼Œè¿™æ ·é¢‘ç¹åˆ›å»ºçº¿ç¨‹å°±ä¼šå¤§å¤§é™ä½ç³»ç»Ÿçš„æ•ˆç‡ï¼Œå› ä¸ºé¢‘ç¹åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹éœ€è¦æ—¶é—´ã€‚

æ‰€ä»¥éœ€è¦ä¸€ç§åŠæ³•ä½¿å¾—çº¿ç¨‹å¯ä»¥å¤ç”¨ï¼Œæ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸è¢«é”€æ¯ï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»»åŠ¡ â€”â€” çº¿ç¨‹æ± 

![image-20210107130945284](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210107130945284.png)

![image-20210107131034993](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210107131034993.png)

java.util.concurrent.Executorsï¼šçº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨æ¥ç”Ÿæˆçº¿ç¨‹æ± 

Executorsç±»ä¸­çš„é™æ€æ–¹æ³•ï¼š

```java
static ExecutorService newFixedThreadPool(int nThreads)		//åˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± 
//å‚æ•°ï¼š
    int nThreads //åˆ›å»ºçº¿ç¨‹æ± ä¸­åŒ…å«çš„çº¿ç¨‹æ•°é‡
//è¿”å›å€¼ï¼š
    ExecutorServiceæ¥å£ï¼Œè¿”å›çš„æ˜¯ExecutorServiceæ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ExecutorServiceæ¥å£æ¥æ”¶ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼‰

java.util.concurrent.ExecutorServiceï¼šçº¿ç¨‹æ± æ¥å£
    ç”¨æ¥ä»çº¿ç¨‹æ± ä¸­è·å–çº¿ç¨‹ï¼Œè°ƒç”¨startæ–¹æ³•ï¼Œæ‰§è¡Œçº¿ç¨‹ä»»åŠ¡
    	submit(Runnable task) æäº¤ä¸€ä¸ªRunnableä»»åŠ¡ç”¨äºæ‰§è¡Œ
    å…³é—­/é”€æ¯çº¿ç¨‹æ± çš„æ–¹æ³•
    	void shutdown()
```

```java
/*
çº¿ç¨‹æ± ä½¿ç”¨æ­¥éª¤ï¼š
1. ä½¿ç”¨çº¿ç¨‹æ± çš„å·¥å‚ç±»Executorsé‡Œæä¾›çš„é™æ€æ–¹æ³•newFixedThreadPoolç”Ÿäº§ä¸€ä¸ªæŒ‡å®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± 
2. åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°Runnableæ¥å£ï¼Œé‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹ä»»åŠ¡
3. è°ƒç”¨ExecutorServiceä¸­çš„æ–¹æ³•submitï¼Œä¼ é€’çº¿ç¨‹ä»»åŠ¡ï¼ˆå®ç°ç±»ï¼‰ï¼Œå¼€å¯çº¿ç¨‹æ‰§è¡Œrunæ–¹æ³•
4. è°ƒç”¨ExecutorServiceä¸­çš„æ–¹æ³•shutdowné”€æ¯çº¿ç¨‹æ± ï¼ˆä¸å»ºè®®æ‰§è¡Œï¼‰ï¼Œçº¿ç¨‹æ± å°æ—¶å€™å°±ä¸èƒ½å†ä½¿ç”¨äº†
*/

public class DemoThreadPool{
    public static void main(String[] args) {
        //1. ä½¿ç”¨çº¿ç¨‹æ± çš„å·¥å‚ç±»Executorsé‡Œæä¾›çš„é™æ€æ–¹æ³•newFixedThreadPoolç”Ÿäº§ä¸€ä¸ªæŒ‡å®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± 
        ExecutorService es = Executors.newFixedThreadPool(2);
        //3. è°ƒç”¨ExecutorServiceä¸­çš„æ–¹æ³•submitï¼Œä¼ é€’çº¿ç¨‹ä»»åŠ¡ï¼ˆå®ç°ç±»ï¼‰ï¼Œå¼€å¯çº¿ç¨‹æ‰§è¡Œrunæ–¹æ³•
        es.submit(new RunnableImpl());
        //çº¿ç¨‹æ± ä¼šä¸€ç›´å¼€å¯ï¼Œä½¿ç”¨å®Œäº†çº¿ç¨‹ä¼šå½’è¿˜ç»™çº¿ç¨‹æ± ï¼Œçº¿ç¨‹å¯ä»¥ç»§ç»­ä½¿ç”¨
        es.submit(new RunnableImpl());
        es.submit(new RunnableImpl());   
    }
}
/*------------------------------------------------------------------*/
//2. åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°Runnableæ¥å£ï¼Œé‡å†™runæ–¹æ³•ï¼Œè®¾ç½®çº¿ç¨‹ä»»åŠ¡
public class RunnableImpl implements Runnable{
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName());
    }
}
```

### Lambdaè¡¨è¾¾å¼

#### å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³

é¢å‘å¯¹è±¡è¿‡ç¨‹å¼ºè°ƒ â€”â€” é€šè¿‡å¯¹è±¡çš„å½¢å¼æ¥åšäº‹æƒ…

å‡½æ•°å¼æ€æƒ³ â€”â€” å¼ºè°ƒåšä»€ä¹ˆï¼Œè¦æ±‚ç»“æœï¼Œè€Œä¸æ˜¯ä»¥ä»€ä¹ˆå½¢å¼åš

--------------

**å†—ä½™çš„Runnableä»£ç **

```java
public class DemoRunnable{
	public static void main(String[] args){
        RunnableImpl run = new RunnableImpl();
        Thread t = new Thread(run);
        t.start();
        
        //ç®€åŒ–ä»£ç ,ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
        Runnbale r = new Runnable(){
            @Override
            public void run(){
                System.out.println(Thread.currentThread().getName());
            }
        }
        new Thread(r).start();
        
        //è¿›ä¸€æ­¥ç®€åŒ–
        new Thread(new Runnable(){
            @Override
            public void run(){
                System.out.println(Thread.currentThread().getName());
            }
        }).start();
	}
}

/*------------------------------------------------------------------*/

public calss RunnableImpl implements Runnable{
    @Override
    public void run(){
        System.out.println(Thread.currentThread().getName());
    }
}

```

ä»£ç åˆ†æï¼š

1. Threadç±»éœ€è¦Runnableæ¥å£ä½œä¸ºå‚æ•°ï¼Œå…¶ä¸­çš„æŠ½è±¡runæ–¹æ³•æ˜¯ç”¨æ¥æŒ‡å®šçº¿ç¨‹ä»»åŠ¡çš„æ ¸å¿ƒ
2. ä¸ºäº†æŒ‡å®šrunçš„æ–¹æ³•ä½“ï¼Œä¸å¾—ä¸éœ€è¦Runnableæ¥å£çš„å®ç°ç±»
3. ä¸ºäº†çœå»å®šä¹‰ä¸€ä¸ªRunnbaleImplå®ç°ç±»çš„éº»çƒ¦ï¼Œä¸å¾—ä¸ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»
4. å¿…é¡»è¦†ç›–é‡å†™æŠ½è±¡runæ–¹æ³•ï¼Œæ‰€ä»¥æ–¹æ³•åç§°ã€æ–¹æ³•å‚æ•°ã€æ–¹æ³•è¿”å›å€¼ä¸å¾—ä¸å†å†™ä¸€éï¼Œä¸”ä¸èƒ½å†™é”™
5. è€Œå®é™…ä¸Šï¼Œä¼¼ä¹åªæœ‰æ–¹æ³•ä½“æ‰æ˜¯å…³é”®æ‰€åœ¨

ğŸ™‹â€ æ•…éœ€è¦æ”¹å˜ç¼–ç¨‹æ€ç»´

```java
public class DemoRunnable{
	public static void main(String[] args){
        //åŒ¿åå†…éƒ¨ç±»å†™æ³•
        new Thread(new Runnable(){
            @Override
            public void run(){
                System.out.println(Thread.currentThread().getName());
            }
        }).start();
        
        //ä½¿ç”¨Lambdaè¡¨è¾¾å¼
        new Thread(()->{
                System.out.println(Thread.currentThread().getName());
            }
        ).start();
	}
}
```

åŒ¿åå†…éƒ¨ç±»çš„å¥½å¤„ä¸å¼Šç«¯

* å¥½å¤„ï¼šçœå»äº†å®ç°ç±»çš„å®šä¹‰
* å¼Šç«¯ï¼šè¯­æ³•å¤æ‚

#### Lambdaæ ‡å‡†æ ¼å¼

 åŒ…å«3ä¸ªéƒ¨åˆ†ï¼š

* ä¸€äº›å‚æ•°
* ä¸€ä¸ªç®­å¤´
* ä¸€æ®µä»£ç 

æ ¼å¼ï¼š

```java
(å‚æ•°åˆ—è¡¨)->{ä¸€äº›é‡å†™æ–¹æ³•çš„ä»£ç }

/*
()ï¼šæ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å‚æ•°åˆ—è¡¨ï¼Œæ²¡æœ‰å‚æ•°ï¼Œå°±ç©ºç€ï¼›æœ‰å‚æ•°å°±å†™å‡ºå‚æ•°ï¼Œå¤šä¸ªå‚æ•°ä½¿ç”¨é€—å·åˆ†éš”
->ï¼šä¼ é€’çš„æ„æ€ï¼ŒæŠŠå‚æ•°ä¼ é€’ç»™æ–¹æ³•ä½“{}
{}ï¼šé‡å†™æ¥å£çš„æŠ½è±¡æ–¹æ³•çš„æ–¹æ³•ä½“
*/
```

```java
public interface Cook {
    public abstract void makeFood();
}
/*-----------------------------------------------------*/
public class DemoLambda {
    public static void main(String[] args) {
        //åŒ¿åå†…éƒ¨ç±»
        invokeCook(new Cook() {
            @Override
            public void makeFood() {
                System.out.println("test"); 
            }
        });
        //lambdaè¡¨è¾¾å¼
        invokeCook(()->{
            System.out.println("test");
            }
        );
    }

    public static void invokeCook(Cook cook){
        cook.makeFood();
    }
}
```

```java
//å¸¦å‚æ•°çš„æƒ…å†µ
public class Person {
    private String name;
    private int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }

    @Override
    public String toString() {
        return "Person{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
/*------------------------------------------------------------*/
public class DemoArrays {
    public static void main(String[] args) {
        //æ•°ç»„å­˜å‚¨å¤šä¸ªPersonå¯¹è±¡
        Person[] arr = {
                new Person("Tom",38),
                new Person("Tim",18),
                new Person("Alice",15)
        };

        /*Arrays.sort(arr, new Comparator<Person>() {
            @Override
            public int compare(Person o1, Person o2) {
                return o1.getAge()-o2.getAge();
            }
        });*/

        //Lambdaè¡¨è¾¾å¼ï¼Œå¸¦å‚æ•°ï¼Œéœ€è¦è¿”å›å€¼
        Arrays.sort(arr,(Person o1,Person o2)->{
            return o1.getAge()-o2.getAge();
        });

        for(Person p:arr){
            System.out.println(p);
        }
    }
}
```

#### Lambdaè¡¨è¾¾å¼çš„çœç•¥

1. ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ï¼šæ‹¬å·ä¸­å‚æ•°åˆ—è¡¨çš„æ•°æ®ç±»å‹å¯ä»¥çœç•¥ä¸å†™

2. ï¼ˆå‚æ•°åˆ—è¡¨ï¼‰ï¼šæ‹¬å·ä¸­çš„å‚æ•°å¦‚æœåªæœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆç±»å‹å’Œï¼ˆï¼‰éƒ½å¯ä»¥çœç•¥

3.   {ä¸€äº›ä»£ç }   ï¼šå¦‚æœ{}ä¸­çš„ä»£ç åªæœ‰ä¸€è¡Œï¼Œæ— è®ºæ˜¯å¦æœ‰è¿”å›å€¼ï¼Œéƒ½å¯ä»¥çœç•¥ï¼ˆ{}ï¼Œreturnï¼Œåˆ†å·ï¼‰

   æ³¨æ„ï¼šè¦çœç•¥ï¼Œåˆ™ä¸‰è€…ä¸€èµ·çœç•¥ï¼ˆ{}ï¼Œåˆ†å·ï¼Œreturnï¼‰

```java
//çœç•¥å‰
invokeCook(()->{
            System.out.println("test");
            }
        );
//çœç•¥å
invokeCook(()->System.out.println("test"));

//çœç•¥å‰
Arrays.sort(arr,(Person o1,Person o2)->{
            return o1.getAge()-o2.getAge();
        });
//çœç•¥å
Arrays.sort(arr,(o1, o2)->o1.getAge()-o2.getAge());
```

Lambdaè¡¨è¾¾å¼çš„ä½¿ç”¨å‰æï¼š

1. å¿…é¡»**å…·æœ‰æ¥å£**ï¼Œä¸”è¦æ±‚æ¥å£ä¸­**åªæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•**

2. å¿…é¡»å…·æœ‰**ä¸Šä¸‹æ–‡æ¨æ–­**

   æ–¹æ³•çš„å‚æ•°æˆ–å±€éƒ¨å˜é‡ç±»å‹å¿…é¡»ä¸ºLambdaå¯¹åº”çš„æ¥å£ç±»å‹

> å¤‡æ³¨ï¼šæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œæˆä¸ºâ€œå‡½æ•°å¼æ¥å£â€



## é›†åˆ

> Javaé›†åˆç±»å­˜æ”¾äº java.util åŒ…ä¸­ï¼Œæ˜¯ä¸€ä¸ªç”¨æ¥å­˜æ”¾å¯¹è±¡çš„å®¹å™¨ã€‚

* é›†åˆ**åªèƒ½å­˜æ”¾å¯¹è±¡**ã€‚æ¯”å¦‚ä½ å­˜ä¸€ä¸ª int å‹æ•°æ®1æ”¾å…¥é›†åˆä¸­ï¼Œå…¶å®å®ƒæ˜¯è‡ªåŠ¨è½¬æ¢æˆ Integer ç±»åå­˜å…¥çš„ï¼Œ**Javaä¸­æ¯ä¸€ç§åŸºæœ¬ç±»å‹éƒ½æœ‰å¯¹åº”çš„å¼•ç”¨ç±»å‹**ã€‚
* é›†åˆ**å­˜æ”¾çš„æ˜¯å¤šä¸ªå¯¹è±¡çš„å¼•ç”¨**ï¼Œå¯¹è±¡æœ¬èº«è¿˜æ˜¯æ”¾åœ¨å †å†…å­˜ä¸­ã€‚
* é›†åˆ**å¯ä»¥å­˜æ”¾ä¸åŒç±»å‹ï¼Œä¸é™æ•°é‡çš„æ•°æ®ç±»å‹**ã€‚

Java é›†åˆå¯åˆ†ä¸º Setã€List å’Œ Map ä¸‰ç§å¤§ä½“ç³»

* Setï¼š**æ— åºã€ä¸å¯é‡å¤**çš„é›†åˆ
* Listï¼š**æœ‰åºï¼Œå¯é‡å¤**çš„é›†åˆ
* Mapï¼š**å…·æœ‰æ˜ å°„å…³ç³»**çš„é›†åˆ

![image-20210106132050648](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106132050648.png)

![image-20210106132134446](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106132134446.png)

### Collectionä¸­å…±æ€§çš„æ–¹æ³•

```java
public boolean add(E e)	//æŠŠç»™å®šçš„å¯¹è±¡æ·»åŠ åˆ°é›†åˆä¸­
public void clear()	//æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ 
public boolean remove(E e)	//æŠŠç»™å®šçš„å¯¹è±¡åœ¨å½“å‰é›†åˆä¸­åˆ é™¤
public boolean contains(E e)	//åˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦åŒ…å«ç»™å®šçš„å¯¹è±¡
public boolean isEmpty()	//åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©º
public int size()	//è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°
public Object[] toArray()	//æŠŠé›†åˆä¸­çš„å…ƒç´ å­˜å‚¨åˆ°æ•°ç»„ä¸­
```

### è¿­ä»£å™¨

iteratoræ¥å£ â€”â€” ç”¨æ¥å¯¹é›†åˆè¿›è¡Œéå†

```java
Iterator<String> it = coll.iterator();
boolean b = it.hasNext();
while(b){
    String s = it.next();
    System.out.println(s);
}
```

å¢å¼ºforå¾ªç¯

```java
for(String s:coll){
	...
}
```



### Set

![image-20210106135510019](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106135510019.png)

#### HashSet

1. æ— åºï¼Œå­˜å‚¨ä¸å–å‡ºé¡ºåºå¯èƒ½ä¸ä¸€è‡´
2. åº•å±‚æ˜¯å“ˆå¸Œè¡¨ç»“æ„ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«
3. ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„
4. é›†åˆå…ƒç´ å¯ä»¥ä¸ºnull

ğŸ™‹â€ å­˜åœ¨seté›†åˆçš„å“ªä¸ªä½ç½®ç”±è¿™ä¸ªå€¼çš„hashcodeå†³å®š

ğŸ™‹â€ **ä¸å¯é‡å¤ï¼ŒæŒ‡çš„æ˜¯hashcodeä¸ç›¸åŒï¼ˆå¦‚æœä¸¤ä¸ªå…ƒç´ çš„ equals() æ–¹æ³•è¿”å› trueï¼Œä½†å®ƒä»¬çš„ hashCode() è¿”å›å€¼ä¸ç›¸ç­‰ï¼ŒhashSet å°†ä¼šæŠŠå®ƒä»¬å­˜å‚¨åœ¨ä¸åŒçš„ä½ç½®ï¼Œä½†ä¾ç„¶å¯ä»¥æ·»åŠ æˆåŠŸï¼‰**

##### LinkedHashSet

- ä¸å…è®¸é‡å¤
- æœ‰åº

#### TreeSet

> TreeSet æ˜¯ SortedSet æ¥å£çš„å®ç°ç±»ï¼ŒTreeSet å¯ä»¥ç¡®ä¿é›†åˆå…ƒç´ å¤„äºæ’åºçŠ¶æ€ã€‚
>
> TreeSet æ”¯æŒä¸¤ç§æ’åºæ–¹æ³•ï¼šè‡ªç„¶æ’åºå’Œå®šåˆ¶æ’åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒTreeSet é‡‡ç”¨è‡ªç„¶æ’åº(æŒ‰å‡åºæ’åˆ—)ã€‚

å®šåˆ¶æ’åºï¼šå¦‚æœéœ€è¦å®ç°å®šåˆ¶æ’åºï¼Œåˆ™éœ€è¦åœ¨åˆ›å»º TreeSet é›†åˆå¯¹è±¡æ—¶ï¼Œæä¾›ä¸€ä¸ª Comparator æ¥å£çš„å®ç°ç±»å¯¹è±¡ã€‚ç”±è¯¥ Comparator å¯¹è±¡è´Ÿè´£é›†åˆå…ƒç´ çš„æ’åºé€»è¾‘ã€‚

```java
/*
è‡ªç„¶æ’åºï¼š
æ’åºï¼šTreeSet ä¼šè°ƒç”¨é›†åˆå…ƒç´ çš„ compareTo(Object obj) æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œç„¶åå°†é›†åˆå…ƒç´ æŒ‰å‡åºæ’åˆ—
	1. å¦‚æœ this > obj,è¿”å›æ­£æ•° 1
	2. å¦‚æœ this < obj,è¿”å›è´Ÿæ•° -1
	3. å¦‚æœ this = obj,è¿”å› 0 ï¼Œåˆ™è®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰
â˜†å¿…é¡»æ”¾å…¥åŒæ ·ç±»çš„å¯¹è±¡.(é»˜è®¤ä¼šè¿›è¡Œæ’åº) å¦åˆ™å¯èƒ½ä¼šå‘ç”Ÿç±»å‹è½¬æ¢å¼‚å¸¸.æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³›å‹æ¥è¿›è¡Œé™åˆ¶
*/

//å®šåˆ¶æ’åº
public static void main(String[] args){
	Person p1 = new Person(1);
	Person p2 = new Person(2);
	Person p3 = new Person(3);
    
    Set<Person> set = new TreeSet<>(new Person());
    set.add(p1);
    set.add(p2);
    set.add(p3);
    System.out.println(Set);
}

Class Person implements Comparator<Person>{
    public int age;
    public Person(){}
    public Person(int age){
        this.age = age;
    }
    @Override
    public int compare(Person o1,Person o2){
        if(o1.age > o2.age){
            return 1;
        }else if(o1.age < o2.age){
            return -1;
        }else{
            return 0;
        }
    }
}
```



### List

![image-20210106135732693](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106135732693.png)

* List ä»£è¡¨ä¸€ä¸ª**å…ƒç´ æœ‰åºã€ä¸”å¯é‡å¤**çš„é›†åˆï¼Œé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰å…¶å¯¹åº”çš„é¡ºåºç´¢å¼•
* List å…è®¸ä½¿ç”¨é‡å¤å…ƒç´ ï¼Œå¯ä»¥**é€šè¿‡ç´¢å¼•æ¥è®¿é—®æŒ‡å®šä½ç½®**çš„é›†åˆå…ƒç´ 

#### ArrayList

ArrayList åº•å±‚æ•°æ®å­˜å‚¨ç»“æ„æ˜¯æ•°ç»„ï¼ŒæŸ¥æ‰¾å¿«ï¼Œå¢åˆ æ…¢

#### LinkedList

LinkedList æ•°æ®å­˜å‚¨ç»“æ„æ˜¯é“¾è¡¨ç»“æ„ï¼Œå¢åˆ å¿«ï¼ŒæŸ¥è¯¢æ…¢ï¼›åŒ…å«å¤§é‡å¯¹é¦–å°¾å…ƒç´ è¿›è¡Œæ“ä½œçš„æ–¹æ³•

- addFirst() = push()
- addLast() = add()
- getFirst()
- getLast()
- removeFirst()
- removeLast()
- pop()
- poll()

#### Vector

å•çº¿ç¨‹ï¼Œè¢«ArrayListå–ä»£ï¼Œéƒ½æ˜¯æ•°ç»„ç»“æ„



### Map

> ç”¨äºä¿å­˜å…·æœ‰æ˜ å°„å…³ç³»çš„æ•°æ®ï¼Œå› æ­¤ Map é›†åˆé‡Œä¿å­˜ç€ä¸¤ç»„å€¼ï¼Œä¸€ç»„å€¼ç”¨äºä¿å­˜ Map é‡Œçš„ Keyï¼Œå¦å¤–ä¸€ç»„ç”¨äºä¿å­˜ Map é‡Œçš„ Value
>
> key å’Œ value éƒ½å¯ä»¥æ˜¯ä»»ä½•å¼•ç”¨ç±»å‹çš„æ•°æ®
>
> Map ä¸­çš„ Key ä¸å…è®¸é‡å¤
>
> Mapä¼šæŒ‰ç…§keyè¿›è¡Œæ’åºï¼Œå› ä¸ºä»–çš„åº•å±‚å®ç°æ˜¯tree

![image-20210106140316537](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106140316537.png)

#### HashMap

åº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼ŒæŸ¥è¯¢é€Ÿåº¦å—ï¼ˆ**çº¿ç¨‹ä¸å®‰å…¨**ï¼Œå¯ä»¥ä¿å­˜nullï¼‰

- 1.8ä¹‹å‰ï¼Œæ•°ç»„+å•å‘é“¾è¡¨
- 1.8ä¹‹åï¼Œæ•°ç»„+å•é¡¹è”ç¼–/çº¢é»‘æ ‘ï¼ˆé“¾è¡¨çš„é•¿åº¦è¶…è¿‡8ï¼‰

æ— åºé›†åˆï¼ˆå­˜å–é¡ºåºå¯èƒ½ä¸ä¸€è‡´ï¼‰

Hashmapä¸­çš„é”®å€¼å¯¹ï¼Œå¦‚æœæƒ³è¦ä½¿å¾—å¯¹è±¡å”¯ä¸€ï¼Œå¦‚<Personç±»ï¼ŒString>ï¼Œåˆ™éœ€è¦é‡å†™Personç±»ä¸­çš„hashcodeå’Œequalsæ–¹æ³•

##### LinkedHashMap

åº•å±‚æ˜¯å“ˆå¸Œè¡¨+é“¾è¡¨ï¼ˆè®°å½•å…ƒç´ é¡ºåºï¼‰

æœ‰åºé›†åˆï¼Œkeyä¸å…è®¸é‡å¤ï¼Œå­˜å–é¡ºåºä¸€è‡´



#### Hashtable

åº•å±‚æ˜¯å“ˆå¸Œè¡¨

- ä½†keyå’Œvalueä¸å…è®¸nullå€¼
- **çº¿ç¨‹å®‰å…¨**ï¼ˆå•çº¿ç¨‹ï¼Œé€Ÿåº¦æ…¢ï¼‰

Hashtableå·²è¢«Hashmapå–ä»£ï¼ˆå’ŒVectorè¢«ArrayListå–ä»£ä¸€æ ·ï¼‰

ä½†å­ç±»Propertiesä¾æ—§æ´»è·ƒï¼Œæ˜¯ä¸€ä¸ªå”¯ä¸€å’ŒIOæµç›¸ç»“åˆçš„é›†åˆ



## æ³›å‹

![image-20210106140632386](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106140632386.png)



### æ³›å‹ç±»

```java
//ä¼ å…¥çš„å½¢å‚ç±»å‹ç”¨æ³›å‹è¡¨ç¤º
class Generic<T>{
    private T key;
    public void setKey(T key){
        this.key = key;
    }
    public T getKey(){
        return key;
    }
}
```



### æ³›å‹æ¥å£

```java
//å®šä¹‰ä¸€ä¸ªæ³›å‹æ¥å£
interface Generator<T> {
    T next();
}
```

```java
/**
* æœªä¼ å…¥æ³›å‹å®å‚æ—¶ï¼Œä¸æ³›å‹ç±»çš„å®šä¹‰ç›¸åŒï¼Œåœ¨å£°æ˜ç±»çš„æ—¶å€™ï¼Œéœ€å°†æ³›å‹çš„å£°æ˜ä¹Ÿä¸€èµ·åŠ åˆ°ç±»ä¸­
* å³ï¼šclass FruitGenerator<T> implements Generator<T>{
* å¦‚æœä¸å£°æ˜æ³›å‹ï¼Œå¦‚ï¼šclass FruitGenerator implements Generator<T>ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ï¼š"Unknown class"
*/
class FruitGenerator<T> implements Generator<T>{
    @Override
    public T next() {
        return null;
    }
```

```java
/**
* ä¼ å…¥æ³›å‹å®å‚æ—¶ï¼š
* å®šä¹‰ä¸€ä¸ªç”Ÿäº§å™¨å®ç°è¿™ä¸ªæ¥å£,è™½ç„¶æˆ‘ä»¬åªåˆ›å»ºäº†ä¸€ä¸ªæ³›å‹æ¥å£Generator<T>
* ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä¸ºTä¼ å…¥æ— æ•°ä¸ªå®å‚ï¼Œå½¢æˆæ— æ•°ç§ç±»å‹çš„Generatoræ¥å£ã€‚
* åœ¨å®ç°ç±»å®ç°æ³›å‹æ¥å£æ—¶ï¼Œå¦‚å·²å°†æ³›å‹ç±»å‹ä¼ å…¥å®å‚ç±»å‹ï¼Œåˆ™æ‰€æœ‰ä½¿ç”¨æ³›å‹çš„åœ°æ–¹éƒ½è¦æ›¿æ¢æˆä¼ å…¥çš„å®å‚ç±»å‹
* å³ï¼šGenerator<T>ï¼Œpublic T next();ä¸­çš„çš„Téƒ½è¦æ›¿æ¢æˆä¼ å…¥çš„Stringç±»å‹ã€‚
*/
class FruitGenerator implements Generator<String> {    //å¦‚æœå®ç°æ¥å£æ—¶æŒ‡å®šæ¥å£çš„æ³›å‹çš„å…·ä½“æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å®ç°æ¥å£çš„æ‰€æœ‰æ–¹æ³•çš„ä½ç½®éƒ½è¦æ³›å‹æ›¿æ¢å®é™…çš„å…·ä½“æ•°æ®ç±»å‹
    @Override
    public String next() {
    	return null;
    }
}
```

```java
public class Test {    //å®é™…ä½¿ç”¨ä¸­ï¼Œå½“B1ä¸ºæ²¡æœ‰ä¼ å…¥æ³›å‹å®å‚çš„æ–¹æ³•æ—¶ï¼Œåˆ›å»ºå¯¹è±¡æ—¶è¦æŒ‡æ˜å¯¹è±¡çš„æ³›å‹
       public static void main(String[] args) {
              B1<Object> b1 = new B1<Object>();
       }
}

____________________________________________________________________________________________

public class Test {    //å®é™…ä½¿ç”¨ä¸­ï¼Œå½“B2ä¸ºå·²ç»ä¼ å…¥æ³›å‹å®å‚çš„æ–¹æ³•æ—¶ï¼Œåˆ›å»ºå¯¹è±¡æ—¶ä¸è¦æŒ‡æ˜å¯¹è±¡çš„æ³›å‹ï¼ŒæŒ‡æ˜äº†åè€Œä¼šæŠ¥é”™
       public static void main(String[] args) {
              B2 b2 = new B2();
       }
}
```



### æ³›å‹æ–¹æ³•

```java
class Cc<E>{
       private E e;
       
       public static <T> void test3(T t) {      //é™æ€æ–¹æ³•çš„æ³›å‹
              System.out.println(t);
       }
       
       public <T> void test(T s) {    //æ— è¿”å›å€¼
              System.out.println(this.e);    //åœ¨ç±»ä¸Šå®šä¹‰çš„æ³›å‹ï¼Œå¯ä»¥åœ¨æ™®é€šæ–¹æ³•ä¸­è°ƒç”¨(åœ¨é™æ€æ–¹æ³•ä¸­ä¸èƒ½ä½¿ç”¨)
              T t = s;
       }
       
       public <T> T test1(T s) {  //æœ‰è¿”å›å€¼
              return s;
       }
       
       public <T> void test2(T...strs) { //å¯å˜å‚æ•°ç±»å‹æ–¹æ³•
              for(T s : strs) {
                     System.out.println(s);
              }
       }
}
```



### é€šé…ç¬¦

```java
/**
* ä¸ç¡®å®šé›†åˆä¸­çš„å…ƒç´ å…·ä½“çš„æ•°æ®ç±»å‹
* ä½¿ç”¨?è¡¨ç¤ºæ‰€æœ‰ç±»å‹
* @param list
*/
public void test(List<?> list){
    System.out.println(list);
}
```

ğŸ™‹â€ ä½œä¸ºå‚æ•°ä¼ é€’å¯ä»¥ä½¿ç”¨ï¼Œä¸å¯ä»¥åˆ›å»ºå¯¹è±¡ä½¿ç”¨

#### æ³›å‹çš„ä¸Šä¸‹é™é™å®š

> æ³›å‹çš„ä¸Šé™é™å®šï¼šï¼Ÿ extends E		ä»£è¡¨ä½¿ç”¨çš„æ³›å‹åªèƒ½æ˜¯Eç±»å‹çš„å­ç±»/æœ¬èº«
>
> æ³›å‹çš„ä¸‹çº¿é™å®šï¼šï¼Ÿ super E			ä»£è¡¨ä½¿ç”¨çš„æ³›å‹åªèƒ½æ˜¯Eç±»å‹çš„çˆ¶ç±»/æœ¬èº«

ä½¿ç”¨æ–¹æ³•ä¸¾ä¾‹ï¼š

<? extends Person>   (æ— ç©·å° , Person]

åªå…è®¸æ³›å‹ä¸ºPersonåŠPersonå­ç±»çš„å¼•ç”¨è°ƒç”¨

<? super Person >   [Person , æ— ç©·å¤§)

åªå…è®¸æ³›å‹ä¸ºPersonåŠPersonçˆ¶ç±»çš„å¼•ç”¨è°ƒç”¨

<? extends Comparable>

åªå…è®¸æ³›å‹ä¸ºå®ç°Comparableæ¥å£çš„å®ç°ç±»çš„å¼•ç”¨è°ƒç”¨

![image-20210106144039894](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210106144039894.png)

## æ³¨è§£

## Fileç±»

### Fileç±»é™æ€æˆå‘˜å˜é‡

```java
import java.io.File;
public class DemoFile {
    public static void main(String[] args) {
        String pathSeparator = File.pathSeparator;
        System.out.println(pathSeparator);	//è·¯å¾„åˆ†éš”ç¬¦ï¼Œwindowsæ˜¯åˆ†å·ï¼Œlinuxæ˜¯å†’å·
        String separator = File.separator;
        System.out.println(separator);		//æ–‡ä»¶åç§°åˆ†éš”ç¬¦,windowsæ˜¯åæ–œæ \ï¼Œlinuxæ˜¯æ­£æ–œæ /
        //ä¸ºäº†ä¿è¯å¯ä»¥åœ¨å„ç§ç³»ç»Ÿä¸‹è¿è¡Œï¼Œå¯ä»¥åˆ©ç”¨å­—ç¬¦ä¸²è·å–åœ°å€ï¼š"c:"+File.separator+"develop"+File.separator+"a.txt"
    }
}
```

### ç»å¯¹è·¯å¾„ä¸ç›¸å¯¹è·¯å¾„

* ç»å¯¹è·¯å¾„
  * ä¸€ä¸ªå®Œæ•´çš„è·¯å¾„
* ç›¸å¯¹è·¯å¾„
  * ä¸€ä¸ªç®€åŒ–çš„è·¯å¾„

æ³¨æ„ï¼š

1. è·¯å¾„ä¸åŒºåˆ†å¤§å°å†™
2. è·¯å¾„ä¸­çš„æ–‡ä»¶ååˆ†éš”ç¬¦windowsä½¿ç”¨åæ–œæ ï¼Œåæ–œæ æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œä¸¤ä¸ªåæ–œæ è¡¨ç¤ºä¸€ä¸ªæ™®é€šæ–œæ 

### Fileç±»çš„æ„é€ æ–¹æ³•

```java
//é€šè¿‡å°†ç»™å®šè·¯å¾„åç§°å­—ç¬¦ä¸²è½¬æ¢ä¸ºæŠ½è±¡è·¯å¾„åæ¥åˆ›å»ºä¸€ä¸ªFileå®ä¾‹
File(String pathname)
File(String parent, String child)
File(File parent, String child)		//è·¯å¾„å¯ä»¥éšæ—¶å˜æ¢ï¼Œçˆ¶è·¯å¾„æ˜¯Fileï¼Œå¯ä»¥ä½¿ç”¨Fileçš„æ–¹æ³•å¯¹è·¯å¾„è¿›è¡Œæ“ä½œå†åˆ›å»ºè·¯å¾„
```

```java
File t = new File("d:\\","a,txt");
```

### è·å–åŠŸèƒ½çš„æ–¹æ³•

```java
public String getAbsolutePath()	//è¿”å›Fileçš„ç»å¯¹è·¯å¾„åå­—ç¬¦ä¸²
public String getPath()		//å°†æ­¤Fileè½¬æ¢ä¸ºè·¯å¾„åå­—ç¬¦ä¸²ï¼ˆæ„é€ æ–¹æ³•ä¸­çš„åœ°å€ï¼‰
public String getName()		//è¿”å›ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•çš„åç§°(æ„é€ æ–¹æ³•ä¸­çš„ç»“å°¾éƒ¨åˆ†)
public long length()		//è¿”å›ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶çš„é•¿åº¦ï¼ˆæ–‡ä»¶å¤§å°ï¼Œå­—èŠ‚ä¸ºå•ä½ï¼‰
```

### åˆ¤æ–­åŠŸèƒ½çš„æ–¹æ³•

```java
public boolean exists()		//æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å®é™…å­˜åœ¨
public boolean isDirectory()	//æ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºç›®å½•
public boolean isFile()		//æ­¤Fileè¡¨ç¤ºçš„æ˜¯å¦ä¸ºæ–‡ä»¶
//åˆ¤æ–­æ–‡ä»¶å’Œåœ°å€çš„å‰ææ˜¯è·¯å¾„çœŸå®å­˜åœ¨
```

### åˆ›å»ºå’Œåˆ é™¤åŠŸèƒ½çš„æ–¹æ³•

```java
public boolean createNewFile()	//å½“ä¸”ä»…å½“å…·æœ‰è¯¥åå­—çš„æ–‡ä»¶å°šä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ–‡ä»¶
public boolean delete()	//åˆ é™¤ç”±æ­¤Fileè¡¨ç¤ºçš„æ–‡ä»¶æˆ–ç›®å½•
public boolean mkdir()	//åˆ›å»ºç”±æ­¤Fileè¡¨ç¤ºçš„ç›®å½•
public boolean mkdirs()	//åˆ›å»ºç”±æ­¤Fileè¡¨ç¤ºçš„ç›®å½•ï¼ŒåŒ…æ‹¬ä»»ä½•å¿…é¡»ä½†ä¸å­˜åœ¨å¾—çˆ¶ç›®å½•
```

### éå†ç›®å½•çš„åŠŸèƒ½

```java
public String[] list()	//è¿”å›ä¸€ä¸ªStringæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­æ‰€æœ‰å­æ–‡ä»¶æˆ–ç›®å½•
public File[] listFiles()	//è¿”å›ä¸€ä¸ªFileæ•°ç»„ï¼Œè¡¨ç¤ºè¯¥Fileç›®å½•ä¸­çš„æ‰€æœ‰çš„å­æ–‡ä»¶æˆ–ç›®å½•
    
/*
æ³¨æ„ï¼š
Listæ–¹æ³•å’ŒListFilesæ–¹æ³•éå†çš„æ˜¯æ„é€ æ–¹æ³•ä¸­ç»™å‡ºçš„ç›®å½•
å¦‚æœæ„é€ æ–¹æ³•ä¸­ç»™å‡ºçš„ç›®å½•çš„è·¯å¾„ä¸å­˜åœ¨ï¼Œä¼šæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸
å¦‚æœæ„é€ æ–¹æ³•ä¸­ç»™å‡ºçš„è·¯å¾„ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¼šæŠ›å‡ºç©ºæŒ‡é’ˆå¼‚å¸¸
*/
```

### é€’å½’ç›®å½•è¾“å‡ºæˆ–æŸ¥æ‰¾æ–‡ä»¶

é€’å½’åˆ†ç±»ï¼š

* ç›´æ¥é€’å½’ï¼šè°ƒç”¨è‡ªèº«
* é—´æ¥é€’å½’ï¼šAæ–¹æ³•è°ƒç”¨Bï¼ŒBè°ƒç”¨Cï¼ŒCè°ƒç”¨A

æ³¨æ„ï¼š

* è¦æœ‰æ¡ä»¶é™åˆ¶ï¼Œå¯ä»¥åœæ­¢ä¸‹æ¥
* æ¬¡æ•°ä¸èƒ½å¤ªå¤šï¼Œå¦åˆ™å®¹æ˜“å†…å­˜æº¢å‡º
* æ„é€ æ–¹æ³•ç¦æ­¢é€’å½’

```java
public class DemoFile {
    public static void main(String[] args) {
        File file = new File("c:\\abc");
        getAllFile(file);
    }

    public static void getAllFile(File dir){
        System.out.println(dir);
        File[] files = dir.listFiles();
        for(File f:files){
            if(f.isDirectory()){
                getAllFile(f);
            }else{
                System.out.println(f);
            }
        }
    }
    
    /*------------------------------------------------*/
    //æœç´¢ä»¥xxxç»“å°¾çš„æ–‡ä»¶å¹¶è¾“å‡º
    public static void getAllFile(File dir){
        System.out.println(dir);
        File[] files = dir.listFiles();
        for(File f:files){
            if(f.isDirectory()){
                getAllFile(f);
            }else{
                String s = f.getName();
                s = s.toLowerCase();
                boolean b = s.endsWith(".java");
                if(b){
                    System.out.println(f);
                }
            }
        }
    }
}
```

#### è¿‡æ»¤å™¨

```java
File[] ListFiles(FileFilter filter)		//å‚æ•°ä¸ºè¿‡æ»¤å™¨
//FileFilteræ¥å£ï¼šç”¨äºæŠ½è±¡è·¯å¾„åï¼ˆFileå¯¹è±¡ï¼‰çš„è¿‡æ»¤å™¨
//æ¥å£ä¸­å«å¦‚ä¸‹ç”¨æ¥è¿‡æ»¤æ–‡ä»¶çš„æ–¹æ³•ï¼š
boolean accept(File pathname)	//æµ‹è¯•æŒ‡å®šæŠ½è±¡è·¯å¾„åæ˜¯å¦åº”è¯¥åŒ…å«åœ¨æŸä¸ªè·¯å¾„ååˆ—è¡¨ä¸­
    
File[] ListFiles(FilenameFilter filter)	
//FilenameFilteræ¥å£ï¼šå®ç°æ­¤æ¥å£çš„ç±»å®ä¾‹å¯ç”¨äºè¿‡æ»¤æ–‡ä»¶å
//æ¥å£ä¸­å«å¦‚ä¸‹ç”¨æ¥è¿‡æ»¤æ–‡ä»¶çš„æ–¹æ³•ï¼š
boolean accept(File dir, String name)	//æµ‹è¯•æŒ‡å®šæ–‡ä»¶æ˜¯å¦åº”è¯¥åŒ…å«åœ¨æŸä¸€æ–‡ä»¶åˆ—è¡¨ä¸­
/*
å‚æ•°ï¼š
	File dirï¼šæ„é€ æ–¹æ³•ä¸­ä¼ é€’çš„è¢«éå†çš„ç›®å½•
	String nameï¼šä½¿ç”¨ListFilesæ–¹æ³•éå†ç›®å½•ï¼Œè·å–çš„æ¯ä¸€ä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹çš„åå­—
	
ä¸¤ä¸ªæ¥å£éƒ½æ²¡æœ‰å®ç°ç±»ï¼Œéœ€è¦è‡ªå·±å†™å®ç°ç±»ï¼Œé‡å†™è¿‡æ»¤æ–¹æ³•accept
*/
```

```java
public class FileFilterImpl implements FileFilter{
    //acceptè¿‡æ»¤è§„åˆ™ï¼šåˆ¤æ–­æ˜¯å¦ä»¥xxxç»“å°¾ï¼Œæ˜¯è¿”å›trueï¼Œä¸æ˜¯è¿”å›false
	@Override
    public boolean accept(File pathname){
        //å¦‚æœpathnameæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¿”å›trueï¼Œç»§ç»­éå†
        if(pathname.isDirectory()){
            return true;
        }
        return pathname.getName().toLowerCase().endswith(".java");
    }
}
```

åŒ¿åå†…éƒ¨ç±»ä¸lambdaè¡¨è¾¾å¼å†™æ³•

```java
public static void getAllFile(File dir){
    //FileFilteræ¥å£
    File[] files = dir.listFiles(new FileFilter() {
        @Override
        public boolean accept(File pathname) {
            if(pathname.isDirectory()){
                return true;
            }
            return pathname.getName().toLowerCase().endsWith(".java");
        }
    });
	
    //FilenameFilteræ¥å£
    File[] files2 = dir.listFiles(new FilenameFilter() {
        @Override
        public boolean accept(File dir, String name) {
            return new File(dir,name).isDirectory() || name.toLowerCase().endsWith(".java");
        }
    });

    //Lambdaè¡¨è¾¾å¼
    File[] files3 = dir.listFiles((File d,String name)->{
                return new File(d,name).isDirectory() || name.toLowerCase().endsWith(".java");
    });

    for(File f:files){
        if(f.isDirectory()){
            getAllFile(f);
        }else{
            String s = f.getName();
            s = s.toLowerCase();
            boolean b = s.endsWith(".java");
            if(b){
                System.out.println(f);
            }
        }
    }
}
```



## IOæµ

![image-20210108142228530](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210108142228530.png)

### å­—èŠ‚æµ

java.io.OutputStream

* æ­¤æŠ½è±¡ç±»æ˜¯è¡¨ç¤ºè¾“å‡ºå­—èŠ‚æµçš„æ‰€æœ‰ç±»çš„è¶…ç±»

å…¶å®šä¹‰äº†ä¸€äº›å­ç±»å…±æ€§çš„æˆå‘˜æ–¹æ³•ï¼š

```java
public void close()	//å…³é—­æ­¤è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº
public void flush()	//åˆ·æ–°æ­¤è¾“å‡ºæµå¹¶å¼ºåˆ¶ä»»ä½•ç¼“å†²çš„è¾“å‡ºå­—èŠ‚è¢«å†™å‡º
public void write(byte[] b)	//å°†b.lengthå­—èŠ‚ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥æ­¤è¾“å‡ºæµ
public void write(byte[] b, int off, int len)	//ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥lenå­—èŠ‚ï¼Œä»åç§»é‡offå¼€å§‹è¾“å‡ºåˆ°æ­¤è¾“å‡ºæµ
public abstract void write(int b)	//å°†æŒ‡å®šçš„å­—èŠ‚è¾“å‡ºæµ
```

------------

#### å­—èŠ‚è¾“å‡ºæµï¼ˆFileOutputStreamï¼‰

java.io.OutputStreamçš„å­ç±»ï¼š

java.io.FileOutputStream extends OutputStream

FileOutputStreamï¼šæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµ

* ä½œç”¨ï¼šæŠŠå†…å­˜ä¸­çš„æ•°æ®å†™å…¥åˆ°ç¡¬ç›˜çš„æ–‡ä»¶ä¸­

```java
FileOutputStream(String name) //åˆ›å»ºä¸€ä¸ªå‘å…·æœ‰æŒ‡å®šåç§°æ–‡ä»¶ä¸­å†™å…¥æ•°æ®çš„è¾“å‡ºæ–‡ä»¶æµ
FileOutputStream(File file)	//åˆ›å»ºä¸€ä¸ªå‘æŒ‡å®šFileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶ä¸­å†™å…¥æ•°æ®çš„æ–‡ä»¶è¾“å‡ºæµ
/*
* String name: ç›®çš„åœ°æ˜¯ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„
* File file: ç›®çš„åœ°æ˜¯ä¸€ä¸ªæ–‡ä»¶
*
* æ„é€ æ–¹æ³•çš„ä½œç”¨ï¼š
* 1. åˆ›å»ºä¸€ä¸ªFileOutputStreamå¯¹è±¡
* 2. ä¼šæ ¹æ®æ„é€ æ–¹æ³•ä¸­ä¼ é€’çš„æ–‡ä»¶/æ–‡ä»¶è·¯å¾„ï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„æ–‡ä»¶
* 3. ä¼šæŠŠFileOutputStreamå¯¹è±¡æŒ‡å‘åˆ›å»ºå¥½çš„æ–‡ä»¶
*/
```

-------------

```java
/*
* å†™å…¥æ•°æ®çš„åŸç†
* javaç¨‹åº-->JVM-->OS-->OSè°ƒç”¨å†™æ•°æ®çš„æ–¹æ³•-->æŠŠæ•°æ®å†™å…¥åˆ°æ–‡ä»¶
*/
/*
* å­—èŠ‚è¾“å‡ºæµçš„ä½¿ç”¨æ­¥éª¤
* 1. åˆ›å»ºä¸€ä¸ªFileOutputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å†™å…¥æ•°æ®çš„ç›®çš„åœ°
* 2. è°ƒç”¨FileOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeï¼ŒæŠŠæ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­
* 3. é‡Šæ”¾èµ„æºï¼ˆæµä½¿ç”¨ä¼šå ç”¨ä¸€å®šçš„å†…å­˜ï¼Œä½¿ç”¨å®Œæ¯•è¦æŠŠå†…å­˜æ¸…ç©ºï¼Œæé«˜ç¨‹åºçš„æ•ˆç‡ï¼‰
*/
public class DemoFile {
    public static void main(String[] args) {
        try {
            FileOutputStream fos = new FileOutputStream("E:\\æˆ‘çš„åšæœäº‘\\Java\\test.txt");
            fos.write(97);
            fos.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

å†™æ•°æ®çš„è¿‡ç¨‹ï¼Œä¼šæŠŠ10è¿›åˆ¶çš„æ•´æ•°97è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°97ï¼š97-->1100001

ä»»æ„çš„æ–‡æœ¬ç¼–è¾‘å™¨åœ¨æ‰“å¼€æ–‡ä»¶çš„æ—¶å€™ï¼Œéƒ½ä¼šæŸ¥è¯¢ç¼–ç è¡¨ï¼ŒæŠŠå­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦è¡¨ç¤ºï¼š

* 0-127ï¼šæŸ¥è¯¢ASCIIè¡¨
* å…¶ä»–å€¼ï¼šæŸ¥è¯¢ç³»ç»Ÿé»˜è®¤ç è¡¨ï¼ˆä¸­æ–‡ç³»ç»ŸGBKï¼‰

```java
public class DemoFile {
    public static void main(String[] args) {
        try {
            FileOutputStream fos = new FileOutputStream(new File("E:\\æˆ‘çš„åšæœäº‘\\Java\\test.txt"));
            //è°ƒç”¨FileOutputStreamçš„æ–¹æ³•writeæŠŠå­—èŠ‚æ•°ç»„æ•°æ®å†™å…¥æ–‡ä»¶ä¸­
            //å¦‚æœç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯æ­£æ•°ï¼ˆ0-127ï¼‰é‚£ä¹ˆæ˜¾ç¤ºçš„æ—¶å€™ä¼šæŸ¥è¯¢ASCIIè¡¨
            //å¦‚æœå†™çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯è´Ÿæ•°ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªå­—èŠ‚ä¼šå’Œç¬¬äºŒä¸ªå­—èŠ‚ç»„æˆä¸€ä¸ªä¸­æ–‡æ˜¾ç¤ºï¼ŒæŸ¥è¯¢ç³»ç»Ÿé»˜è®¤ç è¡¨ï¼ˆGBKï¼‰
            byte[] btes = {65,66,78,55};
            fos.write(btes);
            
            //btesä¸­ç¬¬å‡ ä¸ªå¼€å§‹ï¼Œå†™å‡ ä¸ª
            fos.write(btes,1,2);
            
            //å†™å…¥å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œåˆ©ç”¨byte[] getBytes()
            byte[] bytes2 = "ä½ å¥½".getBytes();
            fos.write(btes2);
            
            fos.close();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
```

--------

å­—èŠ‚æµçš„ç»­å†™å’Œæ¢è¡Œ

```java
//è¿½åŠ å†™/ç»­å†™ï¼šä½¿ç”¨ä¸¤ä¸ªå‚æ•°çš„æ„é€ æ–¹æ³•
FileOutputStream(String name, boolean append) //åˆ›å»ºä¸€ä¸ªå‘å…·æœ‰æŒ‡å®šnameçš„æ–‡ä»¶ä¸­å†™å…¥æ•°æ®çš„è¾“å‡ºæ–‡ä»¶æµ
FileOutputStream(File file, boolean append)	//åˆ›å»ºä¸€ä¸ªå‘æŒ‡å®šFileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶ä¸­å†™å…¥æ•°æ®çš„æ–‡ä»¶è¾“å‡ºæµ
/*
* å‚æ•°
* String nameï¼ŒFile file å†™å…¥æ•°æ®çš„ç›®çš„åœ°
* boolean append è¿½åŠ å†™å¼€å…³
* 	trueï¼šåˆ›å»ºå¯¹è±¡ä¸ä¼šè¦†ç›–åŸæ–‡ä»¶ï¼Œç»§ç»­å†æ–‡ä»¶æœ«å°¾è¿½åŠ å†™æ•°æ®
* 	falseï¼šåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œè¦†ç›–åŸæ–‡ä»¶
*/
    
//æ¢è¡Œ
/* windows:\r\n    
*  linux:/n
*  mac:/r
*/
```

```java
public class DemoFile {
    public static void main(String[] args) throws Exception{
        FileOutputStream fos = new FileOutputStream("E:\\æˆ‘çš„åšæœäº‘\\Java",true);	//ç»­å†™
        for(int i = 0; i < 10; i++){
            fos.write("ä½ å¥½".getBytes());
            fos.write("\r\n");	//æ¢è¡Œ
        }
        fos.close();
    }
}
```



#### å­—èŠ‚è¾“å…¥æµï¼ˆFileInputStreamï¼‰

java.io.InputStreamï¼šå­—èŠ‚è¾“å…¥æµ

* æ­¤æŠ½è±¡ç±»æ˜¯è¡¨ç¤ºå­—èŠ‚è¾“å…¥æµçš„æ‰€æœ‰ç±»çš„è¶…ç±»

```java
//å®šä¹‰äº†æ‰€æœ‰å­ç±»å…±æ€§çš„æ–¹æ³•
int read()			//ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„ä¸‹ä¸€ä¸ªå­—èŠ‚
int read(byte[] b)	//ä»è¾“å…¥æµä¸­è¯»å–ä¸€å®šæ•°é‡çš„å­—èŠ‚ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ç¼“å†²åŒºæ•°ç»„bä¸­
void close()		//å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æº
```

java.io.FileInputStream extends InputStream

FileInputStreamï¼šæ–‡ä»¶å­—èŠ‚è¾“å…¥æµ

* ä½œç”¨ï¼šæŠŠç¡¬ç›˜æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œè¯»å–åˆ°å†…å­˜ä¸­ä½¿ç”¨

```java
//æ„é€ æ–¹æ³•ï¼š
FileInputStream(String name)
FileInputStream(File file)
```

å‚æ•°ï¼šè¯»å–æ–‡ä»¶çš„æ•°æ®æº

* String nameï¼šæ–‡ä»¶çš„è·¯å¾„
*  File fileï¼šæ–‡ä»¶

æ„é€ æ–¹æ³•çš„ä½œç”¨ï¼š

1. ä¼šåˆ›å»ºä¸€ä¸ªFileInputStreamå¯¹è±¡
2. è·å–FileInputStreamå¯¹è±¡æŒ‡å®šæ„é€ æ–¹æ³•ä¸­è¦è¯»å–çš„æ–‡ä»¶

å†™å…¥æ•°æ®çš„åŸç†

* javaç¨‹åº-->JVM-->OS-->OSè°ƒç”¨å†™æ•°æ®çš„æ–¹æ³•-->æŠŠæ•°æ®å†™å…¥åˆ°æ–‡ä»¶

å­—èŠ‚è¾“å…¥æµçš„ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºFileInputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ç»‘å®šå°§éƒ½åŒºçš„æ•°æ®æº
2. ä½¿ç”¨FileInputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•readï¼Œè¯»å–æ–‡ä»¶
3. é‡Šæ”¾èµ„æº

```java
public class DemoFile {
    public static void main(String[] args) throws Exception{
        FileInputStream fis = new FileInputStream("E:\\æˆ‘çš„åšæœäº‘\\Java\\test.txt");
        int len = fis.read());
        System.out.println(len);	//æŒ‰é¡ºåºå¾—åˆ°å­—èŠ‚ï¼Œå½“å¾—åˆ°-1æ—¶è¾¾åˆ°æ–‡ä»¶ç»“å°¾
        
        //å¾ªç¯å¾—åˆ°æ‰€æœ‰çš„å†…å®¹ï¼Œæ³¨æ„å¸ƒå°”è¡¨è¾¾å¼
        int len_1 = 0;
        while((len = fis.read())!=-1){
            System.out.println((char)len);
        }
        fos.close();
    }
}
```

![image-20210108165932212](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210108165932212.png)

```java
//ä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚
FileInputStream fis = new FileInputStream("a.txt");	//ABCD
byte[] bytes = new byte[2];		//æœ‰æ•ˆè¯»å–çš„æ•°ç»„é•¿åº¦ä¸º2ï¼Œä¸€æ¬¡è¯»å–2ä¸ªå­—èŠ‚
int len = fis.read(bytes);		

System.out.println(len);
System.out.println(new String(bytes));	//AB

int len = fis.read(bytes);		

System.out.println(len);
System.out.println(new String(bytes));	//CD
//æ¯ä¸€æ¬¡è¯»å–éƒ½ä¼šä½¿å¾—æŒ‡é’ˆå‘åèµ°ä¸¤ä½

//ä¼˜åŒ–å
byte[] bytes2 = new byte[1024];
int len = 0;	//è®°å½•æœ‰æ•ˆå­—èŠ‚æ•°
while({len = fis.read(bytes2)!=-1}){
    System,out.println(new String(bytes,0,len));
}
```

æ˜ç¡®ä¸¤ä»¶äº‹ï¼š

1. æ–¹æ³•çš„å‚æ•°byte[]çš„ä½œç”¨ï¼š

   èµ·åˆ°ç¼“å†²ä½œç”¨ï¼Œå­˜å‚¨æ¯æ¬¡è¯»å–åˆ°çš„å¤šä¸ªå­—èŠ‚

   æ•°ç»„çš„é•¿åº¦ä¸€èˆ¬å®šä¹‰ä¸º1024ï¼ˆ1kbï¼‰æˆ–1024çš„æ•´æ•°å€

2. æ–¹æ³•çš„è¿”å›å€¼intæ˜¯ä»€ä¹ˆï¼š

   æ¯æ¬¡è¯»å–åˆ°çš„æœ‰æ•ˆå­—èŠ‚ä¸ªæ•°

### å­—ç¬¦æµ

#### å­—ç¬¦è¾“å…¥æµï¼ˆReaderï¼‰

java.io.Reader

* å­—ç¬¦è¾“å…¥æµï¼Œæ˜¯å­—ç¬¦è¾“å…¥æµçš„æœ€é¡¶å±‚çš„çˆ¶ç±»ï¼Œå®šä¹‰äº†ä¸€äº›å…±æ€§çš„æˆå‘˜æ–¹æ³•
* æ˜¯æŠ½è±¡ç±»

```java
//å…±æ€§çš„æˆå‘˜æ–¹æ³•ï¼š
int read()	//è¯»å–å•ä¸ªå­—ç¬¦å¹¶è¿”å›
int read(char[] cbuf) //ä¸€æ¬¡è¯»å–å¤šæ­Œå­—ç¬¦ï¼Œå°†å­—ç¬¦è¯»å…¥æ•°ç»„
void close() //å…³é—­è¯¥æµå¹¶é‡Šæ”¾ä¸ä¹‹å…³è”çš„æ‰€æœ‰èµ„æº
```



java.io.FileReader extend Reader

* æ–‡ä»¶å­—ç¬¦è¾“å…¥æµ
* ä½œç”¨ï¼šæŠŠç¡¬ç›˜æ–‡ä»¶ä¸­çš„æ•°æ®ä»¥å­—ç¬¦çš„æ–¹å¼è¯»å–åˆ°å†…å­˜ä¸­

æ„é€ æ–¹æ³•ï¼š

```java
FileReader(String fileName)	//å‚æ•°æ˜¯è·¯å¾„
FileReader(File file)			//å‚æ•°æ˜¯æ–‡ä»¶
```

```java
public static void main(String[] args) throws Exception{
        FileReader fr = new FileReader("a.txt");
    	//ç¬¬ä¸€ç§æ–¹æ³•
        int len = 0;
        while((len = fr.read())!=-1) {
            System.out.println((char)len);
        }
        fr.close();

    	//ç¬¬äºŒç§æ–¹æ³•
        char[] chars = new char[1024];
        int len2 = 0;
        while((len2 = fr.read(chars))!=-1){
            System.out.println(new String(chars,0,len2));
        }
        fr.close();
}
```



#### å­—ç¬¦è¾“å‡ºæµï¼ˆWriterï¼‰

java.io.Writer

* å­—ç¬¦è¾“å‡ºæµï¼Œæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»
* æ‰€æœ‰å­—ç¬¦è¾“å‡ºæµæœ€é¡¶å±‚çš„çˆ¶ç±»æ–¹æ³•

```java
//å…±æ€§æ–¹æ³•
void write(int c)	//å†™å…¥å•ä¸ªå­—ç¬¦
void write(char[] cbuf)	//å†™å…¥å­—ç¬¦æ•°ç»„
abstract void write(char[] cbuf, int off, int len)	//å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ†
void write(String str)	//å†™å…¥å­—ç¬¦ä¸²
void write(String str, int off, int len)	//å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†
void flush()	//åˆ·æ–°æµçš„ç¼“å­˜
void close()	//å…³é—­æµï¼Œä½†æ˜¯ä¼šå…ˆåˆ·æ–°
```



java.io.FileWriter extends Writer

* ä½œç”¨ï¼šæŠŠå†…å­˜ä¸­å­—ç¬¦æ•°æ®å†™å…¥åˆ°æ–‡ä»¶ä¸­

æ„é€ æ–¹æ³•

```java
FileWriter(String name)	//æ–‡ä»¶çš„è·¯å¾„
FileWriter(File file)	//æ–‡ä»¶
```

å­—ç¬¦è¾“å‡ºæµçš„ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºFileWriterå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ç»‘å®šè¦å†™å…¥æ•°æ®çš„ç›®çš„åœ°
2. ä½¿ç”¨FileWriterä¸­çš„æ–¹æ³•writeï¼ŒæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ç¼“å†²åŒºä¸­ï¼ˆå­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚çš„è¿‡ç¨‹ï¼‰
3. ä½¿ç”¨FileWriterä¸­çš„æ–¹æ³•flushï¼ŒæŠŠå†…å­˜ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œåˆ·æ–°åˆ°æ–‡ä»¶ä¸­
4. é‡Šæ”¾èµ„æºï¼ˆä¼šå…ˆæŠŠå†…å­˜ç¼“å†²åŒºä¸­çš„æ•°æ®åˆ·æ–°åˆ°æ–‡ä»¶ä¸­ï¼‰

ğŸ™‹â€  å­—ç¬¦ä¸å­—èŠ‚çš„åŒºåˆ«ï¼šå­—ç¬¦è¾“å‡ºæµä¸æ˜¯ç›´æ¥æŠŠå­—ç¬¦å†™å…¥åˆ°æ–‡ä»¶ä¸­ï¼Œè€Œæ˜¯å†™å…¥åˆ°å†…å­˜ä¸­

```java
public class DemoFile {
    public static void main(String[] args) throws Exception{
        FileWriter fw = new FileWriter("a.txt");
        fw.write(97);
        fw.flush();
        fw.close();
    }
}
```

ğŸ™‹â€ flushæ–¹æ³•ä¸closeæ–¹æ³•çš„åŒºåˆ«ï¼š

* flushï¼šåˆ·æ–°ç¼“å†²åŒºï¼Œæµå¯¹è±¡å¯ä»¥ç»§ç»­ä½¿ç”¨
* closeï¼šå…ˆåˆ·æ–°ç¼“å†²åŒºï¼Œç„¶åé€šçŸ¥ç³»ç»Ÿé‡Šæ”¾èµ„æºã€‚æµå¯¹è±¡å°±ä¸å¯ä»¥å†è¢«ä½¿ç”¨äº†ã€‚

```java
public class DemoFile {
    public static void main(String[] args) throws Exception{
        FileWriter fw = new FileWriter("a.txt");
        fw.write(97);
		//1.å•ä¸ªå­—ç¬¦
        char[] cs = {'a','b','c','d'};
        fw.write(cs);
		//2.ä»offä½å¼€å§‹ï¼Œè¯»2ä¸ª
        fw.write(cs,2,2);
		//3.å†™å­—ç¬¦ä¸²
        fw.write("Hello world");
        //4.å†™å­—ç¬¦ä¸²ï¼Œä»offä½å¼€å§‹ï¼Œè¯»5ä¸ª
        fw.write("Hello world",2,5);
        fw.flush();
        fw.close();
    }
}
```

##### ç»­å†™&è¿½åŠ å†™

```java
FileWriter(String fileName, boolean append)
FileWriter(File file, boolean append)
```

```java
public class DemoFile {
    public static void main(String[] args) throws Exception{
        FileWriter fw = new FileWriter("a.txt",true);
        for(int i = 0; i<10; i++){
            fw.write("Hello world"+i+"\r\n");
        }
        fw.close();
    }
}
```

### try-catch-finallyå¤„ç†æµä¸­çš„å¼‚å¸¸

```java
public class DemoFile {
    public static void main(String[] args){
        FileWriter fw = null;  //æé«˜fwçš„ä½œç”¨åŸŸï¼Œè®©finallyå¯ä»¥ä½¿ç”¨
        //å˜é‡åœ¨å®šä¹‰çš„æ—¶å€™å¯ä»¥æ²¡æœ‰å€¼ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™å¿…é¡»æœ‰å€¼ï¼Œæ‰€ä»¥ç»™ä¸€ä¸ªnull
        try{
            fw = new FileWriter("a.txt",true);
            for(int i = 0; i<10; i++){
                fw.write("Hello world"+i+"\r\n");
            }
        }catch (IOException e){
            System.out.println(e);
        }finally {
            //åˆ›å»ºå¯¹è±¡å¦‚æœå¤±è´¥ï¼Œåˆ™fwçš„å€¼ä¸ºnullï¼Œnullæ— æ³•è°ƒç”¨æ–¹æ³•
            //æ‰€ä»¥è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¸æ˜¯nullï¼Œå°±å¤„ç†å¼‚å¸¸
            if(fw!=null){
                try {
                    fw.close();
                }catch (IOException e){
                    e.printStackTrace();
                }
            }
        }

    }
}
```

ğŸ™‹â€ JDK7çš„æ–°ç‰¹æ€§ï¼Œtryçš„åè¾¹å¯ä»¥å¢åŠ ä¸€ä¸ªï¼ˆï¼‰ï¼Œåœ¨æ‹¬å·ä¸­å¯ä»¥å®šä¹‰æµå¯¹è±¡

é‚£ä¹ˆè¿™ä¸ªæµå¯¹è±¡çš„ä½œç”¨åŸŸå°±åœ¨tryä¸­æœ‰æ•ˆï¼Œtryä¸­ä»£ç æ‰§è¡Œå®Œæ¯•è‡ªåŠ¨é‡Šæ”¾ï¼Œä¸ç”¨å†™finally

```java
//æ ¼å¼
try(å®šä¹‰æµå¯¹è±¡ï¼›å®šä¹‰æµå¯¹è±¡...){
	...
}catch{
	...
}
//Example
try(FileWriter fw = new FileWriter("a.txt",true);){
    for(int i = 0; i<10; i++){
        fw.write("Hello world"+i+"\r\n");
    }
}catch (IOException e){
    System.out.println(e);
}
```

ğŸ™‹â€ JDK9ä¸­å¯ä»¥ç›´æ¥åœ¨ï¼ˆï¼‰ä¸­å†™å…¥å¼•ç”¨å˜é‡



### Propertiesé›†åˆ

java.util.Propertiesé›†åˆ extends Hashtable<k,v> implements Map<k,v>

Propertiesç±»ï¼š

* è¡¨ç¤ºäº†ä¸€ä¸ªæŒä¹…çš„å±æ€§é›†
* å¯ä¿å­˜åœ¨æµä¸­æˆ–ä»æµä¸­åŠ è½½
* å”¯ä¸€ä¸IOæµç›¸ç»“åˆçš„é›†åˆ
  * å¯ä½¿ç”¨storeæ–¹æ³•ï¼ŒæŠŠé›†åˆä¸­çš„ä¸´æ—¶æ•°æ®ï¼ŒæŒä¹…åŒ–å†™å…¥åˆ°ç¡¬ç›˜ä¸­å­˜å‚¨
  * å¯ä½¿ç”¨loadæ–¹æ³•ï¼ŒæŠŠç¡¬ç›˜ä¸­ä¿å­˜çš„æ–‡ä»¶ï¼ˆé”®å€¼å¯¹ï¼‰ï¼Œè¯»å–åˆ°é›†åˆä¸­ä½¿
* å±æ€§è¡¨ä¸­æ¯ä¸ªé”®å€¼éƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯ä»¥ä¸ç”¨å†™æ³›å‹
  * æœ‰ä¸€äº›æ“ä½œå­—ç¬¦ä¸²çš„ç‰¹æœ‰æ–¹æ³•

```java
Object setProperty(String key, String value) //Hashtableçš„æ–¹æ³•put
String getProperty(String key)	//é€šè¿‡keyæ‰¾åˆ°valueå€¼ï¼Œæ­¤æ–¹æ³•ç›¸å½“äºMapé›†åˆä¸­çš„get(key)æ–¹æ³•
Set<String> stringPropertyNames()	//è¿”å›æ­¤å±æ€§åˆ—è¡¨ä¸­çš„é”®é›†ï¼Œå…¶ä¸­è¯¥é”®åŠå…¶å¯¹åº”å€¼æ˜¯å­—ç¬¦ä¸²ï¼Œæ­¤æ–¹æ³•ç›¸å½“äºMapé›†åˆä¸­çš„keySetæ–¹æ³•
```

```java
public class DemoProperties {
    public static void main(String[] args) {
        Properties prop = new Properties();
        prop.setProperty("Tom","178");
        prop.setProperty("Tim","123");
        prop.setProperty("John","555");

        Set<String> st = prop.stringPropertyNames();
        for(String s : st){
            String a = prop.getProperty(s);
            System.out.println(a);
        }
    }
}
```

-----------------------------

#### storeæ–¹æ³•

```java
//æŠŠé›†åˆä¸­çš„ä¸´æ—¶æ•°æ®ï¼ŒæŒä¹…åŒ–å†™å…¥ç¡¬ç›˜ä¸­å­˜å‚¨
void store(OutputStream out, String comments)
void store(writer writer, String comments)
```

å‚æ•°ï¼š

* OutputStream outï¼šå­—èŠ‚è¾“å‡ºæµï¼Œä¸èƒ½å†™å…¥ä¸­æ–‡ï¼›å­—ç¬¦æµå¯ä»¥å†™ä¸­æ–‡
  * FileWriter âœ”
  * FileOutputStream âŒ
* Writer writerï¼šå­—ç¬¦è¾“å‡ºæµï¼Œå¯ä»¥å†™ä¸­æ–‡
* String commentsï¼šæ³¨é‡Šï¼Œç”¨æ¥è§£é‡Šè¯´æ˜ä¿å­˜çš„æ–‡ä»¶æ˜¯åšä»€ä¹ˆç”¨çš„
  * ä¸èƒ½ä½¿ç”¨ä¸­æ–‡ï¼Œå› ä¸ºé»˜è®¤æ˜¯unicodeç¼–ç 
  * ä¸€èˆ¬ä½¿ç”¨ç©ºå­—ç¬¦ä¸²â€œâ€

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºPropertiesé›†åˆå¯¹è±¡ï¼Œæ·»åŠ æ•°æ®
2. åˆ›å»ºå­—èŠ‚è¾“å‡ºæµ/å­—ç¬¦è¾“å‡ºæµå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ç»‘å®šè¦è¾“å‡ºçš„ç›®çš„åœ°
3. ä½¿ç”¨Propertiesé›†åˆä¸­çš„æ–¹æ³•storeï¼ŒæŠŠé›†åˆä¸­çš„ä¸´æ—¶æ•°æ®ï¼ŒæŒä¹…åŒ–å†™å…¥åˆ°ç¡¬ç›˜å½“ä¸­å­˜å‚¨
4. é‡Šæ”¾èµ„æº

------------------

#### loadæ–¹æ³•

```java
//ä½¿ç”¨loadæ–¹æ³•æŠŠç¡¬ç›˜ä¸­ä¿å­˜çš„æ–‡ä»¶ï¼ˆé”®å€¼å¯¹ï¼‰ï¼Œè¯»å–åˆ°é›†åˆä¸­ä½¿ç”¨
void load(InputStream inStream)
void load(Reader reader)
```

å‚æ•°ï¼š

1. InputStream - å­—èŠ‚è¾“å…¥æµä¸å¯ä»¥è¯»å–å«æœ‰ä¸­æ–‡çš„é”®å€¼å¯¹
2. Reader - å¯ä»¥è¯»å–å«æœ‰ä¸­æ–‡çš„é”®å€¼å¯¹

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºPropertiesé›†åˆå¯¹è±¡
2. ä½¿ç”¨Propertiesé›†åˆå¯¹è±¡ä¸­çš„æ–¹æ³•loadè¯»å–ä¿å­˜é”®å€¼å¯¹çš„æ–‡ä»¶
3. éå†Propertiesé›†åˆ

æ³¨æ„ï¼š

1. å­˜å‚¨é”®å€¼å¯¹çš„æ–‡ä»¶ï¼Œkeyä¸valueçš„é»˜è®¤è¿æ¥ç¬¦å·å¯ä»¥ä½¿ç”¨-ï¼Œç©ºæ ¼
2. å¯ä»¥ä½¿ç”¨#è¿›è¡Œæ³¨é‡Šï¼Œæ³¨é‡Šçš„å†…å®¹ä¸ä¼šè¢«è¯»å–
3. keyä¸valueé»˜è®¤éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¸ç”¨å†åŠ ä¸Šå¼•å·

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        Properties prop = new Properties();

        prop.load(new FileReader("a.txt"));
        Set<String> set = prop.stringPropertyNames();
        for(String key:set){
            System.out.println(prop.getProperty(key));
        }
    }
}
```



### ç¼“å†²æµ

> å¯¹åŸºæœ¬æµå¯¹è±¡çš„ä¸€ç§å¢å¼º

ç¼“å†²æµ

* ç»™åŸºæœ¬çš„æµå¯¹è±¡å¢åŠ ä¸€ä¸ªç¼“å†²åŒºï¼ˆæ•°ç»„ï¼‰
* é€šè¿‡ç¼“å†²åŒºè¯»å†™ï¼Œå‡å°‘ç³»ç»ŸIOæ¬¡æ•°
* æé«˜åŸºæœ¬çš„å­—èŠ‚è¾“å…¥æµçš„è¯»å–æ•ˆç‡

```java
BufferedInputStream(new FileputStream())

int len = fis.read()
```

![image-20210111110357319](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210111110357319.png)

æŒ‰æ•°æ®ç±»å‹åˆ†ç±»ï¼š

* å­—èŠ‚ç¼“å†²æµ
  * BufferedInputStream
  * BufferedOutputstream
* å­—ç¬¦ç¼“å†²æµ
  * BufferedReader
  * BufferedWriter



#### å­—èŠ‚ç¼“å†²æµ

##### å­—èŠ‚ç¼“å†²è¾“å‡ºæµï¼ˆBufferedOutputStreamï¼‰

> java.io.BufferedOutputStream extends OutputStream

```java
//ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•
public void close()	//å…³é—­æ­¤è¾“å‡ºæµå¹¶é‡Šæ”¾ä¸æ­¤æµç›¸å…³è”çš„ä»»ä½•ç³»ç»Ÿèµ„æº
public void flush()	//åˆ·æ–°æ­¤è¾“å‡ºæµå¹¶å¼ºåˆ¶ä»»ä½•ç¼“å†²çš„è¾“å‡ºå­—èŠ‚è¢«å†™å‡º
public void write(byte[] b)	//å°†b.lengthå­—èŠ‚ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥æ­¤è¾“å‡ºæµ
public void write(byte[] b, int off, int len)	//ä»æŒ‡å®šçš„å­—èŠ‚æ•°ç»„å†™å…¥lenå­—èŠ‚ï¼Œä»åç§»é‡offå¼€å§‹è¾“å‡ºåˆ°æ­¤è¾“å‡ºæµ
public abstract void write(int b)	//å°†æŒ‡å®šçš„å­—èŠ‚è¾“å‡ºæµ
```

```java
//æ„é€ æ–¹æ³•
BufferedOutputStream(OutputStream out)	//åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµï¼Œå°†æ•°æ®å†™å…¥æŒ‡å®šçš„åº•å±‚è¾“å‡ºæµ
BufferedOutputStream(OutputStream out, int size)	//åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµï¼Œä»¥å°†å…·æœ‰æŒ‡å®šç¼“å†²åŒºå¤§å°çš„æ•°æ®å†™å…¥åº•å±‚çš„è¾“å…¥
```

å‚æ•°ï¼š

* OutputStream outï¼šå­—èŠ‚è¾“å‡ºæµ
* int sizeï¼šæŒ‡å®šç¼“å†²æµå†…éƒ¨ç¼“å†²åŒºçš„å¤§å°ï¼Œä¸æŒ‡å®šé»˜è®¤

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºFileOutputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ç»‘å®šè¦è¾“å‡ºçš„ç›®çš„åœ°
2. åˆ›å»ºBufferedOutputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’FileOutputStreamå¯¹è±¡ï¼Œæé«˜FileOutputStreamå¯¹è±¡æ•ˆç‡
3. ä½¿ç”¨BufferedOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeï¼ŒæŠŠæ•°æ®å†™å…¥åˆ°å†…éƒ¨ç¼“å†²åŒºä¸­
4. ä½¿ç”¨BufferedOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•flushï¼ŒæŠŠå†…éƒ¨ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œåˆ·æ–°åˆ°æ–‡ä»¶ä¸­
5. é‡Šæ”¾èµ„æºï¼ˆä¼šå…ˆè°ƒç”¨flushæ–¹æ³•åˆ·æ–°æ•°æ®ï¼Œç¬¬å››æ­¥å¯ä»¥çœç•¥ï¼‰

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        FileOutputStream fos = new FileOutputStream("a.txt");
        BufferedOutputStream bos = new BufferedOutputStream(fos);
        bos.write("éšä¾¿å†™å†™".getBytes());
        bos.flush();
        bos.close();
    }
}
```



##### å­—èŠ‚ç¼“å†²è¾“å…¥æµï¼ˆBufferedInputStreamï¼‰

> java.io.BufferedInputStream extends InputStream

```java
//ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•
int read()			//ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„ä¸‹ä¸€ä¸ªå­—èŠ‚
int read(byte[] b)	//ä»è¾“å…¥æµä¸­è¯»å–ä¸€å®šæ•°é‡çš„å­—èŠ‚ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ç¼“å†²åŒºæ•°ç»„bä¸­
void close()		//å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æº
```

```java
//æ„é€ æ–¹æ³•
BufferedInputStream(InputStream in)	//åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å…¥æµï¼Œä¿å­˜æœŸå‚æ•°ï¼Œå³è¾“å‡ºæµinï¼Œä»¥ä¾¿å°†æ¥ä½¿ç”¨
BufferedInputStream(InputStream in, int size)	//åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµï¼Œä»¥å°†å…·æœ‰æŒ‡å®šç¼“å†²åŒºå¤§å°çš„æ•°æ®ä¿å­˜å…¶å‚æ•°ä»¥ä¾¿å°†æ¥ä½¿ç”¨
```

å‚æ•°ï¼š

* InputStream inï¼šå­—èŠ‚è¾“å…¥æµï¼Œç»™FileInputStreamå¢åŠ ä¸€ä¸ªç¼“å†²åŒºï¼Œæé«˜æ•ˆç‡
* int sizeï¼šæŒ‡å®šç¼“å†²æµå†…éƒ¨ç¼“å†²åŒºçš„å¤§å°ï¼Œä¸æŒ‡å®šé»˜è®¤

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºFileInputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ç»‘å®šè¦è¯»å–çš„æ•°æ®æº
2. åˆ›å»ºBufferedInputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’FileInputStreamå¯¹è±¡ï¼Œæé«˜FileInputStreamå¯¹è±¡çš„è¯»å–æ•ˆç‡
3. ä½¿ç”¨BufferedInputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•readï¼Œè¯»å–æ–‡ä»¶
4. é‡Šæ”¾èµ„æº

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        FileInputStream fis = new FileInputStream("a.txt");
        BufferedInputStream bis = new BufferedInputStream(fis);
        //ä¸€ä¸ªä¸€ä¸ªè¯»å–
        int len = 0;
        while((len = bis.read())!=-1){
            System.out.println(len);
        }
        bis.close();
        
        //æŒ‰æ•°ç»„è¯»å–
        byte[] bytes = new byte[1024];
        int len2 = 0;
        while((len2 = bis.read(bytes))!=-1){
            System.out.println(new String(bytes,0,len2));
        }
        bis.close();
    }
}
```

```java
//å¤åˆ¶æ–‡ä»¶Demo
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        FileInputStream fis = new FileInputStream("a.txt");
        BufferedInputStream bis = new BufferedInputStream(fis);

        FileOutputStream fos = new FileOutputStream("b.txt");
        BufferedOutputStream bos = new BufferedOutputStream(fos);

        byte[] bytes = new byte[1024];
        int len = 0;

        while ((len = bis.read(bytes)) != -1) {
            bos.write(bytes,0,len);
        }
        bos.close();
        bis.close();
    }
}
```

#### å­—ç¬¦ç¼“å†²æµ

##### å­—ç¬¦ç¼“å†²è¾“å…¥æµï¼ˆBufferedWriterï¼‰

> java.io.BufferedWriter extends Writer

```java
//ç»§æ‰¿è‡ªçˆ¶ç±»çš„å…±æ€§æ–¹æ³•
void write(int c)	//å†™å…¥å•ä¸ªå­—ç¬¦
void write(char[] cbuf)	//å†™å…¥å­—ç¬¦æ•°ç»„
abstract void write(char[] cbuf, int off, int len)	//å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ†
void write(String str)	//å†™å…¥å­—ç¬¦ä¸²
void write(String str, int off, int len)	//å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†
void flush()	//åˆ·æ–°æµçš„ç¼“å­˜
void close()	//å…³é—­æµï¼Œä½†æ˜¯ä¼šå…ˆåˆ·æ–°
```

```
//æ„é€ æ–¹æ³•ï¼š
BufferedWriter(Writer out)	//åˆ›å»ºä¸€ä¸ªä½¿ç”¨é»˜è®¤å¤§å°è¾“å‡ºç¼“å†²åŒºçš„ç¼“å†²å­—ç¬¦è¾“å‡ºæµ
BufferedWriter(Writer out, int sz)	//åˆ›å»ºä¸€ä¸ªä½¿ç”¨ç»™å®šå¤§å°è¾“å‡ºç¼“å†²åŒºçš„æ–°ç¼“å†²å­—ç¬¦è¾“å‡ºæµ
```

å‚æ•°ï¼š

* Writer outï¼šå­—ç¬¦è¾“å‡ºæµ
* int szï¼šæŒ‡å®šç¼“å†²åŒºå¤§å°

ğŸ™‹â€ ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•

```java
void newLine()	
//å†™å…¥ä¸€ä¸ªè¡Œåˆ†éš”ç¬¦ï¼Œä¼šæ ¹æ®ä¸åŒçš„æ“ä½œç³»ç»Ÿè·å–ä¸åŒçš„è¡Œåˆ†éš”ç¬¦
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºå­—ç¬¦ç¼“å†²è¾“å‡ºæµå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—ç¬¦è¾“å‡ºæµ
2. è°ƒç”¨å­—ç¬¦ç¼“å†²è¾“å‡ºæµä¸­çš„æ–¹æ³•writeï¼ŒæŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ç¼“å†²åŒº
3. è°ƒç”¨å­—ç¬¦ç¼“å†²æµä¸­çš„æ–¹æ³•flushï¼ŒæŠŠå†…å­˜ç¼“å†²åŒºä¸­çš„æ•°æ®ï¼Œåˆ·æ–°åˆ°æ–‡ä»¶ä¸­
4. é‡Šæ”¾èµ„æº

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        FileInputStream fis = new FileInputStream("a.txt");
        BufferedWriter bw = new BufferedWriter(new FileWriter("a.txt"));
        for(int i = 0; i < 10; i++){
            bw.write("æˆ‘ç›´æ¥ä¹±å†™");
            bw.newLine();
        }
        bw.flush();
        bw.close();
    }
}
```



##### å­—ç¬¦ç¼“å†²è¾“å‡ºæµï¼ˆBufferedReaderï¼‰

> java.io.BufferedReader extends Reader

```java
//ç»§æ‰¿è‡ªçˆ¶ç±»çš„å…±æ€§æ–¹æ³•
int read()			//ä»è¾“å…¥æµä¸­è¯»å–æ•°æ®çš„ä¸‹ä¸€ä¸ªå­—èŠ‚
int read(byte[] b)	//ä»è¾“å…¥æµä¸­è¯»å–ä¸€å®šæ•°é‡çš„å­—èŠ‚ï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨ç¼“å†²åŒºæ•°ç»„bä¸­
void close()		//å…³é—­æ­¤è¾“å…¥æµå¹¶é‡Šæ”¾ä¸è¯¥æµå…³è”çš„æ‰€æœ‰ç³»ç»Ÿèµ„æº
```

```java
//æ„é€ æ–¹æ³•
BufferedReader(Reader in)
BufferedReader(Reader in, int sz)
```

ğŸ™‹â€ ç‰¹æœ‰çš„æ–¹æ³•ï¼š

```java
String readLine()	//è¯»å–ä¸€ä¸ªæ–‡æœ¬è¡Œ
//åˆ¤æ–­è¡Œç»“æŸçš„ç»ˆæ­¢ç¬¦æµ©ï¼Œæ˜¯æ¢è¡Œç¬¦\nï¼Œå›è½¦\rï¼Œå›è½¦åç›´æ¥è·Ÿç€æ¢è¡Œ\r\n
//è¿”å›å€¼ï¼šåŒ…å«è¯¥è¡Œå†…å®¹çš„å­—ç¬¦ä¸²ï¼Œä¸åŒ…å«
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºå­—ç¬¦ç¼“å†²è¾“å…¥æµå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—ç¬¦è¾“å…¥æµ
2. ä½¿ç”¨å­—ç¬¦ç¼“å†²è¾“å…¥æµå¯¹è±¡ä¸­çš„æ–¹æ³•read/readLineè¯»å–æ–‡æœ¬
3. é‡Šæ”¾èµ„æº

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new FileReader("a.txt"));
        String line;
        while ((line = br.readLine()) != null) {
            System.out.println(line);
        }
        br.close();
    }
}
```



### è½¬æ¢æµ

> æŒ‰ç…§æŸç§è§„åˆ™ï¼ŒæŒ‰å­—ç¬¦å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ï¼Œç§°ä¸ºç¼–ç 
>
> å°†å­˜å‚¨åœ¨è®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶æ•°æŒ‰æŸç§è§„åˆ™è§£ææ˜¾ç¤ºï¼Œæˆä¸ºè§£ç 

è®¡ç®—æœºè¦å‡†ç¡®çš„å­˜å‚¨å’Œè¯†åˆ«å­—ç¬¦é›†ç¬¦å·ï¼Œéœ€è¦è¿›è¡Œå­—ç¬¦ç¼–ç ï¼Œä¸€å¥—å­—ç¬¦é›†å¿…ç„¶è‡³å°‘æœ‰ä¸€å¥—å­—ç¬¦ç¼–ç ã€‚

å¸¸è§çš„å­—ç¬¦é›†æœ‰ï¼š

* ASCIIå­—ç¬¦é›† ğŸ”¹ ASCIIç¼–ç 
* GBKå­—ç¬¦é›† ğŸ”¹ GBKç¼–ç 
* Unicodeå­—ç¬¦é›† ğŸ”¹ UTF8ç¼–ç  / UTF16ç¼–ç  / UTF32ç¼–ç 

ğŸ™‹â€ åˆ¶å®šäº†ç¼–ç ï¼Œæ‰€å¯¹åº”çš„å­—ç¬¦é›†å°±å†³å®šäº†ï¼Œç¼–ç æ˜¯æœ€ç»ˆéœ€è¦å…³å¿ƒçš„



ANSIæŒ‡çš„æ˜¯ç³»ç»Ÿé»˜è®¤ç¼–ç ï¼Œæˆ‘ä»¬çš„IDEAé»˜è®¤UTF-8ï¼Œå½“æˆ‘ä»¬åˆ©ç”¨IDEAæ¥è¯»å–GBKçš„æ–‡ä»¶ï¼Œå…¶ç¼–ç æ–¹å¼å…¼å®¹å¯¼è‡´ä¹±ç ï¼Œæ‰€ä»¥åœ¨è¯»å–ä¸ä¸€æ ·çš„å­—ç¬¦é›†æ—¶ï¼Œéœ€è¦æ”¹å˜ç¼–ç è¡¨ï¼ˆå¦‚FileReaderåªèƒ½ä½¿ç”¨é»˜è®¤ç è¡¨ï¼‰

![image-20210112131006896](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210112131006896.png)

ğŸ™‹â€ è½¬æ¢æµå¯ä»¥å†™å…¥å’Œè¯»å–ä»»æ„ç è¡¨çš„æ–‡ä»¶ ğŸ™‹â€



#### OutputStreamWriter

> java.io.OutputStreamWriter extends Writer

ä½œç”¨ï¼šå­—ç¬¦æµé€šå‘å­—èŠ‚æµçš„æ¡¥æ¢ï¼Œå¯ä½¿ç”¨æŒ‡å®šçš„charsetå°†è¦å†™å…¥æµä¸­çš„å­—ç¬¦ç¼–ç æˆå­—èŠ‚ï¼ˆç¼–ç ï¼‰

æ–¹æ³•ç»§æ‰¿è‡ªçˆ¶ç±»Writerï¼ˆç•¥ï¼‰

æ„é€ æ–¹æ³•ï¼š

```
//åˆ›å»ºä½¿ç”¨é»˜è®¤å­—ç¬¦ç¼–ç çš„OutputStreamWriter
OutputStreamWriter(OutputStream out)
//åˆ›å»ºä½¿ç”¨æŒ‡å®šå­—ç¬¦é›†çš„OutputStreamWriter
OutputStreamWriter(OutputStream out, String charsetName)
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºOutputStreamWriterå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—èŠ‚è¾“å‡ºæµå’ŒæŒ‡å®šçš„ç¼–ç è¡¨åç§°
2. ä½¿ç”¨...å¯¹è±¡çš„æ–¹æ³•writeï¼ŒæŠŠå­—ç¬¦è½¬æ¢æˆå­—èŠ‚å­˜å‚¨ç¼“å†²åŒºä¸­ï¼ˆç è¡¨ï¼‰
3. ä½¿ç”¨å¯¹è±¡ä¸­çš„æ–¹æ³•flushï¼ŒæŠŠå†…å­˜ç¼“å†²åŒºä¸­çš„å­—èŠ‚åˆ·æ–°åˆ°æ–‡ä»¶ä¸­ï¼ˆä½¿ç”¨å­—èŠ‚æµå†™å­—èŠ‚çš„è¿‡ç¨‹ï¼‰
4. é‡Šæ”¾èµ„æº

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        write_gbk();
        write_utf_8();
    }

    private static void write_gbk() throws IOException{
        OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream("b.txt"),"GBK");
        osw.write("Hello");
        osw.flush();
        osw.close();
    }

    private static void write_utf_8() throws IOException{
        OutputStreamWriter osw = new OutputStreamWriter(new FileOutputStream("a.txt"),"utf-8");
        osw.write("Hello");
        osw.flush();
        osw.close();
    }
}
```



#### InputStreamReader

> java.io.InputStreamReader extends Reader

ä½œç”¨ï¼šå­—èŠ‚æµé€šå‘å­—ç¬¦æµçš„æ¡¥æ¢ã€‚æŒ‡å®šcharsetè¯»å–å­—èŠ‚å¹¶å°†å…¶è§£ç ä¸ºå­—ç¬¦ã€‚

æ„é€ æ–¹æ³•ï¼š

```java
InputStreamReader(InputStream(in))
InputStreamReader(InputStream in, String charsetName)
```

ä½¿ç”¨æ–¹æ³•ï¼š

1. åˆ›å»ºInputStreamReaderå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—èŠ‚è¾“å…¥æµå’ŒæŒ‡å®šçš„ç¼–ç è¡¨åç§°
2. ä½¿ç”¨InputStreamReaderå¯¹è±¡ä¸­çš„æ–¹æ³•readè¯»å–æ–‡ä»¶
3. é‡Šæ”¾èµ„æº

æ³¨æ„äº‹é¡¹ï¼š

æ„é€ æ–¹æ³•ä¸­æŒ‡å®šçš„ç¼–ç è¡¨è¦å’Œæ–‡ä»¶çš„ç¼–ç ç›¸åŒï¼Œå¦åˆ™ä¼šå‘ç”Ÿä¹±ç 

```java
private static void read_utf_8() throws IOException{
    InputStreamReader isr = new InputStreamReader(new FileInputStream("a.txt"),"utf-8");
    int len = 0;
    while((len = isr.read())!=-1){
        System.out.println((char)len);
    }
    isr.close();
}
```

### åºåˆ—åŒ–æµ

> å¯¹javaå¯¹è±¡çš„åŸå§‹æ•°æ®ç±»å‹è¿›è¡Œè¯»å†™

![image-20210112144737281](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210112144737281.png)



#### ObjectOutputStream

> java.io.ObjectOutputStream extends OutputStream

æ„é€ æ–¹æ³•ï¼š

```java
ObjectOutputStream(OutputStream out)
//åˆ›å»ºå†™å…¥æŒ‡å®šOutputStreamçš„ObjectOutputStream
```

ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•ï¼š

```
void writeObject(Object obj) //å°†æŒ‡å®šçš„å¯¹è±¡å†™å…¥ObjectOutputStream
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºObjectOutputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—èŠ‚è¾“å‡ºæµ
2. ä½¿ç”¨ObjectOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeObjectï¼ŒæŠŠå¯¹è±¡å†™å…¥åˆ°æ–‡ä»¶ä¸­
3. é‡Šæ”¾èµ„æº

ğŸ™‹â€ éœ€è¦åºåˆ—åŒ–çš„ç±»ï¼Œå¿…é¡»å®ç°Serializeableæ¥å£ï¼š

* public interface Serializable
  * æ ‡è®°å‹æ¥å£
    * è¿›è¡Œåºåˆ—åŒ–ä¸ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¼šæ£€æŸ¥è¯¥æ ‡è®°
  * ç±»é€šè¿‡å®ç°java.io.Serializableæ¥å£ä»¥å¯ç”¨å…¶åºåˆ—åŒ–åŠŸèƒ½
  * æœªå®ç°æ­¤æ¥å£çš„ç±»==å°†æ— æ³•ä½¿å…¶ä»»ä½•çŠ¶æ€åºåˆ—åŒ–æˆ–ååºåˆ—åŒ–==

è‹¥æ²¡æœ‰å®ç°ï¼Œåˆ™ä¼šæŠ›å‡ºNotSerializableExceptionå¼‚å¸¸ã€‚

```java
public class Person implements Serializable {
    String name;
    int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    getter&setter;
}
/*-----------------------------------*/
public class DemoProperties {
    public static void main(String[] args) throws IOException {
        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("a.txt"));
        oos.writeObject(new Person("TOM",18));
        oos.close();
    }
}
```



#### ObjectInputStream

> java.io.ObjectInputStream extends InputStream

æ„é€ æ–¹æ³•ï¼š

```java
ObjectInputStreamï¼ˆInputStream inï¼‰ //åˆ›å»ºä»æŒ‡å®šInputStreamè¯»å–çš„ObjectInputStream
```

ç‰¹æœ‰çš„æˆå‘˜æ–¹æ³•ï¼š

```java
Object readObject()	//ä»ObjectInputStreamè¯»å–å¯¹è±¡
```

ä½¿ç”¨æ­¥éª¤ï¼š

1. åˆ›å»ºObjectInputStreamå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ä¸­ä¼ é€’å­—èŠ‚è¾“å…¥æµ
2. ä½¿ç”¨ObjectInputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•readObjectè¯»å–ä¿å­˜å¯¹è±¡çš„æ–‡ä»¶
3. é‡Šæ”¾èµ„æº
4. ä½¿ç”¨è¯»å–å‡ºæ¥çš„å¯¹è±¡

readObjectæ–¹æ³•å£°æ˜æŠ›å‡ºäº†ClassNotFoundExceptionï¼ˆclassæ–‡ä»¶æ‰¾ä¸åˆ°å¼‚å¸¸ï¼‰

å½“ä¸å­˜åœ¨å¯¹è±¡çš„classæ–‡ä»¶æŠ›å‡ºæ­¤å¼‚å¸¸

![image-20210112154741065](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210112154741065.png)

ååºåˆ—åŒ–çš„å‰æï¼š

* ç±»å¿…é¡»å®ç°Serializable
* å¿…é¡»å­˜åœ¨ç±»å¯¹åº”çš„classæ–‡ä»¶

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException, ClassNotFoundException{
        ObjectInputStream ois = new ObjectInputStream(new FileInputStream("a.txt"));
        Object o = ois.readObject();
        ois.close();
        System.out.println(o);
        Person p = (Person) o;
        System.out.println(p.getAge()+p.getAge());
    }
}
```



#### transientå…³é”®å­—

> ç¬æ€å…³é”®å­—
>
> è¢«transientä¿®é¥°çš„æˆå‘˜å˜é‡ä¸èƒ½è¢«åºåˆ—åŒ–å’Œååºåˆ—åŒ–

ğŸ™‹â€ åºåˆ—åŒ–ä¸ååºåˆ—åŒ–é­é‡staticï¼š

* é™æ€ä¼˜äºéé™æ€åŠ è½½åˆ°å†…å­˜ä¸­ï¼ˆé™æ€ä¼˜å…ˆäºå¯¹è±¡è¿›å…¥åˆ°å†…å­˜ä¸­ï¼‰
* è¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ä¸èƒ½è¢«åºåˆ—åŒ–ï¼Œåºåˆ—åŒ–çš„éƒ½æ˜¯å¯¹è±¡



#### InvaildClassException ( serialVersionUID )

æ¯æ¬¡ä¿®æ”¹ç±»çš„å®šä¹‰ï¼Œéƒ½ä¼šç»™classæ–‡ä»¶ç”Ÿæˆä¸€ä¸ªæ–°çš„åºåˆ—å·

* å½“åºåˆ—åŒ–åï¼Œç±»è¢«ä¿®æ”¹ï¼Œåˆ™ååºåˆ—åŒ–ä¼šå¤±è´¥ï¼Œå› ä¸ºåºåˆ—å·ä¸ä¹‹å‰çš„åºåˆ—å·ä¸åŒ¹é…
* è§£å†³æ–¹æ³•ï¼š
  * æ— è®ºæ˜¯å¦å¯¹ç±»çš„å®šä¹‰è¿›è¡Œä¿®æ”¹ï¼Œéƒ½ä¸èƒ½é‡æ–°ç”Ÿæˆæ–°çš„åºåˆ—å·
    * å¯ä»¥æ‰‹åŠ¨ç»™è¯¥ç±»æ·»åŠ ä¸€ä¸ªåºåˆ—å·

å®ç°ï¼šå¯åºåˆ—åŒ–ç±»å¯ä»¥é€šè¿‡å£°æ˜åä¸ºâ€œserialVersionUIDâ€çš„å­—æ®µï¼ˆè¯¥å­—æ®µå¿…é¡»æ˜¯staticã€finalçš„longå‹å­—æ®µï¼‰æ˜¾å¼å£°æ˜å…¶è‡ªå·±çš„serialVerisonUID

```java
private static final long serialVersionUID = 1L;
```

-----------------------

#### å­˜å‚¨å¤šä¸ªå¯¹è±¡

ğŸ™‹â€ å½“æˆ‘ä»¬æƒ³åœ¨æ–‡ä»¶ä¸­ä¿å­˜å¤šä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥æŠŠå¤šæ­Œå¯¹è±¡å­˜å‚¨åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œå¯¹é›†åˆè¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–

æ­¥éª¤ï¼š

1. å®šä¹‰ä¸€ä¸ªå­˜å‚¨Personå¯¹è±¡çš„ArrayListé›†åˆ
2. å¾€ArrayListé›†åˆä¸­å­˜å‚¨Personå¯¹è±¡
3. åˆ›å»ºä¸€ä¸ªåºåˆ—åŒ–æµObjectOutputStreamå¯¹è±¡
4. ä½¿ç”¨ObjectOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeObjectï¼Œå¯¹é›†åˆè¿›è¡Œåºåˆ—åŒ–
5. åˆ›å»ºä¸€ä¸ªååºåˆ—åŒ–ObjectInputStreamå¯¹è±¡
6. ä½¿ç”¨è¯¥å¯¹è±¡çš„æ–¹æ³•readObejctè¯»å–æ–‡ä»¶ä¸­ä¿å­˜çš„é›†åˆ
7. æŠŠObejctç±»å‹çš„é›†åˆè½¬æ¢ä¸ºArrayListç±»å‹
8. éå†ArrayListé›†åˆ
9. é‡Šæ”¾èµ„æº

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException, ClassNotFoundException{
        ArrayList<Person> list = new ArrayList<>();
        list.add(new Person("tom",11));
        list.add(new Person("tim",12));
        list.add(new Person("alice",15));

        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream("a.txt"));
        oos.writeObject(list);

        ObjectInputStream ois = new ObjectInputStream(new FileInputStream("a.txt"));
        Object o = ois.readObject();

        ArrayList<Person> p = (ArrayList) o;
        for(Person i:p){
            System.out.println(i);
        }

        ois.close();
        oos.close();
    }
}
```



### æ‰“å°æµ

> java.io.PrintStream extends OutputStream

PrintStreamç‰¹ç‚¹ï¼š

* åªè´Ÿè´£æ•°æ®çš„è¾“å‡ºï¼Œä¸è´Ÿè´£æ•°æ®çš„è¯»å–
* æ°¸è¿œä¸ä¼šæŠ›å‡ºIOException
* æœ‰ç‰¹æœ‰çš„æ–¹æ³•ï¼šprintï¼Œprintln
  * void print(ä»»æ„ç±»å‹çš„å€¼)
  * void println(ä»»æ„ç±»å‹çš„å€¼)

æ„é€ æ–¹æ³•ï¼š

```java
PrintStream(File file)
PrintStream(OutputStream out)
PrintStream(String fileName)
//å‚æ•°éƒ½æ˜¯è¾“å‡ºçš„ç›®çš„åœ°
```

ğŸ™‹â€ å¦‚æœä½¿ç”¨ç»§æ‰¿è‡ªçˆ¶ç±»çš„æ–¹æ³•writeæ–¹æ³•å†™æ•°æ®ï¼Œé‚£ä¹ˆæŸ¥çœ‹æ•°æ®çš„æ—¶å€™ä¼šæŸ¥è¯¢ç¼–ç è¡¨ï¼š97->a

ğŸ™‹â€ å¦‚æœä½¿ç”¨è‡ªå·±ç‰¹æœ‰æ–¹æ³•print/printInæ–¹æ³•å†™æ•°æ®ï¼Œå†™çš„æ•°æ®åŸæ ·è¾“å‡ºï¼š97->97

```java
public class DemoProperties {
    public static void main(String[] args) throws IOException, ClassNotFoundException{
        PrintStream ps = new PrintStream("a.txt");
        ps.println("aaa");
        ps.write(97);	//a
        ps.println(97);	//97
    }
}
```

ç‰¹åˆ«æ–¹æ³•ï¼š

```java
static void setOut(PrintStream out)
//ä½¿ç”¨System.setOutæ–¹æ³•æ”¹å˜è¾“å‡ºè¯­å¥çš„ç›®çš„åœ°ï¼Œæ”¹ä¸ºå‚æ•°ä¸­ä¼ é€’çš„æ‰“å°æµçš„ç›®çš„åœ°
```



## ç½‘ç»œç¼–ç¨‹

è½¯ä»¶ç»“æ„ï¼š

* B/Sç»“æ„ï¼šBrowser/Serverç»“æ„
* C/Sç»“æ„ï¼šClient/Serverç»“æ„



### ç½‘ç»œé€šä¿¡åè®®

> é€šè¿‡è®¡ç®—æœºç½‘ç»œå¯ä»¥ä½¿å¤šå°è®¡ç®—æœºå®ç°é“¾æ¥ï¼Œä½äºåŒä¸€ä¸ªç½‘ç»œä¸­çš„è®¡ç®—æœºåœ¨è¿›è¡Œè¿æ¥å’Œé€šä¿¡æ—¶éœ€è¦éµå®ˆä¸€å®šçš„è§„åˆ™ï¼Œè¿™å°±å¥½æ¯”åœ¨é“è·¯ä¸­è¡Œé©¶çš„æ±½è½¦ä¸€å®šè¦éµå®ˆäº¤é€šè§„åˆ™ä¸€æ ·ã€‚
>
> åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œè¿™äº›è¿æ¥å’Œé€šä¿¡çš„è§„åˆ™è¢«æˆä¸ºç½‘è·¯é€šä¿¡åè®®ï¼Œå®ƒå¯¹æ•°æ®çš„ä¼ è¾“æ ¼å¼ã€ä¼ è¾“é€Ÿç‡ã€ä¼ è¾“æ­¥éª¤ç­‰åšäº†ç»Ÿä¸€è§„å®šï¼Œé€šä¿¡åŒæ–¹å¿…é¡»åŒæ—¶éµå®ˆæ‰èƒ½å®Œæˆæ•°æ®äº¤æ¢ã€‚

TCP/IPåè®®

> ä¼ è¾“æ§åˆ¶åè®®/å› ç‰¹ç½‘äº’è”åè®®ï¼ˆTransmission Control Protocol/Internet Protocolï¼‰ï¼Œæ˜¯Internetæœ€åŸºæœ¬ã€æœ€å¹¿æ³›çš„åè®®ã€‚å®ƒå®šä¹‰äº†è®¡ç®—æœºå¦‚ä½•è¿å…¥å› ç‰¹ç½‘ï¼Œä»¥åŠæ•°æ®å¦‚ä½•åœ¨ä»–ä»¬ä¹‹é—´ä¼ è¾“çš„æ ‡å‡†ã€‚
>
> ä»–çš„å†…éƒ¨åŒ…å«ä¸€ç³»åˆ—çš„ç”¨äºå¤„ç†æ•°æ®é€šä¿¡çš„åè®®ï¼Œå¹¶é‡‡ç”¨äº†4å±‚çš„åˆ†å±‚æ¨¡å‹ï¼Œæ¯ä¸€å±‚éƒ½å‘¼å«ä»–çš„ä¸‹ä¸€å±‚æ‰€æä¾›çš„åè®®æ¥å®Œæˆè‡ªå·±çš„éœ€æ±‚ã€‚

![image-20210113082512468](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113082512468.png)



#### ç½‘ç»œé€šä¿¡åè®®çš„åˆ†ç±»

* UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocolï¼‰

  * æ˜¯æ— è¿æ¥é€šä¿¡åè®®ï¼šåœ¨æ•°æ®ä¼ è¾“æ—¶ï¼Œæ•°æ®çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¸å»ºç«‹é€»è¾‘è¿æ¥ã€‚
    * å½“ä¸€å°è®¡ç®—æœºå‘å¦ä¸€å°è®¡ç®—æœºå‘é€æ•°æ®æ—¶ï¼Œå‘é€ç«¯ä¸ä¼šç¡®è®¤æ¥æ”¶ç«¯æ˜¯å¦å­˜åœ¨ï¼Œå°±ä¼šå‘å‡ºæ•°æ®ï¼ŒåŒæ ·æ¥æ”¶ç«¯åœ¨æ”¶åˆ°æ•°æ®æ—¶ï¼Œä¹Ÿä¸ä¼šå‘å‘é€ç«¯åé¦ˆæ˜¯å¦æ”¶åˆ°æ•°æ®ã€‚
  * æ¶ˆè€—èµ„æºå°ï¼Œé€šä¿¡æ•ˆç‡é«˜
    * æ‰€ä»¥å¸¸ç”¨äºéŸ³é¢‘ã€è§†é¢‘å’Œæ™®é€šæ•°æ®çš„ä¼ è¾“
  * ç”±äºUDPçš„é¢å‘æ— è¿æ¥æ€§ï¼Œä¸èƒ½ä¿è¯æ•°æ®çš„å®Œæ•´æ€§
    * å› æ­¤é‡è¦æ•°æ®ä¼ è¾“ä¸å»ºè®®ä½¿ç”¨UDP
  * å‘é€çš„æ•°æ®è¢«é™åˆ¶åœ¨64kbä»¥å†…ï¼Œè¶…å‡ºåˆ™ä¸èƒ½å‘é€

* TCPï¼šä¼ è¾“æ§åˆ¶åè®®ï¼ˆTransmission Control Protocolï¼‰

  * æ˜¯é¢å‘è¿æ¥çš„é€šä¿¡åè®®

    * ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯å»ºç«‹é€»è¾‘è¿æ¥ï¼Œç„¶åå†ä¼ è¾“æ•°æ®ï¼Œæä¾›äº†ä¸¤å°è®¡ç®—æœºä¹‹é—´å¯é æ— å·®é”™çš„æ•°æ®ä¼ è¾“

  * ç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œæ¯æ¬¡è¿æ¥çš„åˆ›å»ºéƒ½éœ€è¦ç»è¿‡â€œ3æ¬¡æ¡æ‰‹â€

    * ä¸‰æ¬¡æ¡æ‰‹ï¼šTCPåè®®ä¸­ï¼Œåœ¨å‘é€æ•°æ®çš„å‡†å¤‡é˜¶æ®µï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¸‰æ¬¡äº¤äº’ï¼Œä»¥ä¿éšœè¿æ¥çš„å¯é ã€‚

      * ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ã€‚
      * ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å›é€ä¸€ä¸ªå“åº”ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ”¶åˆ°äº†è¿æ¥è¯·æ±‚ã€‚
      * ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯å†æ¬¡å‘æœåŠ¡å™¨ç«¯å‘é€ç¡®è®¤ä¿¡æ¯ï¼Œç¡®è®¤è¿æ¥ï¼Œæ•´ä¸ªäº¤äº’è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚

      ![image-20210113084305595](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113084305595.png)

  * å¯ä»¥ä¿è¯ä¼ è¾“æ•°æ®çš„å®‰å…¨ï¼Œåº”ç”¨ååˆ†å¹¿æ³›ï¼Œå¦‚ä¸‹è½½æ–‡ä»¶ï¼Œæµè§ˆç½‘é¡µç­‰

#### ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ 

ä¸‰è¦ç´ ï¼š

* åè®®
* IPåœ°å€
* ç«¯å£å·

-----------------------------

##### IPåœ°å€

> * äº’è”ç½‘åè®®åœ°å€ï¼ˆInternet Protocol Addressï¼‰
> * ç”¨æ¥ç»™ç½‘ç»œä¸­çš„è®¡ç®—æœºè®¾å¤‡åšå”¯ä¸€çš„ç¼–å·

IPåœ°å€åˆ†ç±»ï¼š

* IPv4ï¼šæ˜¯ä¸€ä¸ª32ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œé€šå¸¸è¢«åˆ†ä¸º4ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºæˆ`a.b.c.d`çš„å½¢å¼ï¼Œä¾‹å¦‚192.168.65.100ï¼Œå…¶ä¸­a\b\c\déƒ½æ˜¯0~255ä¹‹é—´çš„åè¿›åˆ¶æ•´æ•°ï¼Œé‚£ä¹ˆæœ€å¤šå¯ä»¥è¡¨ç¤º42äº¿ä¸ª
* IPv6ï¼šIPåœ°å€éœ€æ±‚é‡è¶Šæ¥è¶Šå¤§ï¼Œåˆ†é…å˜å¾—ç´§å¼ ã€‚ä¸ºäº†æ‰©å¤§åœ°å€ç©ºé—´ï¼Œé€šè¿‡IPv6é‡æ–°å®šä¹‰åœ°å€ç©ºé—´ï¼Œé‡‡ç”¨128ä½åœ°å€é•¿åº¦ï¼Œæ¯16ä¸ªå­—èŠ‚ä¸€ç»„ï¼Œåˆ†æˆ8ç»„åå…­è¿›åˆ¶æ•°ï¼Œè¡¨ç¤ºæˆ`ABCD:EF01:2345:6789:ABCD:EF01:2345:6789`

å¸¸ç”¨å‘½ä»¤ï¼š

1. æŸ¥çœ‹æœ¬æœºIPåœ°å€ï¼Œåœ¨æ§åˆ¶å°è¾“å…¥ï¼š

```
ipconfig
```

2. æ£€æŸ¥ç½‘ç»œæ˜¯å¦è¿é€šï¼Œåœ¨æ§åˆ¶å°è¾“å…¥ï¼š

```
ping IPåœ°å€
ping 220.181.59.251
```

3. ç‰¹æ®Šçš„IPåœ°å€

   æœ¬æœºIPåœ°å€ï¼š

   * 127.0.0.1
   * localhost

   ```
   ping 127.0.0.1
   ping localhost
   ```



##### ç«¯å£å·

è®¡ç®—æœºä¸è®¡ç®—æœºä¹‹é—´çš„è¿æ¥ï¼Œä¾é IPå·è¿›è¡ŒæŸ¥æ‰¾ã€‚

è¿æ¥åè®¡ç®—æœº1å°†æ•°æ®ä¼ é€’ç»™è®¡ç®—æœº2ï¼Œä½†è®¡ç®—æœº1çš„QQæ•°æ®éœ€è¦æ‰¾åˆ°è®¡ç®—æœº2çš„QQå¯¹åº”ç€æ¥æ”¶æ•°æ®ï¼Œå¦‚ä½•ä¿è¯æ•°æ®åˆ°è¾¾å¦ä¸€å°è®¡ç®—æœºå¯ä»¥å‡†ç¡®åœ°æ‰¾åˆ°å¯¹æ–¹è®¡ç®—æœºä¸Šçš„è½¯ä»¶ï¼Œå°±éœ€è¦ç«¯å£å·æ¥å®ç°ã€‚

* ç«¯å£å·æ˜¯ä¸€ä¸ªé€»è¾‘ç«¯å£ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥çœ‹åˆ°ï¼Œå¯ä»¥ä½¿ç”¨ä¸€äº›è½¯ä»¶æŸ¥çœ‹ç«¯å£å·ã€‚
* å½“æˆ‘ä»¬ä½¿ç”¨ç½‘ç»œè½¯ä»¶ï¼Œæ‰“å¼€çš„æ—¶å€™**æ“ä½œç³»ç»Ÿå°±ä¼šä¸ºç½‘ç»œè½¯ä»¶åˆ†é…ä¸€ä¸ªéšæœºçš„ç«¯å£å·**ï¼Œæˆ–è€…ç½‘ç»œè½¯ä»¶**åœ¨æ‰“å¼€çš„æ—¶å€™å’Œç³»ç»Ÿè¦æŒ‡å®šçš„ç«¯å£å·**ã€‚
* ç«¯å£å·æ˜¯ç”±ä¸¤ä¸ªå­—èŠ‚ç»„æˆï¼Œå–å€¼èŒƒå›´åœ¨0~65535ä¹‹é—´

æ³¨æ„ï¼š

* 1024ä¹‹å‰çš„ç«¯å£å·å·²ç»è¢«ç³»ç»Ÿåˆ†é…ç»™å·²çŸ¥ç½‘ç»œè½¯ä»¶ï¼Œä¸èƒ½ä½¿ç”¨
* ç½‘ç»œè½¯ä»¶çš„ç«¯å£å·ä¸èƒ½é‡å¤

![image-20210113091456729](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113091456729.png)

ğŸ™‹â€ IPåœ°å€+ç«¯å£å·ï¼Œå¯ä»¥ä¿è¯æ•°æ®æ­£ç¡®æ— è¯¯çš„å‘é€åˆ°å¯¹æ–¹è®¡ç®—æœºçš„æŒ‡å®šè½¯ä»¶ä¸Š

ğŸ™‹â€ å¸¸ç”¨ç«¯å£å·ï¼š

1. ç½‘ç»œç«¯å£ â€”â€” 80
   * www.baidu.com:80
2. æ•°æ®åº“ï¼š
   * mysql â€”â€” 3306
   * oracle â€”â€” 1521
3. TomcatæœåŠ¡å™¨ â€”â€” 8080



### TCPé€šä¿¡ç¨‹åº

> TCPé€šä¿¡èƒ½å®ç°ä¸¤å°è®¡ç®—æœºä¹‹é—´çš„æ•°æ®äº¤äº’ã€‚
>
> é€šä¿¡çš„ä¸¤ç«¯ä¸¥æ ¼åŒºåˆ†ä¸ºï¼š
>
> 1. å®¢æˆ·ç«¯ï¼ˆClientï¼‰
> 2. æœåŠ¡ç«¯ï¼ˆServerï¼‰

ä¸¤ç«¯é€šä¿¡æ—¶æ­¥éª¤ï¼š

1. æœåŠ¡ç«¯ç¨‹åºï¼Œéœ€è¦äº‹å…ˆå¯åŠ¨ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥
2. å®¢æˆ·ç«¯ä¸»åŠ¨è¿æ¥æœåŠ¡å™¨ç«¯ï¼Œè¿æ¥æˆåŠŸæ‰èƒ½é€šä¿¡ï¼ŒæœåŠ¡ç«¯ä¸å¯ä»¥ä¸»åŠ¨è¿æ¥å®¢æˆ·ç«¯

![image-20210113103036070](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113103036070.png)

![image-20210113103513460](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113103513460.png)



åœ¨Javaä¸­ï¼Œæä¾›äº†ä¸¤ä¸ªç±»ç”¨äºå®ç°TCPé€šä¿¡ç¨‹åºï¼š

1. å®¢æˆ·ç«¯ï¼š`java.net.Socket`ç±»è¡¨ç¤ºï¼Œåˆ›å»º`socket`å¯¹è±¡ï¼Œå‘æœåŠ¡ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”è¯·æ±‚ï¼Œä¸¤è€…å»ºç«‹è¿æ¥å¼€å§‹é€šä¿¡
2. æœåŠ¡ç«¯ï¼š`java.net.ServerSocket`ç±»è¡¨ç¤ºï¼Œåˆ›å»º`ServerSocket`å¯¹è±¡ï¼Œç›¸å½“äºå¼€å¯ä¸€ä¸ªæœåŠ¡ï¼Œå¹¶ç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥

#### è¡¨ç¤ºå®¢æˆ·ç«¯çš„ç±»

java.net.Socket

> æ­¤ç±»å®ç°å®¢æˆ·ç«¯å¥—æ¥å­—ã€‚
>
> å¥—æ¥å­—ï¼šä¸¤å°æœºå™¨é—´é€šä¿¡çš„ç«¯ç‚¹ï¼Œæ˜¯åŒ…å«äº†IPåœ°å€å’Œç«¯å£å·çš„ç½‘ç»œå•ä½ã€‚

æ„é€ æ–¹æ³•ï¼š

```java
//åˆ›å»ºä¸€ä¸ªæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„æŒ‡å®šç«¯å£å·
Socket(String host, int port)
/*
* å‚æ•°ï¼š
* 	String hostï¼šæœåŠ¡å™¨ä¸»æœºçš„åç§°/æœåŠ¡å™¨çš„IPåœ°å€
*	int portï¼šæœåŠ¡å™¨çš„ç«¯å£å·
*/
```

æˆå‘˜æ–¹æ³•ï¼š

```java
OutputStream getOutputStream()	//è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµ
InputStream getInputStream()	//è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµ
void close()		//å…³é—­æ­¤å¥—æ¥å­—
```

å®ç°æ­¥éª¤ï¼š

1. åˆ›å»ºä¸€ä¸ªå®¢æˆ·ç«¯å¯¹è±¡socketï¼Œæ„é€ æ–¹æ³•ç»‘å®šæœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£å·
2. ä½¿ç”¨socketå¯¹è±¡ä¸­çš„æ–¹æ³•getOutputStream()è·å–ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡
3. ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeï¼Œç»™æœåŠ¡å™¨å‘é€æ•°æ®
4. ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getInputStream()è·å–ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡
5. ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•readï¼Œè¯»å–æœåŠ¡å™¨å›å†™çš„æ•°æ®
6. é‡Šæ”¾èµ„æºï¼ˆsocketï¼‰

æ³¨æ„ï¼š

1. å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¿›è¡Œäº¤äº’ï¼Œå¿…é¡»ä½¿ç”¨Socketä¸­æä¾›çš„ç½‘ç»œæµï¼Œä¸èƒ½ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„æµå¯¹è±¡
2. å½“åˆ›å»ºçš„å®¢æˆ·ç«¯å¯¹è±¡Socketçš„æ—¶å€™ï¼Œå°±å›å»è¯·æ±‚æœåŠ¡å™¨å’ŒæœåŠ¡å™¨è¿›è¡Œ3æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥é€šè·¯ï¼›å¦‚æœæœåŠ¡å™¨å·²ç»å¯åŠ¨ï¼Œå°±å¯ä»¥è¿›è¡Œäº¤äº’äº†

#### è¡¨ç¤ºæœåŠ¡å™¨çš„ç±»

java.net.ServerSocket

> æ­¤ç±»å®ç°æœåŠ¡å™¨å¥—æ¥å­—

æ„é€ æ–¹æ³•ï¼š

```java
//åˆ›å»ºç»‘å®šåˆ°ç‰¹å®šç«¯å£çš„æœåŠ¡å™¨å¥—æ¥å­—
ServerSocket(int port)
```

ğŸ™‹â€ æœåŠ¡å™¨ç«¯å¿…é¡»æ˜ç¡®ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯çŸ¥é“æ˜¯å“ªä¸ªå®¢æˆ·ç«¯è¯·æ±‚çš„æœåŠ¡å™¨

æ‰€ä»¥å­˜åœ¨acceptæ–¹æ³•è·å–åˆ°è¯·æ±‚çš„å®¢æˆ·ç«¯å¯¹è±¡Socket

æˆå‘˜æ–¹æ³•ï¼š

```java
//ä¾¦å¬å¹¶æ¥æ”¶åˆ°æ­¤å¥—æ¥å­—çš„è¿æ¥
Socket accept()
```

å®ç°æ­¥éª¤ï¼š

1. åˆ›å»ºæœåŠ¡å™¨ServerSocketå¯¹è±¡å’Œç³»ç»Ÿè¦æŒ‡å®šçš„ç«¯å£å·
2. ä½¿ç”¨ServerSocketå¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œè·å–åˆ°è¯·æ±‚çš„å®¢æˆ·ç«¯å¯¹è±¡Socket
3. ä½¿ç”¨Socketå¯¹è±¡ä¸­çš„æ–¹æ³•getInputStream()è·å–ç½‘ç»œå­—èŠ‚è¾“å…¥æµInputStream()
4. ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å…¥æµIntputStream()å¯¹è±¡ä¸­çš„æ–¹æ³•readï¼Œè¯»å–å®¢æˆ·ç«¯å‘é€çš„æ•°æ®
5. ä½¿ç”¨socketå¯¹è±¡ä¸­çš„æ–¹æ³•getOutputStream()è·å–ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡
6. ä½¿ç”¨ç½‘ç»œå­—èŠ‚è¾“å‡ºæµOutputStreamå¯¹è±¡ä¸­çš„æ–¹æ³•writeï¼Œç»™å®¢æˆ·ç«¯å›å†™æ•°æ®
7. é‡Šæ”¾èµ„æºï¼ˆSocketï¼ŒserverSocketï¼‰

ğŸ’¦ äº¤äº’ï¼š

```java
//å®¢æˆ·ç«¯
public class TCPClient {
    public static void main(String[] args) throws IOException {
        Socket socket = new Socket("127.0.0.1",8888);
        OutputStream os = socket.getOutputStream();
        os.write("ä½ å¥½æœåŠ¡å™¨".getBytes());
        InputStream is = socket.getInputStream();
        byte[] bytes = new byte[1024];
        int len = is.read(bytes);
        System.out.println(new String(bytes,0,len));
        socket.close();
    }
}

//æœåŠ¡å™¨
public class TCPServer{
    public static void main(String[] args) throws IOException {
        ServerSocket server = new ServerSocket(8888);
        Socket socket = server.accept();
        InputStream is = socket.getInputStream();
        byte[] bytes = new byte[1024];
        int len = is.read(bytes);
        System.out.println(new String(bytes,0,len));
        OutputStream os = socket.getOutputStream();
        os.write("getInfo".getBytes());
        server.close();
        socket.close();
    }
}
```

#### æ¡ˆä¾‹ â€”â€” TCPé€šä¿¡çš„æ–‡ä»¶ä¸Šä¼ 

![image-20210113135122241](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113135122241.png)

```java
//å®¢æˆ·ç«¯ä»£ç 
public class TCPClient {
    public static void main(String[] args) throws IOException{
        //åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡ï¼Œæ„é€ æ–¹æ³•ç»‘å®šæœåŠ¡å™¨ipåœ°å€å’Œç«¯å£å·
        Socket socket = new Socket("127.0.0.1",8888);
        //åˆ›å»ºæœ¬åœ°å­—èŠ‚è¾“å…¥æµï¼Œç»‘å®šæ•°æ®æº
        FileInputStream fis = new FileInputStream("E:\\æˆ‘çš„åšæœäº‘\\Java\\test.txt");
        //ç”¨å®¢æˆ·ç«¯å¯¹è±¡çš„æ–¹æ³•è·å–ç½‘ç»œå­—èŠ‚è¾“å‡ºæµå¯¹è±¡
        OutputStream o = socket.getOutputStream();
        //è¯»å–æœ¬åœ°å­—èŠ‚è¾“å…¥æµï¼Œå†™å…¥ç½‘ç»œå­—èŠ‚è¾“å‡ºæµ
        int len = 0;
        byte[] bytes = new byte[1024];
        while ((len = fis.read(bytes)) != -1) {
            o.write(bytes,0,len);
        }
		
        //ç»™æœåŠ¡å™¨ä¸€ä¸ªç»“æŸæ ‡è®°
        socket.shutdownOutput();
        //è¯»æœåŠ¡å™¨å›å†™çš„æ•°æ®
        InputStream is = socket.getInputStream();
        while ((len = is.read(bytes)) != -1) {
            System.out.println(new String(bytes,0,len));
        }

        fis.close();
        socket.close();
    }
}

//æœåŠ¡å™¨ä»£ç 
public class TCPServer {
    public static void main(String[] args) throws IOException {
        //åˆ›å»ºä¸€ä¸ªæœåŠ¡å™¨å¯¹è±¡
        ServerSocket server = new ServerSocket(8888);
        //ä½¿ç”¨æœåŠ¡å™¨å¯¹è±¡çš„æ–¹æ³•acceptè·å–å®¢æˆ·ç«¯socketå¯¹è±¡
        Socket socket = server.accept();
        //è¯»æ•°æ®
        InputStream is = socket.getInputStream();
        //å»ºç«‹æ–‡ä»¶å¤¹
        File file = new File("d:\\upload");
        if(!file.exists()){
            file.mkdir();
        }
        //ä¿å­˜æ•°æ®
        FileOutputStream fos = new FileOutputStream(file + "\\test.txt");
        int len = 0;
        byte[] bytes = new byte[1024];
        while((len=is.read(bytes))!=-1){
            fos.write(bytes,0,len);
        }
        //å›ä¼ æ•°æ®
        OutputStream os = socket.getOutputStream();
        os.write("Upload complete".getBytes());

        fos.close();
        socket.close();
        server.close();
    }
}
```

ğŸ™‹â€ å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯å¤šæ¬¡ä½¿ç”¨äº†readæ–¹æ³•ï¼Œä½†

![image-20210113151011363](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113151011363.png)

![image-20210113151018254](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113151018254.png)

readè¿›å…¥äº†é˜»å¡çŠ¶æ€ï¼Œå¯¼è‡´å›ä¼ åçš„å†…å®¹æ— æ³•æ˜¾ç¤ºï¼›

â— ä¸ºäº†è§£å†³é˜»å¡é—®é¢˜ï¼š

ğŸ™‹â€ åŠ å…¥äº†æ–¹æ³• `void shutdownInput()` ï¼Œåœ¨ä¸Šä¼ å®Œæ–‡ä»¶åï¼Œç»™æœåŠ¡å™¨ä¸€ä¸ªç»“æŸæ ‡è®°

```
public void shutdownOutput()
//ç¦ç”¨æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµ
//è¿›åº¦TCPå¥—æ¥å­—ï¼Œä»»ä½•ä»¥å‰å†™å…¥çš„æ•°æ®éƒ½å°†è¢«å‘é€ï¼Œå¹¶ä¸”åè·ŸTCPçš„æ­£å¸¸è¿æ¥ç»ˆæ­¢åºåˆ—ã€‚å¦‚æœåœ¨å¥—æ¥å­—ä¸Šè°ƒç”¨shutdownOutput()åå†™å…¥å¥—æ¥å­—è¾“å‡ºæµï¼Œåˆ™è¯¥æµå°†æŠ›å‡ºIOException
```

å¯¹äºè¯¥æ¡ˆä¾‹çš„ä¼˜åŒ–ï¼š

1. æœåŠ¡å™¨ä¸åº”è¯¥å®Œæˆä¸€æ¬¡å·¥ä½œåå°±å…³é—­ï¼Œåº”è¯¥è®¾è®¡ä¸ºç›‘å¬çŠ¶æ€ï¼ˆæ­»å¾ªç¯acceptæ–¹æ³•ä¸åé¢çš„ä¿å­˜æ•°æ®ç­‰ç­‰å†…å®¹ï¼‰ï¼ŒæœåŠ¡å™¨ä¸ç”¨å…³é—­ï¼ˆä¸ç”¨å†™server.close()ï¼‰
2. ä¿å­˜çš„æ–‡ä»¶åä¸åº”è¯¥å›ºå®šï¼Œå¯ä»¥ä½¿ç”¨å½“å‰æ—¶é—´çš„ç»„åˆ

```java
String fileName = "pic"+System.currentTimeMillis()+new Random().nextInt(999999)+".txt";
```



æ¨¡æ‹ŸBSæœåŠ¡å™¨åˆ†æï¼š

![image-20210113160142923](C:\Users\79260\AppData\Roaming\Typora\typora-user-images\image-20210113160142923.png)

